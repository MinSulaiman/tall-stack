var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",p=1,d=2,g=4,y=1,m=2,_=1,E=2,w=4,v=8,b=16,T=32,I=64,S=128,C=256,D=512,N=30,P="...",L=800,x=16,M=1,k=2,R=3,B=1/0,$=9007199254740991,H=17976931348623157e292,j=0/0,X=4294967295,ft=X-1,at=X>>>1,ht=[["ary",S],["bind",_],["bindKey",E],["curry",v],["curryRight",b],["flip",D],["partial",T],["partialRight",I],["rearg",C]],vt="[object Arguments]",ct="[object Array]",bt="[object AsyncFunction]",wt="[object Boolean]",Rt="[object Date]",Ot="[object DOMException]",ee="[object Error]",ae="[object Function]",an="[object GeneratorFunction]",me="[object Map]",qe="[object Number]",Yr="[object Null]",ln="[object Object]",qi="[object Promise]",Yi="[object Proxy]",Sn="[object RegExp]",Re="[object Set]",un="[object String]",Or="[object Symbol]",Uo="[object Undefined]",Dr="[object WeakMap]",Ki="[object WeakSet]",Lr="[object ArrayBuffer]",Xn="[object DataView]",dr="[object Float32Array]",In="[object Float64Array]",Zn="[object Int8Array]",Jn="[object Int16Array]",Cn="[object Int32Array]",Kr="[object Uint8Array]",Xi="[object Uint8ClampedArray]",ve="[object Uint16Array]",Nn="[object Uint32Array]",$o=/\b__p \+= '';/g,Go=/\b(__p \+=) '' \+/g,Zi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ji=/&(?:amp|lt|gt|quot|#39);/g,Qi=/[&<>"']/g,Mr=RegExp(Ji.source),J=RegExp(Qi.source),z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(yt.source),At=/^\s+/,Ct=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_t=/[()=,{}\[\]\/\s]/,q=/\\(\\)?/g,ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,Pe=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,He=/^(?:0|[1-9]\d*)$/,de=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tn=/($^)/,to=/['\n\r\u2028\u2029\\]/g,Xr="\\ud800-\\udfff",_i="\\u0300-\\u036f",Mp="\\ufe20-\\ufe2f",Fn="\\u20d0-\\u20ff",eo=_i+Mp+Fn,Ws="\\u2700-\\u27bf",kp="a-z\\xdf-\\xf6\\xf8-\\xff",Fw="\\xac\\xb1\\xd7\\xf7",Bw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Uw="\\u2000-\\u206f",$w=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pp="A-Z\\xc0-\\xd6\\xd8-\\xde",Np="\\ufe0e\\ufe0f",Fp=Fw+Bw+Uw+$w,Tc="['\u2019]",Gw="["+Xr+"]",Bp="["+Fp+"]",qa="["+eo+"]",Up="\\d+",Hw="["+Ws+"]",$p="["+kp+"]",Gp="[^"+Xr+Fp+Up+Ws+kp+Pp+"]",Sc="\\ud83c[\\udffb-\\udfff]",Vw="(?:"+qa+"|"+Sc+")",Hp="[^"+Xr+"]",Ic="(?:\\ud83c[\\udde6-\\uddff]){2}",Cc="[\\ud800-\\udbff][\\udc00-\\udfff]",Ho="["+Pp+"]",Vp="\\u200d",Wp="(?:"+$p+"|"+Gp+")",Ww="(?:"+Ho+"|"+Gp+")",jp="(?:"+Tc+"(?:d|ll|m|re|s|t|ve))?",zp="(?:"+Tc+"(?:D|LL|M|RE|S|T|VE))?",qp=Vw+"?",Yp="["+Np+"]?",jw="(?:"+Vp+"(?:"+[Hp,Ic,Cc].join("|")+")"+Yp+qp+")*",zw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kp=Yp+qp+jw,Yw="(?:"+[Hw,Ic,Cc].join("|")+")"+Kp,Kw="(?:"+[Hp+qa+"?",qa,Ic,Cc,Gw].join("|")+")",Xw=RegExp(Tc,"g"),Zw=RegExp(qa,"g"),xc=RegExp(Sc+"(?="+Sc+")|"+Kw+Kp,"g"),Jw=RegExp([Ho+"?"+$p+"+"+jp+"(?="+[Bp,Ho,"$"].join("|")+")",Ww+"+"+zp+"(?="+[Bp,Ho+Wp,"$"].join("|")+")",Ho+"?"+Wp+"+"+jp,Ho+"+"+zp,qw,zw,Up,Yw].join("|"),"g"),Qw=RegExp("["+Vp+Xr+eo+Np+"]"),tA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eA=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nA=-1,ge={};ge[dr]=ge[In]=ge[Zn]=ge[Jn]=ge[Cn]=ge[Kr]=ge[Xi]=ge[ve]=ge[Nn]=!0,ge[vt]=ge[ct]=ge[Lr]=ge[wt]=ge[Xn]=ge[Rt]=ge[ee]=ge[ae]=ge[me]=ge[qe]=ge[ln]=ge[Sn]=ge[Re]=ge[un]=ge[Dr]=!1;var pe={};pe[vt]=pe[ct]=pe[Lr]=pe[Xn]=pe[wt]=pe[Rt]=pe[dr]=pe[In]=pe[Zn]=pe[Jn]=pe[Cn]=pe[me]=pe[qe]=pe[ln]=pe[Sn]=pe[Re]=pe[un]=pe[Or]=pe[Kr]=pe[Xi]=pe[ve]=pe[Nn]=!0,pe[ee]=pe[ae]=pe[Dr]=!1;var rA={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},iA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},aA=parseFloat,lA=parseInt,Xp=typeof sa=="object"&&sa&&sa.Object===Object&&sa,uA=typeof self=="object"&&self&&self.Object===Object&&self,en=Xp||uA||Function("return this")(),Rc=e&&!e.nodeType&&e,no=Rc&&!0&&t&&!t.nodeType&&t,Zp=no&&no.exports===Rc,Oc=Zp&&Xp.process,Qn=function(){try{var Y=no&&no.require&&no.require("util").types;return Y||Oc&&Oc.binding&&Oc.binding("util")}catch{}}(),Jp=Qn&&Qn.isArrayBuffer,Qp=Qn&&Qn.isDate,tg=Qn&&Qn.isMap,eg=Qn&&Qn.isRegExp,ng=Qn&&Qn.isSet,rg=Qn&&Qn.isTypedArray;function Bn(Y,tt,Z){switch(Z.length){case 0:return Y.call(tt);case 1:return Y.call(tt,Z[0]);case 2:return Y.call(tt,Z[0],Z[1]);case 3:return Y.call(tt,Z[0],Z[1],Z[2])}return Y.apply(tt,Z)}function cA(Y,tt,Z,Tt){for(var $t=-1,re=Y==null?0:Y.length;++$t<re;){var Ve=Y[$t];tt(Tt,Ve,Z(Ve),Y)}return Tt}function tr(Y,tt){for(var Z=-1,Tt=Y==null?0:Y.length;++Z<Tt&&tt(Y[Z],Z,Y)!==!1;);return Y}function fA(Y,tt){for(var Z=Y==null?0:Y.length;Z--&&tt(Y[Z],Z,Y)!==!1;);return Y}function ig(Y,tt){for(var Z=-1,Tt=Y==null?0:Y.length;++Z<Tt;)if(!tt(Y[Z],Z,Y))return!1;return!0}function Ei(Y,tt){for(var Z=-1,Tt=Y==null?0:Y.length,$t=0,re=[];++Z<Tt;){var Ve=Y[Z];tt(Ve,Z,Y)&&(re[$t++]=Ve)}return re}function Ya(Y,tt){var Z=Y==null?0:Y.length;return!!Z&&Vo(Y,tt,0)>-1}function Dc(Y,tt,Z){for(var Tt=-1,$t=Y==null?0:Y.length;++Tt<$t;)if(Z(tt,Y[Tt]))return!0;return!1}function ye(Y,tt){for(var Z=-1,Tt=Y==null?0:Y.length,$t=Array(Tt);++Z<Tt;)$t[Z]=tt(Y[Z],Z,Y);return $t}function bi(Y,tt){for(var Z=-1,Tt=tt.length,$t=Y.length;++Z<Tt;)Y[$t+Z]=tt[Z];return Y}function Lc(Y,tt,Z,Tt){var $t=-1,re=Y==null?0:Y.length;for(Tt&&re&&(Z=Y[++$t]);++$t<re;)Z=tt(Z,Y[$t],$t,Y);return Z}function hA(Y,tt,Z,Tt){var $t=Y==null?0:Y.length;for(Tt&&$t&&(Z=Y[--$t]);$t--;)Z=tt(Z,Y[$t],$t,Y);return Z}function Mc(Y,tt){for(var Z=-1,Tt=Y==null?0:Y.length;++Z<Tt;)if(tt(Y[Z],Z,Y))return!0;return!1}var dA=kc("length");function pA(Y){return Y.split("")}function gA(Y){return Y.match(be)||[]}function og(Y,tt,Z){var Tt;return Z(Y,function($t,re,Ve){if(tt($t,re,Ve))return Tt=re,!1}),Tt}function Ka(Y,tt,Z,Tt){for(var $t=Y.length,re=Z+(Tt?1:-1);Tt?re--:++re<$t;)if(tt(Y[re],re,Y))return re;return-1}function Vo(Y,tt,Z){return tt===tt?CA(Y,tt,Z):Ka(Y,sg,Z)}function mA(Y,tt,Z,Tt){for(var $t=Z-1,re=Y.length;++$t<re;)if(Tt(Y[$t],tt))return $t;return-1}function sg(Y){return Y!==Y}function ag(Y,tt){var Z=Y==null?0:Y.length;return Z?Nc(Y,tt)/Z:j}function kc(Y){return function(tt){return tt==null?n:tt[Y]}}function Pc(Y){return function(tt){return Y==null?n:Y[tt]}}function lg(Y,tt,Z,Tt,$t){return $t(Y,function(re,Ve,ue){Z=Tt?(Tt=!1,re):tt(Z,re,Ve,ue)}),Z}function vA(Y,tt){var Z=Y.length;for(Y.sort(tt);Z--;)Y[Z]=Y[Z].value;return Y}function Nc(Y,tt){for(var Z,Tt=-1,$t=Y.length;++Tt<$t;){var re=tt(Y[Tt]);re!==n&&(Z=Z===n?re:Z+re)}return Z}function Fc(Y,tt){for(var Z=-1,Tt=Array(Y);++Z<Y;)Tt[Z]=tt(Z);return Tt}function yA(Y,tt){return ye(tt,function(Z){return[Z,Y[Z]]})}function ug(Y){return Y&&Y.slice(0,dg(Y)+1).replace(At,"")}function Un(Y){return function(tt){return Y(tt)}}function Bc(Y,tt){return ye(tt,function(Z){return Y[Z]})}function js(Y,tt){return Y.has(tt)}function cg(Y,tt){for(var Z=-1,Tt=Y.length;++Z<Tt&&Vo(tt,Y[Z],0)>-1;);return Z}function fg(Y,tt){for(var Z=Y.length;Z--&&Vo(tt,Y[Z],0)>-1;);return Z}function _A(Y,tt){for(var Z=Y.length,Tt=0;Z--;)Y[Z]===tt&&++Tt;return Tt}var EA=Pc(rA),bA=Pc(iA);function wA(Y){return"\\"+sA[Y]}function AA(Y,tt){return Y==null?n:Y[tt]}function Wo(Y){return Qw.test(Y)}function TA(Y){return tA.test(Y)}function SA(Y){for(var tt,Z=[];!(tt=Y.next()).done;)Z.push(tt.value);return Z}function Uc(Y){var tt=-1,Z=Array(Y.size);return Y.forEach(function(Tt,$t){Z[++tt]=[$t,Tt]}),Z}function hg(Y,tt){return function(Z){return Y(tt(Z))}}function wi(Y,tt){for(var Z=-1,Tt=Y.length,$t=0,re=[];++Z<Tt;){var Ve=Y[Z];(Ve===tt||Ve===h)&&(Y[Z]=h,re[$t++]=Z)}return re}function Xa(Y){var tt=-1,Z=Array(Y.size);return Y.forEach(function(Tt){Z[++tt]=Tt}),Z}function IA(Y){var tt=-1,Z=Array(Y.size);return Y.forEach(function(Tt){Z[++tt]=[Tt,Tt]}),Z}function CA(Y,tt,Z){for(var Tt=Z-1,$t=Y.length;++Tt<$t;)if(Y[Tt]===tt)return Tt;return-1}function xA(Y,tt,Z){for(var Tt=Z+1;Tt--;)if(Y[Tt]===tt)return Tt;return Tt}function jo(Y){return Wo(Y)?OA(Y):dA(Y)}function pr(Y){return Wo(Y)?DA(Y):pA(Y)}function dg(Y){for(var tt=Y.length;tt--&&Ct.test(Y.charAt(tt)););return tt}var RA=Pc(oA);function OA(Y){for(var tt=xc.lastIndex=0;xc.test(Y);)++tt;return tt}function DA(Y){return Y.match(xc)||[]}function LA(Y){return Y.match(Jw)||[]}var MA=function Y(tt){tt=tt==null?en:zo.defaults(en.Object(),tt,zo.pick(en,eA));var Z=tt.Array,Tt=tt.Date,$t=tt.Error,re=tt.Function,Ve=tt.Math,ue=tt.Object,$c=tt.RegExp,kA=tt.String,er=tt.TypeError,Za=Z.prototype,PA=re.prototype,qo=ue.prototype,Ja=tt["__core-js_shared__"],Qa=PA.toString,se=qo.hasOwnProperty,NA=0,pg=function(){var l=/[^.]+$/.exec(Ja&&Ja.keys&&Ja.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),tl=qo.toString,FA=Qa.call(ue),BA=en._,UA=$c("^"+Qa.call(se).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=Zp?tt.Buffer:n,Ai=tt.Symbol,nl=tt.Uint8Array,gg=el?el.allocUnsafe:n,rl=hg(ue.getPrototypeOf,ue),mg=ue.create,vg=qo.propertyIsEnumerable,il=Za.splice,yg=Ai?Ai.isConcatSpreadable:n,zs=Ai?Ai.iterator:n,ro=Ai?Ai.toStringTag:n,ol=function(){try{var l=lo(ue,"defineProperty");return l({},"",{}),l}catch{}}(),$A=tt.clearTimeout!==en.clearTimeout&&tt.clearTimeout,GA=Tt&&Tt.now!==en.Date.now&&Tt.now,HA=tt.setTimeout!==en.setTimeout&&tt.setTimeout,sl=Ve.ceil,al=Ve.floor,Gc=ue.getOwnPropertySymbols,VA=el?el.isBuffer:n,_g=tt.isFinite,WA=Za.join,jA=hg(ue.keys,ue),We=Ve.max,cn=Ve.min,zA=Tt.now,qA=tt.parseInt,Eg=Ve.random,YA=Za.reverse,Hc=lo(tt,"DataView"),qs=lo(tt,"Map"),Vc=lo(tt,"Promise"),Yo=lo(tt,"Set"),Ys=lo(tt,"WeakMap"),Ks=lo(ue,"create"),ll=Ys&&new Ys,Ko={},KA=uo(Hc),XA=uo(qs),ZA=uo(Vc),JA=uo(Yo),QA=uo(Ys),ul=Ai?Ai.prototype:n,Xs=ul?ul.valueOf:n,bg=ul?ul.toString:n;function U(l){if(Se(l)&&!Ht(l)&&!(l instanceof Jt)){if(l instanceof nr)return l;if(se.call(l,"__wrapped__"))return wm(l)}return new nr(l)}var Xo=function(){function l(){}return function(f){if(!Ae(f))return{};if(mg)return mg(f);l.prototype=f;var A=new l;return l.prototype=n,A}}();function cl(){}function nr(l,f){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}U.templateSettings={escape:z,evaluate:Q,interpolate:et,variable:"",imports:{_:U}},U.prototype=cl.prototype,U.prototype.constructor=U,nr.prototype=Xo(cl.prototype),nr.prototype.constructor=nr;function Jt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function tT(){var l=new Jt(this.__wrapped__);return l.__actions__=xn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=xn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=xn(this.__views__),l}function eT(){if(this.__filtered__){var l=new Jt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function nT(){var l=this.__wrapped__.value(),f=this.__dir__,A=Ht(l),O=f<0,F=A?l.length:0,G=pS(0,F,this.__views__),V=G.start,W=G.end,K=W-V,nt=O?W:V-1,rt=this.__iteratees__,st=rt.length,mt=0,It=cn(K,this.__takeCount__);if(!A||!O&&F==K&&It==K)return jg(l,this.__actions__);var Lt=[];t:for(;K--&&mt<It;){nt+=f;for(var jt=-1,Mt=l[nt];++jt<st;){var Xt=rt[jt],te=Xt.iteratee,Hn=Xt.type,gn=te(Mt);if(Hn==k)Mt=gn;else if(!gn){if(Hn==M)continue t;break t}}Lt[mt++]=Mt}return Lt}Jt.prototype=Xo(cl.prototype),Jt.prototype.constructor=Jt;function io(l){var f=-1,A=l==null?0:l.length;for(this.clear();++f<A;){var O=l[f];this.set(O[0],O[1])}}function rT(){this.__data__=Ks?Ks(null):{},this.size=0}function iT(l){var f=this.has(l)&&delete this.__data__[l];return this.size-=f?1:0,f}function oT(l){var f=this.__data__;if(Ks){var A=f[l];return A===u?n:A}return se.call(f,l)?f[l]:n}function sT(l){var f=this.__data__;return Ks?f[l]!==n:se.call(f,l)}function aT(l,f){var A=this.__data__;return this.size+=this.has(l)?0:1,A[l]=Ks&&f===n?u:f,this}io.prototype.clear=rT,io.prototype.delete=iT,io.prototype.get=oT,io.prototype.has=sT,io.prototype.set=aT;function Zr(l){var f=-1,A=l==null?0:l.length;for(this.clear();++f<A;){var O=l[f];this.set(O[0],O[1])}}function lT(){this.__data__=[],this.size=0}function uT(l){var f=this.__data__,A=fl(f,l);if(A<0)return!1;var O=f.length-1;return A==O?f.pop():il.call(f,A,1),--this.size,!0}function cT(l){var f=this.__data__,A=fl(f,l);return A<0?n:f[A][1]}function fT(l){return fl(this.__data__,l)>-1}function hT(l,f){var A=this.__data__,O=fl(A,l);return O<0?(++this.size,A.push([l,f])):A[O][1]=f,this}Zr.prototype.clear=lT,Zr.prototype.delete=uT,Zr.prototype.get=cT,Zr.prototype.has=fT,Zr.prototype.set=hT;function Jr(l){var f=-1,A=l==null?0:l.length;for(this.clear();++f<A;){var O=l[f];this.set(O[0],O[1])}}function dT(){this.size=0,this.__data__={hash:new io,map:new(qs||Zr),string:new io}}function pT(l){var f=Al(this,l).delete(l);return this.size-=f?1:0,f}function gT(l){return Al(this,l).get(l)}function mT(l){return Al(this,l).has(l)}function vT(l,f){var A=Al(this,l),O=A.size;return A.set(l,f),this.size+=A.size==O?0:1,this}Jr.prototype.clear=dT,Jr.prototype.delete=pT,Jr.prototype.get=gT,Jr.prototype.has=mT,Jr.prototype.set=vT;function oo(l){var f=-1,A=l==null?0:l.length;for(this.__data__=new Jr;++f<A;)this.add(l[f])}function yT(l){return this.__data__.set(l,u),this}function _T(l){return this.__data__.has(l)}oo.prototype.add=oo.prototype.push=yT,oo.prototype.has=_T;function gr(l){var f=this.__data__=new Zr(l);this.size=f.size}function ET(){this.__data__=new Zr,this.size=0}function bT(l){var f=this.__data__,A=f.delete(l);return this.size=f.size,A}function wT(l){return this.__data__.get(l)}function AT(l){return this.__data__.has(l)}function TT(l,f){var A=this.__data__;if(A instanceof Zr){var O=A.__data__;if(!qs||O.length<i-1)return O.push([l,f]),this.size=++A.size,this;A=this.__data__=new Jr(O)}return A.set(l,f),this.size=A.size,this}gr.prototype.clear=ET,gr.prototype.delete=bT,gr.prototype.get=wT,gr.prototype.has=AT,gr.prototype.set=TT;function wg(l,f){var A=Ht(l),O=!A&&co(l),F=!A&&!O&&xi(l),G=!A&&!O&&!F&&ts(l),V=A||O||F||G,W=V?Fc(l.length,kA):[],K=W.length;for(var nt in l)(f||se.call(l,nt))&&!(V&&(nt=="length"||F&&(nt=="offset"||nt=="parent")||G&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||ni(nt,K)))&&W.push(nt);return W}function Ag(l){var f=l.length;return f?l[tf(0,f-1)]:n}function ST(l,f){return Tl(xn(l),so(f,0,l.length))}function IT(l){return Tl(xn(l))}function Wc(l,f,A){(A!==n&&!mr(l[f],A)||A===n&&!(f in l))&&Qr(l,f,A)}function Zs(l,f,A){var O=l[f];(!(se.call(l,f)&&mr(O,A))||A===n&&!(f in l))&&Qr(l,f,A)}function fl(l,f){for(var A=l.length;A--;)if(mr(l[A][0],f))return A;return-1}function CT(l,f,A,O){return Ti(l,function(F,G,V){f(O,F,A(F),V)}),O}function Tg(l,f){return l&&Pr(f,Ye(f),l)}function xT(l,f){return l&&Pr(f,On(f),l)}function Qr(l,f,A){f=="__proto__"&&ol?ol(l,f,{configurable:!0,enumerable:!0,value:A,writable:!0}):l[f]=A}function jc(l,f){for(var A=-1,O=f.length,F=Z(O),G=l==null;++A<O;)F[A]=G?n:If(l,f[A]);return F}function so(l,f,A){return l===l&&(A!==n&&(l=l<=A?l:A),f!==n&&(l=l>=f?l:f)),l}function rr(l,f,A,O,F,G){var V,W=f&p,K=f&d,nt=f&g;if(A&&(V=F?A(l,O,F,G):A(l)),V!==n)return V;if(!Ae(l))return l;var rt=Ht(l);if(rt){if(V=mS(l),!W)return xn(l,V)}else{var st=fn(l),mt=st==ae||st==an;if(xi(l))return Yg(l,W);if(st==ln||st==vt||mt&&!F){if(V=K||mt?{}:dm(l),!W)return K?oS(l,xT(V,l)):iS(l,Tg(V,l))}else{if(!pe[st])return F?l:{};V=vS(l,st,W)}}G||(G=new gr);var It=G.get(l);if(It)return It;G.set(l,V),Hm(l)?l.forEach(function(Mt){V.add(rr(Mt,f,A,Mt,l,G))}):$m(l)&&l.forEach(function(Mt,Xt){V.set(Xt,rr(Mt,f,A,Xt,l,G))});var Lt=nt?K?hf:ff:K?On:Ye,jt=rt?n:Lt(l);return tr(jt||l,function(Mt,Xt){jt&&(Xt=Mt,Mt=l[Xt]),Zs(V,Xt,rr(Mt,f,A,Xt,l,G))}),V}function RT(l){var f=Ye(l);return function(A){return Sg(A,l,f)}}function Sg(l,f,A){var O=A.length;if(l==null)return!O;for(l=ue(l);O--;){var F=A[O],G=f[F],V=l[F];if(V===n&&!(F in l)||!G(V))return!1}return!0}function Ig(l,f,A){if(typeof l!="function")throw new er(s);return ia(function(){l.apply(n,A)},f)}function Js(l,f,A,O){var F=-1,G=Ya,V=!0,W=l.length,K=[],nt=f.length;if(!W)return K;A&&(f=ye(f,Un(A))),O?(G=Dc,V=!1):f.length>=i&&(G=js,V=!1,f=new oo(f));t:for(;++F<W;){var rt=l[F],st=A==null?rt:A(rt);if(rt=O||rt!==0?rt:0,V&&st===st){for(var mt=nt;mt--;)if(f[mt]===st)continue t;K.push(rt)}else G(f,st,O)||K.push(rt)}return K}var Ti=Qg(kr),Cg=Qg(qc,!0);function OT(l,f){var A=!0;return Ti(l,function(O,F,G){return A=!!f(O,F,G),A}),A}function hl(l,f,A){for(var O=-1,F=l.length;++O<F;){var G=l[O],V=f(G);if(V!=null&&(W===n?V===V&&!Gn(V):A(V,W)))var W=V,K=G}return K}function DT(l,f,A,O){var F=l.length;for(A=Wt(A),A<0&&(A=-A>F?0:F+A),O=O===n||O>F?F:Wt(O),O<0&&(O+=F),O=A>O?0:Wm(O);A<O;)l[A++]=f;return l}function xg(l,f){var A=[];return Ti(l,function(O,F,G){f(O,F,G)&&A.push(O)}),A}function nn(l,f,A,O,F){var G=-1,V=l.length;for(A||(A=_S),F||(F=[]);++G<V;){var W=l[G];f>0&&A(W)?f>1?nn(W,f-1,A,O,F):bi(F,W):O||(F[F.length]=W)}return F}var zc=tm(),Rg=tm(!0);function kr(l,f){return l&&zc(l,f,Ye)}function qc(l,f){return l&&Rg(l,f,Ye)}function dl(l,f){return Ei(f,function(A){return ri(l[A])})}function ao(l,f){f=Ii(f,l);for(var A=0,O=f.length;l!=null&&A<O;)l=l[Nr(f[A++])];return A&&A==O?l:n}function Og(l,f,A){var O=f(l);return Ht(l)?O:bi(O,A(l))}function dn(l){return l==null?l===n?Uo:Yr:ro&&ro in ue(l)?dS(l):IS(l)}function Yc(l,f){return l>f}function LT(l,f){return l!=null&&se.call(l,f)}function MT(l,f){return l!=null&&f in ue(l)}function kT(l,f,A){return l>=cn(f,A)&&l<We(f,A)}function Kc(l,f,A){for(var O=A?Dc:Ya,F=l[0].length,G=l.length,V=G,W=Z(G),K=1/0,nt=[];V--;){var rt=l[V];V&&f&&(rt=ye(rt,Un(f))),K=cn(rt.length,K),W[V]=!A&&(f||F>=120&&rt.length>=120)?new oo(V&&rt):n}rt=l[0];var st=-1,mt=W[0];t:for(;++st<F&&nt.length<K;){var It=rt[st],Lt=f?f(It):It;if(It=A||It!==0?It:0,!(mt?js(mt,Lt):O(nt,Lt,A))){for(V=G;--V;){var jt=W[V];if(!(jt?js(jt,Lt):O(l[V],Lt,A)))continue t}mt&&mt.push(Lt),nt.push(It)}}return nt}function PT(l,f,A,O){return kr(l,function(F,G,V){f(O,A(F),G,V)}),O}function Qs(l,f,A){f=Ii(f,l),l=vm(l,f);var O=l==null?l:l[Nr(or(f))];return O==null?n:Bn(O,l,A)}function Dg(l){return Se(l)&&dn(l)==vt}function NT(l){return Se(l)&&dn(l)==Lr}function FT(l){return Se(l)&&dn(l)==Rt}function ta(l,f,A,O,F){return l===f?!0:l==null||f==null||!Se(l)&&!Se(f)?l!==l&&f!==f:BT(l,f,A,O,ta,F)}function BT(l,f,A,O,F,G){var V=Ht(l),W=Ht(f),K=V?ct:fn(l),nt=W?ct:fn(f);K=K==vt?ln:K,nt=nt==vt?ln:nt;var rt=K==ln,st=nt==ln,mt=K==nt;if(mt&&xi(l)){if(!xi(f))return!1;V=!0,rt=!1}if(mt&&!rt)return G||(G=new gr),V||ts(l)?cm(l,f,A,O,F,G):fS(l,f,K,A,O,F,G);if(!(A&y)){var It=rt&&se.call(l,"__wrapped__"),Lt=st&&se.call(f,"__wrapped__");if(It||Lt){var jt=It?l.value():l,Mt=Lt?f.value():f;return G||(G=new gr),F(jt,Mt,A,O,G)}}return mt?(G||(G=new gr),hS(l,f,A,O,F,G)):!1}function UT(l){return Se(l)&&fn(l)==me}function Xc(l,f,A,O){var F=A.length,G=F,V=!O;if(l==null)return!G;for(l=ue(l);F--;){var W=A[F];if(V&&W[2]?W[1]!==l[W[0]]:!(W[0]in l))return!1}for(;++F<G;){W=A[F];var K=W[0],nt=l[K],rt=W[1];if(V&&W[2]){if(nt===n&&!(K in l))return!1}else{var st=new gr;if(O)var mt=O(nt,rt,K,l,f,st);if(!(mt===n?ta(rt,nt,y|m,O,st):mt))return!1}}return!0}function Lg(l){if(!Ae(l)||bS(l))return!1;var f=ri(l)?UA:Pe;return f.test(uo(l))}function $T(l){return Se(l)&&dn(l)==Sn}function GT(l){return Se(l)&&fn(l)==Re}function HT(l){return Se(l)&&Ol(l.length)&&!!ge[dn(l)]}function Mg(l){return typeof l=="function"?l:l==null?Dn:typeof l=="object"?Ht(l)?Ng(l[0],l[1]):Pg(l):ev(l)}function Zc(l){if(!ra(l))return jA(l);var f=[];for(var A in ue(l))se.call(l,A)&&A!="constructor"&&f.push(A);return f}function VT(l){if(!Ae(l))return SS(l);var f=ra(l),A=[];for(var O in l)O=="constructor"&&(f||!se.call(l,O))||A.push(O);return A}function Jc(l,f){return l<f}function kg(l,f){var A=-1,O=Rn(l)?Z(l.length):[];return Ti(l,function(F,G,V){O[++A]=f(F,G,V)}),O}function Pg(l){var f=pf(l);return f.length==1&&f[0][2]?gm(f[0][0],f[0][1]):function(A){return A===l||Xc(A,l,f)}}function Ng(l,f){return mf(l)&&pm(f)?gm(Nr(l),f):function(A){var O=If(A,l);return O===n&&O===f?Cf(A,l):ta(f,O,y|m)}}function pl(l,f,A,O,F){l!==f&&zc(f,function(G,V){if(F||(F=new gr),Ae(G))WT(l,f,V,A,pl,O,F);else{var W=O?O(yf(l,V),G,V+"",l,f,F):n;W===n&&(W=G),Wc(l,V,W)}},On)}function WT(l,f,A,O,F,G,V){var W=yf(l,A),K=yf(f,A),nt=V.get(K);if(nt){Wc(l,A,nt);return}var rt=G?G(W,K,A+"",l,f,V):n,st=rt===n;if(st){var mt=Ht(K),It=!mt&&xi(K),Lt=!mt&&!It&&ts(K);rt=K,mt||It||Lt?Ht(W)?rt=W:De(W)?rt=xn(W):It?(st=!1,rt=Yg(K,!0)):Lt?(st=!1,rt=Kg(K,!0)):rt=[]:oa(K)||co(K)?(rt=W,co(W)?rt=jm(W):(!Ae(W)||ri(W))&&(rt=dm(K))):st=!1}st&&(V.set(K,rt),F(rt,K,O,G,V),V.delete(K)),Wc(l,A,rt)}function Fg(l,f){var A=l.length;if(!!A)return f+=f<0?A:0,ni(f,A)?l[f]:n}function Bg(l,f,A){f.length?f=ye(f,function(G){return Ht(G)?function(V){return ao(V,G.length===1?G[0]:G)}:G}):f=[Dn];var O=-1;f=ye(f,Un(Dt()));var F=kg(l,function(G,V,W){var K=ye(f,function(nt){return nt(G)});return{criteria:K,index:++O,value:G}});return vA(F,function(G,V){return rS(G,V,A)})}function jT(l,f){return Ug(l,f,function(A,O){return Cf(l,O)})}function Ug(l,f,A){for(var O=-1,F=f.length,G={};++O<F;){var V=f[O],W=ao(l,V);A(W,V)&&ea(G,Ii(V,l),W)}return G}function zT(l){return function(f){return ao(f,l)}}function Qc(l,f,A,O){var F=O?mA:Vo,G=-1,V=f.length,W=l;for(l===f&&(f=xn(f)),A&&(W=ye(l,Un(A)));++G<V;)for(var K=0,nt=f[G],rt=A?A(nt):nt;(K=F(W,rt,K,O))>-1;)W!==l&&il.call(W,K,1),il.call(l,K,1);return l}function $g(l,f){for(var A=l?f.length:0,O=A-1;A--;){var F=f[A];if(A==O||F!==G){var G=F;ni(F)?il.call(l,F,1):rf(l,F)}}return l}function tf(l,f){return l+al(Eg()*(f-l+1))}function qT(l,f,A,O){for(var F=-1,G=We(sl((f-l)/(A||1)),0),V=Z(G);G--;)V[O?G:++F]=l,l+=A;return V}function ef(l,f){var A="";if(!l||f<1||f>$)return A;do f%2&&(A+=l),f=al(f/2),f&&(l+=l);while(f);return A}function qt(l,f){return _f(mm(l,f,Dn),l+"")}function YT(l){return Ag(es(l))}function KT(l,f){var A=es(l);return Tl(A,so(f,0,A.length))}function ea(l,f,A,O){if(!Ae(l))return l;f=Ii(f,l);for(var F=-1,G=f.length,V=G-1,W=l;W!=null&&++F<G;){var K=Nr(f[F]),nt=A;if(K==="__proto__"||K==="constructor"||K==="prototype")return l;if(F!=V){var rt=W[K];nt=O?O(rt,K,W):n,nt===n&&(nt=Ae(rt)?rt:ni(f[F+1])?[]:{})}Zs(W,K,nt),W=W[K]}return l}var Gg=ll?function(l,f){return ll.set(l,f),l}:Dn,XT=ol?function(l,f){return ol(l,"toString",{configurable:!0,enumerable:!1,value:Rf(f),writable:!0})}:Dn;function ZT(l){return Tl(es(l))}function ir(l,f,A){var O=-1,F=l.length;f<0&&(f=-f>F?0:F+f),A=A>F?F:A,A<0&&(A+=F),F=f>A?0:A-f>>>0,f>>>=0;for(var G=Z(F);++O<F;)G[O]=l[O+f];return G}function JT(l,f){var A;return Ti(l,function(O,F,G){return A=f(O,F,G),!A}),!!A}function gl(l,f,A){var O=0,F=l==null?O:l.length;if(typeof f=="number"&&f===f&&F<=at){for(;O<F;){var G=O+F>>>1,V=l[G];V!==null&&!Gn(V)&&(A?V<=f:V<f)?O=G+1:F=G}return F}return nf(l,f,Dn,A)}function nf(l,f,A,O){var F=0,G=l==null?0:l.length;if(G===0)return 0;f=A(f);for(var V=f!==f,W=f===null,K=Gn(f),nt=f===n;F<G;){var rt=al((F+G)/2),st=A(l[rt]),mt=st!==n,It=st===null,Lt=st===st,jt=Gn(st);if(V)var Mt=O||Lt;else nt?Mt=Lt&&(O||mt):W?Mt=Lt&&mt&&(O||!It):K?Mt=Lt&&mt&&!It&&(O||!jt):It||jt?Mt=!1:Mt=O?st<=f:st<f;Mt?F=rt+1:G=rt}return cn(G,ft)}function Hg(l,f){for(var A=-1,O=l.length,F=0,G=[];++A<O;){var V=l[A],W=f?f(V):V;if(!A||!mr(W,K)){var K=W;G[F++]=V===0?0:V}}return G}function Vg(l){return typeof l=="number"?l:Gn(l)?j:+l}function $n(l){if(typeof l=="string")return l;if(Ht(l))return ye(l,$n)+"";if(Gn(l))return bg?bg.call(l):"";var f=l+"";return f=="0"&&1/l==-B?"-0":f}function Si(l,f,A){var O=-1,F=Ya,G=l.length,V=!0,W=[],K=W;if(A)V=!1,F=Dc;else if(G>=i){var nt=f?null:uS(l);if(nt)return Xa(nt);V=!1,F=js,K=new oo}else K=f?[]:W;t:for(;++O<G;){var rt=l[O],st=f?f(rt):rt;if(rt=A||rt!==0?rt:0,V&&st===st){for(var mt=K.length;mt--;)if(K[mt]===st)continue t;f&&K.push(st),W.push(rt)}else F(K,st,A)||(K!==W&&K.push(st),W.push(rt))}return W}function rf(l,f){return f=Ii(f,l),l=vm(l,f),l==null||delete l[Nr(or(f))]}function Wg(l,f,A,O){return ea(l,f,A(ao(l,f)),O)}function ml(l,f,A,O){for(var F=l.length,G=O?F:-1;(O?G--:++G<F)&&f(l[G],G,l););return A?ir(l,O?0:G,O?G+1:F):ir(l,O?G+1:0,O?F:G)}function jg(l,f){var A=l;return A instanceof Jt&&(A=A.value()),Lc(f,function(O,F){return F.func.apply(F.thisArg,bi([O],F.args))},A)}function of(l,f,A){var O=l.length;if(O<2)return O?Si(l[0]):[];for(var F=-1,G=Z(O);++F<O;)for(var V=l[F],W=-1;++W<O;)W!=F&&(G[F]=Js(G[F]||V,l[W],f,A));return Si(nn(G,1),f,A)}function zg(l,f,A){for(var O=-1,F=l.length,G=f.length,V={};++O<F;){var W=O<G?f[O]:n;A(V,l[O],W)}return V}function sf(l){return De(l)?l:[]}function af(l){return typeof l=="function"?l:Dn}function Ii(l,f){return Ht(l)?l:mf(l,f)?[l]:bm(oe(l))}var QT=qt;function Ci(l,f,A){var O=l.length;return A=A===n?O:A,!f&&A>=O?l:ir(l,f,A)}var qg=$A||function(l){return en.clearTimeout(l)};function Yg(l,f){if(f)return l.slice();var A=l.length,O=gg?gg(A):new l.constructor(A);return l.copy(O),O}function lf(l){var f=new l.constructor(l.byteLength);return new nl(f).set(new nl(l)),f}function tS(l,f){var A=f?lf(l.buffer):l.buffer;return new l.constructor(A,l.byteOffset,l.byteLength)}function eS(l){var f=new l.constructor(l.source,pt.exec(l));return f.lastIndex=l.lastIndex,f}function nS(l){return Xs?ue(Xs.call(l)):{}}function Kg(l,f){var A=f?lf(l.buffer):l.buffer;return new l.constructor(A,l.byteOffset,l.length)}function Xg(l,f){if(l!==f){var A=l!==n,O=l===null,F=l===l,G=Gn(l),V=f!==n,W=f===null,K=f===f,nt=Gn(f);if(!W&&!nt&&!G&&l>f||G&&V&&K&&!W&&!nt||O&&V&&K||!A&&K||!F)return 1;if(!O&&!G&&!nt&&l<f||nt&&A&&F&&!O&&!G||W&&A&&F||!V&&F||!K)return-1}return 0}function rS(l,f,A){for(var O=-1,F=l.criteria,G=f.criteria,V=F.length,W=A.length;++O<V;){var K=Xg(F[O],G[O]);if(K){if(O>=W)return K;var nt=A[O];return K*(nt=="desc"?-1:1)}}return l.index-f.index}function Zg(l,f,A,O){for(var F=-1,G=l.length,V=A.length,W=-1,K=f.length,nt=We(G-V,0),rt=Z(K+nt),st=!O;++W<K;)rt[W]=f[W];for(;++F<V;)(st||F<G)&&(rt[A[F]]=l[F]);for(;nt--;)rt[W++]=l[F++];return rt}function Jg(l,f,A,O){for(var F=-1,G=l.length,V=-1,W=A.length,K=-1,nt=f.length,rt=We(G-W,0),st=Z(rt+nt),mt=!O;++F<rt;)st[F]=l[F];for(var It=F;++K<nt;)st[It+K]=f[K];for(;++V<W;)(mt||F<G)&&(st[It+A[V]]=l[F++]);return st}function xn(l,f){var A=-1,O=l.length;for(f||(f=Z(O));++A<O;)f[A]=l[A];return f}function Pr(l,f,A,O){var F=!A;A||(A={});for(var G=-1,V=f.length;++G<V;){var W=f[G],K=O?O(A[W],l[W],W,A,l):n;K===n&&(K=l[W]),F?Qr(A,W,K):Zs(A,W,K)}return A}function iS(l,f){return Pr(l,gf(l),f)}function oS(l,f){return Pr(l,fm(l),f)}function vl(l,f){return function(A,O){var F=Ht(A)?cA:CT,G=f?f():{};return F(A,l,Dt(O,2),G)}}function Zo(l){return qt(function(f,A){var O=-1,F=A.length,G=F>1?A[F-1]:n,V=F>2?A[2]:n;for(G=l.length>3&&typeof G=="function"?(F--,G):n,V&&pn(A[0],A[1],V)&&(G=F<3?n:G,F=1),f=ue(f);++O<F;){var W=A[O];W&&l(f,W,O,G)}return f})}function Qg(l,f){return function(A,O){if(A==null)return A;if(!Rn(A))return l(A,O);for(var F=A.length,G=f?F:-1,V=ue(A);(f?G--:++G<F)&&O(V[G],G,V)!==!1;);return A}}function tm(l){return function(f,A,O){for(var F=-1,G=ue(f),V=O(f),W=V.length;W--;){var K=V[l?W:++F];if(A(G[K],K,G)===!1)break}return f}}function sS(l,f,A){var O=f&_,F=na(l);function G(){var V=this&&this!==en&&this instanceof G?F:l;return V.apply(O?A:this,arguments)}return G}function em(l){return function(f){f=oe(f);var A=Wo(f)?pr(f):n,O=A?A[0]:f.charAt(0),F=A?Ci(A,1).join(""):f.slice(1);return O[l]()+F}}function Jo(l){return function(f){return Lc(Qm(Jm(f).replace(Xw,"")),l,"")}}function na(l){return function(){var f=arguments;switch(f.length){case 0:return new l;case 1:return new l(f[0]);case 2:return new l(f[0],f[1]);case 3:return new l(f[0],f[1],f[2]);case 4:return new l(f[0],f[1],f[2],f[3]);case 5:return new l(f[0],f[1],f[2],f[3],f[4]);case 6:return new l(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new l(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var A=Xo(l.prototype),O=l.apply(A,f);return Ae(O)?O:A}}function aS(l,f,A){var O=na(l);function F(){for(var G=arguments.length,V=Z(G),W=G,K=Qo(F);W--;)V[W]=arguments[W];var nt=G<3&&V[0]!==K&&V[G-1]!==K?[]:wi(V,K);if(G-=nt.length,G<A)return sm(l,f,yl,F.placeholder,n,V,nt,n,n,A-G);var rt=this&&this!==en&&this instanceof F?O:l;return Bn(rt,this,V)}return F}function nm(l){return function(f,A,O){var F=ue(f);if(!Rn(f)){var G=Dt(A,3);f=Ye(f),A=function(W){return G(F[W],W,F)}}var V=l(f,A,O);return V>-1?F[G?f[V]:V]:n}}function rm(l){return ei(function(f){var A=f.length,O=A,F=nr.prototype.thru;for(l&&f.reverse();O--;){var G=f[O];if(typeof G!="function")throw new er(s);if(F&&!V&&wl(G)=="wrapper")var V=new nr([],!0)}for(O=V?O:A;++O<A;){G=f[O];var W=wl(G),K=W=="wrapper"?df(G):n;K&&vf(K[0])&&K[1]==(S|v|T|C)&&!K[4].length&&K[9]==1?V=V[wl(K[0])].apply(V,K[3]):V=G.length==1&&vf(G)?V[W]():V.thru(G)}return function(){var nt=arguments,rt=nt[0];if(V&&nt.length==1&&Ht(rt))return V.plant(rt).value();for(var st=0,mt=A?f[st].apply(this,nt):rt;++st<A;)mt=f[st].call(this,mt);return mt}})}function yl(l,f,A,O,F,G,V,W,K,nt){var rt=f&S,st=f&_,mt=f&E,It=f&(v|b),Lt=f&D,jt=mt?n:na(l);function Mt(){for(var Xt=arguments.length,te=Z(Xt),Hn=Xt;Hn--;)te[Hn]=arguments[Hn];if(It)var gn=Qo(Mt),Vn=_A(te,gn);if(O&&(te=Zg(te,O,F,It)),G&&(te=Jg(te,G,V,It)),Xt-=Vn,It&&Xt<nt){var Le=wi(te,gn);return sm(l,f,yl,Mt.placeholder,A,te,Le,W,K,nt-Xt)}var vr=st?A:this,oi=mt?vr[l]:l;return Xt=te.length,W?te=CS(te,W):Lt&&Xt>1&&te.reverse(),rt&&K<Xt&&(te.length=K),this&&this!==en&&this instanceof Mt&&(oi=jt||na(oi)),oi.apply(vr,te)}return Mt}function im(l,f){return function(A,O){return PT(A,l,f(O),{})}}function _l(l,f){return function(A,O){var F;if(A===n&&O===n)return f;if(A!==n&&(F=A),O!==n){if(F===n)return O;typeof A=="string"||typeof O=="string"?(A=$n(A),O=$n(O)):(A=Vg(A),O=Vg(O)),F=l(A,O)}return F}}function uf(l){return ei(function(f){return f=ye(f,Un(Dt())),qt(function(A){var O=this;return l(f,function(F){return Bn(F,O,A)})})})}function El(l,f){f=f===n?" ":$n(f);var A=f.length;if(A<2)return A?ef(f,l):f;var O=ef(f,sl(l/jo(f)));return Wo(f)?Ci(pr(O),0,l).join(""):O.slice(0,l)}function lS(l,f,A,O){var F=f&_,G=na(l);function V(){for(var W=-1,K=arguments.length,nt=-1,rt=O.length,st=Z(rt+K),mt=this&&this!==en&&this instanceof V?G:l;++nt<rt;)st[nt]=O[nt];for(;K--;)st[nt++]=arguments[++W];return Bn(mt,F?A:this,st)}return V}function om(l){return function(f,A,O){return O&&typeof O!="number"&&pn(f,A,O)&&(A=O=n),f=ii(f),A===n?(A=f,f=0):A=ii(A),O=O===n?f<A?1:-1:ii(O),qT(f,A,O,l)}}function bl(l){return function(f,A){return typeof f=="string"&&typeof A=="string"||(f=sr(f),A=sr(A)),l(f,A)}}function sm(l,f,A,O,F,G,V,W,K,nt){var rt=f&v,st=rt?V:n,mt=rt?n:V,It=rt?G:n,Lt=rt?n:G;f|=rt?T:I,f&=~(rt?I:T),f&w||(f&=~(_|E));var jt=[l,f,F,It,st,Lt,mt,W,K,nt],Mt=A.apply(n,jt);return vf(l)&&ym(Mt,jt),Mt.placeholder=O,_m(Mt,l,f)}function cf(l){var f=Ve[l];return function(A,O){if(A=sr(A),O=O==null?0:cn(Wt(O),292),O&&_g(A)){var F=(oe(A)+"e").split("e"),G=f(F[0]+"e"+(+F[1]+O));return F=(oe(G)+"e").split("e"),+(F[0]+"e"+(+F[1]-O))}return f(A)}}var uS=Yo&&1/Xa(new Yo([,-0]))[1]==B?function(l){return new Yo(l)}:Lf;function am(l){return function(f){var A=fn(f);return A==me?Uc(f):A==Re?IA(f):yA(f,l(f))}}function ti(l,f,A,O,F,G,V,W){var K=f&E;if(!K&&typeof l!="function")throw new er(s);var nt=O?O.length:0;if(nt||(f&=~(T|I),O=F=n),V=V===n?V:We(Wt(V),0),W=W===n?W:Wt(W),nt-=F?F.length:0,f&I){var rt=O,st=F;O=F=n}var mt=K?n:df(l),It=[l,f,A,O,F,rt,st,G,V,W];if(mt&&TS(It,mt),l=It[0],f=It[1],A=It[2],O=It[3],F=It[4],W=It[9]=It[9]===n?K?0:l.length:We(It[9]-nt,0),!W&&f&(v|b)&&(f&=~(v|b)),!f||f==_)var Lt=sS(l,f,A);else f==v||f==b?Lt=aS(l,f,W):(f==T||f==(_|T))&&!F.length?Lt=lS(l,f,A,O):Lt=yl.apply(n,It);var jt=mt?Gg:ym;return _m(jt(Lt,It),l,f)}function lm(l,f,A,O){return l===n||mr(l,qo[A])&&!se.call(O,A)?f:l}function um(l,f,A,O,F,G){return Ae(l)&&Ae(f)&&(G.set(f,l),pl(l,f,n,um,G),G.delete(f)),l}function cS(l){return oa(l)?n:l}function cm(l,f,A,O,F,G){var V=A&y,W=l.length,K=f.length;if(W!=K&&!(V&&K>W))return!1;var nt=G.get(l),rt=G.get(f);if(nt&&rt)return nt==f&&rt==l;var st=-1,mt=!0,It=A&m?new oo:n;for(G.set(l,f),G.set(f,l);++st<W;){var Lt=l[st],jt=f[st];if(O)var Mt=V?O(jt,Lt,st,f,l,G):O(Lt,jt,st,l,f,G);if(Mt!==n){if(Mt)continue;mt=!1;break}if(It){if(!Mc(f,function(Xt,te){if(!js(It,te)&&(Lt===Xt||F(Lt,Xt,A,O,G)))return It.push(te)})){mt=!1;break}}else if(!(Lt===jt||F(Lt,jt,A,O,G))){mt=!1;break}}return G.delete(l),G.delete(f),mt}function fS(l,f,A,O,F,G,V){switch(A){case Xn:if(l.byteLength!=f.byteLength||l.byteOffset!=f.byteOffset)return!1;l=l.buffer,f=f.buffer;case Lr:return!(l.byteLength!=f.byteLength||!G(new nl(l),new nl(f)));case wt:case Rt:case qe:return mr(+l,+f);case ee:return l.name==f.name&&l.message==f.message;case Sn:case un:return l==f+"";case me:var W=Uc;case Re:var K=O&y;if(W||(W=Xa),l.size!=f.size&&!K)return!1;var nt=V.get(l);if(nt)return nt==f;O|=m,V.set(l,f);var rt=cm(W(l),W(f),O,F,G,V);return V.delete(l),rt;case Or:if(Xs)return Xs.call(l)==Xs.call(f)}return!1}function hS(l,f,A,O,F,G){var V=A&y,W=ff(l),K=W.length,nt=ff(f),rt=nt.length;if(K!=rt&&!V)return!1;for(var st=K;st--;){var mt=W[st];if(!(V?mt in f:se.call(f,mt)))return!1}var It=G.get(l),Lt=G.get(f);if(It&&Lt)return It==f&&Lt==l;var jt=!0;G.set(l,f),G.set(f,l);for(var Mt=V;++st<K;){mt=W[st];var Xt=l[mt],te=f[mt];if(O)var Hn=V?O(te,Xt,mt,f,l,G):O(Xt,te,mt,l,f,G);if(!(Hn===n?Xt===te||F(Xt,te,A,O,G):Hn)){jt=!1;break}Mt||(Mt=mt=="constructor")}if(jt&&!Mt){var gn=l.constructor,Vn=f.constructor;gn!=Vn&&"constructor"in l&&"constructor"in f&&!(typeof gn=="function"&&gn instanceof gn&&typeof Vn=="function"&&Vn instanceof Vn)&&(jt=!1)}return G.delete(l),G.delete(f),jt}function ei(l){return _f(mm(l,n,Sm),l+"")}function ff(l){return Og(l,Ye,gf)}function hf(l){return Og(l,On,fm)}var df=ll?function(l){return ll.get(l)}:Lf;function wl(l){for(var f=l.name+"",A=Ko[f],O=se.call(Ko,f)?A.length:0;O--;){var F=A[O],G=F.func;if(G==null||G==l)return F.name}return f}function Qo(l){var f=se.call(U,"placeholder")?U:l;return f.placeholder}function Dt(){var l=U.iteratee||Of;return l=l===Of?Mg:l,arguments.length?l(arguments[0],arguments[1]):l}function Al(l,f){var A=l.__data__;return ES(f)?A[typeof f=="string"?"string":"hash"]:A.map}function pf(l){for(var f=Ye(l),A=f.length;A--;){var O=f[A],F=l[O];f[A]=[O,F,pm(F)]}return f}function lo(l,f){var A=AA(l,f);return Lg(A)?A:n}function dS(l){var f=se.call(l,ro),A=l[ro];try{l[ro]=n;var O=!0}catch{}var F=tl.call(l);return O&&(f?l[ro]=A:delete l[ro]),F}var gf=Gc?function(l){return l==null?[]:(l=ue(l),Ei(Gc(l),function(f){return vg.call(l,f)}))}:Mf,fm=Gc?function(l){for(var f=[];l;)bi(f,gf(l)),l=rl(l);return f}:Mf,fn=dn;(Hc&&fn(new Hc(new ArrayBuffer(1)))!=Xn||qs&&fn(new qs)!=me||Vc&&fn(Vc.resolve())!=qi||Yo&&fn(new Yo)!=Re||Ys&&fn(new Ys)!=Dr)&&(fn=function(l){var f=dn(l),A=f==ln?l.constructor:n,O=A?uo(A):"";if(O)switch(O){case KA:return Xn;case XA:return me;case ZA:return qi;case JA:return Re;case QA:return Dr}return f});function pS(l,f,A){for(var O=-1,F=A.length;++O<F;){var G=A[O],V=G.size;switch(G.type){case"drop":l+=V;break;case"dropRight":f-=V;break;case"take":f=cn(f,l+V);break;case"takeRight":l=We(l,f-V);break}}return{start:l,end:f}}function gS(l){var f=l.match(Kt);return f?f[1].split(le):[]}function hm(l,f,A){f=Ii(f,l);for(var O=-1,F=f.length,G=!1;++O<F;){var V=Nr(f[O]);if(!(G=l!=null&&A(l,V)))break;l=l[V]}return G||++O!=F?G:(F=l==null?0:l.length,!!F&&Ol(F)&&ni(V,F)&&(Ht(l)||co(l)))}function mS(l){var f=l.length,A=new l.constructor(f);return f&&typeof l[0]=="string"&&se.call(l,"index")&&(A.index=l.index,A.input=l.input),A}function dm(l){return typeof l.constructor=="function"&&!ra(l)?Xo(rl(l)):{}}function vS(l,f,A){var O=l.constructor;switch(f){case Lr:return lf(l);case wt:case Rt:return new O(+l);case Xn:return tS(l,A);case dr:case In:case Zn:case Jn:case Cn:case Kr:case Xi:case ve:case Nn:return Kg(l,A);case me:return new O;case qe:case un:return new O(l);case Sn:return eS(l);case Re:return new O;case Or:return nS(l)}}function yS(l,f){var A=f.length;if(!A)return l;var O=A-1;return f[O]=(A>1?"& ":"")+f[O],f=f.join(A>2?", ":" "),l.replace(Ut,`{
/* [wrapped with `+f+`] */
`)}function _S(l){return Ht(l)||co(l)||!!(yg&&l&&l[yg])}function ni(l,f){var A=typeof l;return f=f==null?$:f,!!f&&(A=="number"||A!="symbol"&&He.test(l))&&l>-1&&l%1==0&&l<f}function pn(l,f,A){if(!Ae(A))return!1;var O=typeof f;return(O=="number"?Rn(A)&&ni(f,A.length):O=="string"&&f in A)?mr(A[f],l):!1}function mf(l,f){if(Ht(l))return!1;var A=typeof l;return A=="number"||A=="symbol"||A=="boolean"||l==null||Gn(l)?!0:ut.test(l)||!lt.test(l)||f!=null&&l in ue(f)}function ES(l){var f=typeof l;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?l!=="__proto__":l===null}function vf(l){var f=wl(l),A=U[f];if(typeof A!="function"||!(f in Jt.prototype))return!1;if(l===A)return!0;var O=df(A);return!!O&&l===O[0]}function bS(l){return!!pg&&pg in l}var wS=Ja?ri:kf;function ra(l){var f=l&&l.constructor,A=typeof f=="function"&&f.prototype||qo;return l===A}function pm(l){return l===l&&!Ae(l)}function gm(l,f){return function(A){return A==null?!1:A[l]===f&&(f!==n||l in ue(A))}}function AS(l){var f=xl(l,function(O){return A.size===c&&A.clear(),O}),A=f.cache;return f}function TS(l,f){var A=l[1],O=f[1],F=A|O,G=F<(_|E|S),V=O==S&&A==v||O==S&&A==C&&l[7].length<=f[8]||O==(S|C)&&f[7].length<=f[8]&&A==v;if(!(G||V))return l;O&_&&(l[2]=f[2],F|=A&_?0:w);var W=f[3];if(W){var K=l[3];l[3]=K?Zg(K,W,f[4]):W,l[4]=K?wi(l[3],h):f[4]}return W=f[5],W&&(K=l[5],l[5]=K?Jg(K,W,f[6]):W,l[6]=K?wi(l[5],h):f[6]),W=f[7],W&&(l[7]=W),O&S&&(l[8]=l[8]==null?f[8]:cn(l[8],f[8])),l[9]==null&&(l[9]=f[9]),l[0]=f[0],l[1]=F,l}function SS(l){var f=[];if(l!=null)for(var A in ue(l))f.push(A);return f}function IS(l){return tl.call(l)}function mm(l,f,A){return f=We(f===n?l.length-1:f,0),function(){for(var O=arguments,F=-1,G=We(O.length-f,0),V=Z(G);++F<G;)V[F]=O[f+F];F=-1;for(var W=Z(f+1);++F<f;)W[F]=O[F];return W[f]=A(V),Bn(l,this,W)}}function vm(l,f){return f.length<2?l:ao(l,ir(f,0,-1))}function CS(l,f){for(var A=l.length,O=cn(f.length,A),F=xn(l);O--;){var G=f[O];l[O]=ni(G,A)?F[G]:n}return l}function yf(l,f){if(!(f==="constructor"&&typeof l[f]=="function")&&f!="__proto__")return l[f]}var ym=Em(Gg),ia=HA||function(l,f){return en.setTimeout(l,f)},_f=Em(XT);function _m(l,f,A){var O=f+"";return _f(l,yS(O,xS(gS(O),A)))}function Em(l){var f=0,A=0;return function(){var O=zA(),F=x-(O-A);if(A=O,F>0){if(++f>=L)return arguments[0]}else f=0;return l.apply(n,arguments)}}function Tl(l,f){var A=-1,O=l.length,F=O-1;for(f=f===n?O:f;++A<f;){var G=tf(A,F),V=l[G];l[G]=l[A],l[A]=V}return l.length=f,l}var bm=AS(function(l){var f=[];return l.charCodeAt(0)===46&&f.push(""),l.replace(gt,function(A,O,F,G){f.push(F?G.replace(q,"$1"):O||A)}),f});function Nr(l){if(typeof l=="string"||Gn(l))return l;var f=l+"";return f=="0"&&1/l==-B?"-0":f}function uo(l){if(l!=null){try{return Qa.call(l)}catch{}try{return l+""}catch{}}return""}function xS(l,f){return tr(ht,function(A){var O="_."+A[0];f&A[1]&&!Ya(l,O)&&l.push(O)}),l.sort()}function wm(l){if(l instanceof Jt)return l.clone();var f=new nr(l.__wrapped__,l.__chain__);return f.__actions__=xn(l.__actions__),f.__index__=l.__index__,f.__values__=l.__values__,f}function RS(l,f,A){(A?pn(l,f,A):f===n)?f=1:f=We(Wt(f),0);var O=l==null?0:l.length;if(!O||f<1)return[];for(var F=0,G=0,V=Z(sl(O/f));F<O;)V[G++]=ir(l,F,F+=f);return V}function OS(l){for(var f=-1,A=l==null?0:l.length,O=0,F=[];++f<A;){var G=l[f];G&&(F[O++]=G)}return F}function DS(){var l=arguments.length;if(!l)return[];for(var f=Z(l-1),A=arguments[0],O=l;O--;)f[O-1]=arguments[O];return bi(Ht(A)?xn(A):[A],nn(f,1))}var LS=qt(function(l,f){return De(l)?Js(l,nn(f,1,De,!0)):[]}),MS=qt(function(l,f){var A=or(f);return De(A)&&(A=n),De(l)?Js(l,nn(f,1,De,!0),Dt(A,2)):[]}),kS=qt(function(l,f){var A=or(f);return De(A)&&(A=n),De(l)?Js(l,nn(f,1,De,!0),n,A):[]});function PS(l,f,A){var O=l==null?0:l.length;return O?(f=A||f===n?1:Wt(f),ir(l,f<0?0:f,O)):[]}function NS(l,f,A){var O=l==null?0:l.length;return O?(f=A||f===n?1:Wt(f),f=O-f,ir(l,0,f<0?0:f)):[]}function FS(l,f){return l&&l.length?ml(l,Dt(f,3),!0,!0):[]}function BS(l,f){return l&&l.length?ml(l,Dt(f,3),!0):[]}function US(l,f,A,O){var F=l==null?0:l.length;return F?(A&&typeof A!="number"&&pn(l,f,A)&&(A=0,O=F),DT(l,f,A,O)):[]}function Am(l,f,A){var O=l==null?0:l.length;if(!O)return-1;var F=A==null?0:Wt(A);return F<0&&(F=We(O+F,0)),Ka(l,Dt(f,3),F)}function Tm(l,f,A){var O=l==null?0:l.length;if(!O)return-1;var F=O-1;return A!==n&&(F=Wt(A),F=A<0?We(O+F,0):cn(F,O-1)),Ka(l,Dt(f,3),F,!0)}function Sm(l){var f=l==null?0:l.length;return f?nn(l,1):[]}function $S(l){var f=l==null?0:l.length;return f?nn(l,B):[]}function GS(l,f){var A=l==null?0:l.length;return A?(f=f===n?1:Wt(f),nn(l,f)):[]}function HS(l){for(var f=-1,A=l==null?0:l.length,O={};++f<A;){var F=l[f];O[F[0]]=F[1]}return O}function Im(l){return l&&l.length?l[0]:n}function VS(l,f,A){var O=l==null?0:l.length;if(!O)return-1;var F=A==null?0:Wt(A);return F<0&&(F=We(O+F,0)),Vo(l,f,F)}function WS(l){var f=l==null?0:l.length;return f?ir(l,0,-1):[]}var jS=qt(function(l){var f=ye(l,sf);return f.length&&f[0]===l[0]?Kc(f):[]}),zS=qt(function(l){var f=or(l),A=ye(l,sf);return f===or(A)?f=n:A.pop(),A.length&&A[0]===l[0]?Kc(A,Dt(f,2)):[]}),qS=qt(function(l){var f=or(l),A=ye(l,sf);return f=typeof f=="function"?f:n,f&&A.pop(),A.length&&A[0]===l[0]?Kc(A,n,f):[]});function YS(l,f){return l==null?"":WA.call(l,f)}function or(l){var f=l==null?0:l.length;return f?l[f-1]:n}function KS(l,f,A){var O=l==null?0:l.length;if(!O)return-1;var F=O;return A!==n&&(F=Wt(A),F=F<0?We(O+F,0):cn(F,O-1)),f===f?xA(l,f,F):Ka(l,sg,F,!0)}function XS(l,f){return l&&l.length?Fg(l,Wt(f)):n}var ZS=qt(Cm);function Cm(l,f){return l&&l.length&&f&&f.length?Qc(l,f):l}function JS(l,f,A){return l&&l.length&&f&&f.length?Qc(l,f,Dt(A,2)):l}function QS(l,f,A){return l&&l.length&&f&&f.length?Qc(l,f,n,A):l}var tI=ei(function(l,f){var A=l==null?0:l.length,O=jc(l,f);return $g(l,ye(f,function(F){return ni(F,A)?+F:F}).sort(Xg)),O});function eI(l,f){var A=[];if(!(l&&l.length))return A;var O=-1,F=[],G=l.length;for(f=Dt(f,3);++O<G;){var V=l[O];f(V,O,l)&&(A.push(V),F.push(O))}return $g(l,F),A}function Ef(l){return l==null?l:YA.call(l)}function nI(l,f,A){var O=l==null?0:l.length;return O?(A&&typeof A!="number"&&pn(l,f,A)?(f=0,A=O):(f=f==null?0:Wt(f),A=A===n?O:Wt(A)),ir(l,f,A)):[]}function rI(l,f){return gl(l,f)}function iI(l,f,A){return nf(l,f,Dt(A,2))}function oI(l,f){var A=l==null?0:l.length;if(A){var O=gl(l,f);if(O<A&&mr(l[O],f))return O}return-1}function sI(l,f){return gl(l,f,!0)}function aI(l,f,A){return nf(l,f,Dt(A,2),!0)}function lI(l,f){var A=l==null?0:l.length;if(A){var O=gl(l,f,!0)-1;if(mr(l[O],f))return O}return-1}function uI(l){return l&&l.length?Hg(l):[]}function cI(l,f){return l&&l.length?Hg(l,Dt(f,2)):[]}function fI(l){var f=l==null?0:l.length;return f?ir(l,1,f):[]}function hI(l,f,A){return l&&l.length?(f=A||f===n?1:Wt(f),ir(l,0,f<0?0:f)):[]}function dI(l,f,A){var O=l==null?0:l.length;return O?(f=A||f===n?1:Wt(f),f=O-f,ir(l,f<0?0:f,O)):[]}function pI(l,f){return l&&l.length?ml(l,Dt(f,3),!1,!0):[]}function gI(l,f){return l&&l.length?ml(l,Dt(f,3)):[]}var mI=qt(function(l){return Si(nn(l,1,De,!0))}),vI=qt(function(l){var f=or(l);return De(f)&&(f=n),Si(nn(l,1,De,!0),Dt(f,2))}),yI=qt(function(l){var f=or(l);return f=typeof f=="function"?f:n,Si(nn(l,1,De,!0),n,f)});function _I(l){return l&&l.length?Si(l):[]}function EI(l,f){return l&&l.length?Si(l,Dt(f,2)):[]}function bI(l,f){return f=typeof f=="function"?f:n,l&&l.length?Si(l,n,f):[]}function bf(l){if(!(l&&l.length))return[];var f=0;return l=Ei(l,function(A){if(De(A))return f=We(A.length,f),!0}),Fc(f,function(A){return ye(l,kc(A))})}function xm(l,f){if(!(l&&l.length))return[];var A=bf(l);return f==null?A:ye(A,function(O){return Bn(f,n,O)})}var wI=qt(function(l,f){return De(l)?Js(l,f):[]}),AI=qt(function(l){return of(Ei(l,De))}),TI=qt(function(l){var f=or(l);return De(f)&&(f=n),of(Ei(l,De),Dt(f,2))}),SI=qt(function(l){var f=or(l);return f=typeof f=="function"?f:n,of(Ei(l,De),n,f)}),II=qt(bf);function CI(l,f){return zg(l||[],f||[],Zs)}function xI(l,f){return zg(l||[],f||[],ea)}var RI=qt(function(l){var f=l.length,A=f>1?l[f-1]:n;return A=typeof A=="function"?(l.pop(),A):n,xm(l,A)});function Rm(l){var f=U(l);return f.__chain__=!0,f}function OI(l,f){return f(l),l}function Sl(l,f){return f(l)}var DI=ei(function(l){var f=l.length,A=f?l[0]:0,O=this.__wrapped__,F=function(G){return jc(G,l)};return f>1||this.__actions__.length||!(O instanceof Jt)||!ni(A)?this.thru(F):(O=O.slice(A,+A+(f?1:0)),O.__actions__.push({func:Sl,args:[F],thisArg:n}),new nr(O,this.__chain__).thru(function(G){return f&&!G.length&&G.push(n),G}))});function LI(){return Rm(this)}function MI(){return new nr(this.value(),this.__chain__)}function kI(){this.__values__===n&&(this.__values__=Vm(this.value()));var l=this.__index__>=this.__values__.length,f=l?n:this.__values__[this.__index__++];return{done:l,value:f}}function PI(){return this}function NI(l){for(var f,A=this;A instanceof cl;){var O=wm(A);O.__index__=0,O.__values__=n,f?F.__wrapped__=O:f=O;var F=O;A=A.__wrapped__}return F.__wrapped__=l,f}function FI(){var l=this.__wrapped__;if(l instanceof Jt){var f=l;return this.__actions__.length&&(f=new Jt(this)),f=f.reverse(),f.__actions__.push({func:Sl,args:[Ef],thisArg:n}),new nr(f,this.__chain__)}return this.thru(Ef)}function BI(){return jg(this.__wrapped__,this.__actions__)}var UI=vl(function(l,f,A){se.call(l,A)?++l[A]:Qr(l,A,1)});function $I(l,f,A){var O=Ht(l)?ig:OT;return A&&pn(l,f,A)&&(f=n),O(l,Dt(f,3))}function GI(l,f){var A=Ht(l)?Ei:xg;return A(l,Dt(f,3))}var HI=nm(Am),VI=nm(Tm);function WI(l,f){return nn(Il(l,f),1)}function jI(l,f){return nn(Il(l,f),B)}function zI(l,f,A){return A=A===n?1:Wt(A),nn(Il(l,f),A)}function Om(l,f){var A=Ht(l)?tr:Ti;return A(l,Dt(f,3))}function Dm(l,f){var A=Ht(l)?fA:Cg;return A(l,Dt(f,3))}var qI=vl(function(l,f,A){se.call(l,A)?l[A].push(f):Qr(l,A,[f])});function YI(l,f,A,O){l=Rn(l)?l:es(l),A=A&&!O?Wt(A):0;var F=l.length;return A<0&&(A=We(F+A,0)),Dl(l)?A<=F&&l.indexOf(f,A)>-1:!!F&&Vo(l,f,A)>-1}var KI=qt(function(l,f,A){var O=-1,F=typeof f=="function",G=Rn(l)?Z(l.length):[];return Ti(l,function(V){G[++O]=F?Bn(f,V,A):Qs(V,f,A)}),G}),XI=vl(function(l,f,A){Qr(l,A,f)});function Il(l,f){var A=Ht(l)?ye:kg;return A(l,Dt(f,3))}function ZI(l,f,A,O){return l==null?[]:(Ht(f)||(f=f==null?[]:[f]),A=O?n:A,Ht(A)||(A=A==null?[]:[A]),Bg(l,f,A))}var JI=vl(function(l,f,A){l[A?0:1].push(f)},function(){return[[],[]]});function QI(l,f,A){var O=Ht(l)?Lc:lg,F=arguments.length<3;return O(l,Dt(f,4),A,F,Ti)}function tC(l,f,A){var O=Ht(l)?hA:lg,F=arguments.length<3;return O(l,Dt(f,4),A,F,Cg)}function eC(l,f){var A=Ht(l)?Ei:xg;return A(l,Rl(Dt(f,3)))}function nC(l){var f=Ht(l)?Ag:YT;return f(l)}function rC(l,f,A){(A?pn(l,f,A):f===n)?f=1:f=Wt(f);var O=Ht(l)?ST:KT;return O(l,f)}function iC(l){var f=Ht(l)?IT:ZT;return f(l)}function oC(l){if(l==null)return 0;if(Rn(l))return Dl(l)?jo(l):l.length;var f=fn(l);return f==me||f==Re?l.size:Zc(l).length}function sC(l,f,A){var O=Ht(l)?Mc:JT;return A&&pn(l,f,A)&&(f=n),O(l,Dt(f,3))}var aC=qt(function(l,f){if(l==null)return[];var A=f.length;return A>1&&pn(l,f[0],f[1])?f=[]:A>2&&pn(f[0],f[1],f[2])&&(f=[f[0]]),Bg(l,nn(f,1),[])}),Cl=GA||function(){return en.Date.now()};function lC(l,f){if(typeof f!="function")throw new er(s);return l=Wt(l),function(){if(--l<1)return f.apply(this,arguments)}}function Lm(l,f,A){return f=A?n:f,f=l&&f==null?l.length:f,ti(l,S,n,n,n,n,f)}function Mm(l,f){var A;if(typeof f!="function")throw new er(s);return l=Wt(l),function(){return--l>0&&(A=f.apply(this,arguments)),l<=1&&(f=n),A}}var wf=qt(function(l,f,A){var O=_;if(A.length){var F=wi(A,Qo(wf));O|=T}return ti(l,O,f,A,F)}),km=qt(function(l,f,A){var O=_|E;if(A.length){var F=wi(A,Qo(km));O|=T}return ti(f,O,l,A,F)});function Pm(l,f,A){f=A?n:f;var O=ti(l,v,n,n,n,n,n,f);return O.placeholder=Pm.placeholder,O}function Nm(l,f,A){f=A?n:f;var O=ti(l,b,n,n,n,n,n,f);return O.placeholder=Nm.placeholder,O}function Fm(l,f,A){var O,F,G,V,W,K,nt=0,rt=!1,st=!1,mt=!0;if(typeof l!="function")throw new er(s);f=sr(f)||0,Ae(A)&&(rt=!!A.leading,st="maxWait"in A,G=st?We(sr(A.maxWait)||0,f):G,mt="trailing"in A?!!A.trailing:mt);function It(Le){var vr=O,oi=F;return O=F=n,nt=Le,V=l.apply(oi,vr),V}function Lt(Le){return nt=Le,W=ia(Xt,f),rt?It(Le):V}function jt(Le){var vr=Le-K,oi=Le-nt,nv=f-vr;return st?cn(nv,G-oi):nv}function Mt(Le){var vr=Le-K,oi=Le-nt;return K===n||vr>=f||vr<0||st&&oi>=G}function Xt(){var Le=Cl();if(Mt(Le))return te(Le);W=ia(Xt,jt(Le))}function te(Le){return W=n,mt&&O?It(Le):(O=F=n,V)}function Hn(){W!==n&&qg(W),nt=0,O=K=F=W=n}function gn(){return W===n?V:te(Cl())}function Vn(){var Le=Cl(),vr=Mt(Le);if(O=arguments,F=this,K=Le,vr){if(W===n)return Lt(K);if(st)return qg(W),W=ia(Xt,f),It(K)}return W===n&&(W=ia(Xt,f)),V}return Vn.cancel=Hn,Vn.flush=gn,Vn}var uC=qt(function(l,f){return Ig(l,1,f)}),cC=qt(function(l,f,A){return Ig(l,sr(f)||0,A)});function fC(l){return ti(l,D)}function xl(l,f){if(typeof l!="function"||f!=null&&typeof f!="function")throw new er(s);var A=function(){var O=arguments,F=f?f.apply(this,O):O[0],G=A.cache;if(G.has(F))return G.get(F);var V=l.apply(this,O);return A.cache=G.set(F,V)||G,V};return A.cache=new(xl.Cache||Jr),A}xl.Cache=Jr;function Rl(l){if(typeof l!="function")throw new er(s);return function(){var f=arguments;switch(f.length){case 0:return!l.call(this);case 1:return!l.call(this,f[0]);case 2:return!l.call(this,f[0],f[1]);case 3:return!l.call(this,f[0],f[1],f[2])}return!l.apply(this,f)}}function hC(l){return Mm(2,l)}var dC=QT(function(l,f){f=f.length==1&&Ht(f[0])?ye(f[0],Un(Dt())):ye(nn(f,1),Un(Dt()));var A=f.length;return qt(function(O){for(var F=-1,G=cn(O.length,A);++F<G;)O[F]=f[F].call(this,O[F]);return Bn(l,this,O)})}),Af=qt(function(l,f){var A=wi(f,Qo(Af));return ti(l,T,n,f,A)}),Bm=qt(function(l,f){var A=wi(f,Qo(Bm));return ti(l,I,n,f,A)}),pC=ei(function(l,f){return ti(l,C,n,n,n,f)});function gC(l,f){if(typeof l!="function")throw new er(s);return f=f===n?f:Wt(f),qt(l,f)}function mC(l,f){if(typeof l!="function")throw new er(s);return f=f==null?0:We(Wt(f),0),qt(function(A){var O=A[f],F=Ci(A,0,f);return O&&bi(F,O),Bn(l,this,F)})}function vC(l,f,A){var O=!0,F=!0;if(typeof l!="function")throw new er(s);return Ae(A)&&(O="leading"in A?!!A.leading:O,F="trailing"in A?!!A.trailing:F),Fm(l,f,{leading:O,maxWait:f,trailing:F})}function yC(l){return Lm(l,1)}function _C(l,f){return Af(af(f),l)}function EC(){if(!arguments.length)return[];var l=arguments[0];return Ht(l)?l:[l]}function bC(l){return rr(l,g)}function wC(l,f){return f=typeof f=="function"?f:n,rr(l,g,f)}function AC(l){return rr(l,p|g)}function TC(l,f){return f=typeof f=="function"?f:n,rr(l,p|g,f)}function SC(l,f){return f==null||Sg(l,f,Ye(f))}function mr(l,f){return l===f||l!==l&&f!==f}var IC=bl(Yc),CC=bl(function(l,f){return l>=f}),co=Dg(function(){return arguments}())?Dg:function(l){return Se(l)&&se.call(l,"callee")&&!vg.call(l,"callee")},Ht=Z.isArray,xC=Jp?Un(Jp):NT;function Rn(l){return l!=null&&Ol(l.length)&&!ri(l)}function De(l){return Se(l)&&Rn(l)}function RC(l){return l===!0||l===!1||Se(l)&&dn(l)==wt}var xi=VA||kf,OC=Qp?Un(Qp):FT;function DC(l){return Se(l)&&l.nodeType===1&&!oa(l)}function LC(l){if(l==null)return!0;if(Rn(l)&&(Ht(l)||typeof l=="string"||typeof l.splice=="function"||xi(l)||ts(l)||co(l)))return!l.length;var f=fn(l);if(f==me||f==Re)return!l.size;if(ra(l))return!Zc(l).length;for(var A in l)if(se.call(l,A))return!1;return!0}function MC(l,f){return ta(l,f)}function kC(l,f,A){A=typeof A=="function"?A:n;var O=A?A(l,f):n;return O===n?ta(l,f,n,A):!!O}function Tf(l){if(!Se(l))return!1;var f=dn(l);return f==ee||f==Ot||typeof l.message=="string"&&typeof l.name=="string"&&!oa(l)}function PC(l){return typeof l=="number"&&_g(l)}function ri(l){if(!Ae(l))return!1;var f=dn(l);return f==ae||f==an||f==bt||f==Yi}function Um(l){return typeof l=="number"&&l==Wt(l)}function Ol(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=$}function Ae(l){var f=typeof l;return l!=null&&(f=="object"||f=="function")}function Se(l){return l!=null&&typeof l=="object"}var $m=tg?Un(tg):UT;function NC(l,f){return l===f||Xc(l,f,pf(f))}function FC(l,f,A){return A=typeof A=="function"?A:n,Xc(l,f,pf(f),A)}function BC(l){return Gm(l)&&l!=+l}function UC(l){if(wS(l))throw new $t(o);return Lg(l)}function $C(l){return l===null}function GC(l){return l==null}function Gm(l){return typeof l=="number"||Se(l)&&dn(l)==qe}function oa(l){if(!Se(l)||dn(l)!=ln)return!1;var f=rl(l);if(f===null)return!0;var A=se.call(f,"constructor")&&f.constructor;return typeof A=="function"&&A instanceof A&&Qa.call(A)==FA}var Sf=eg?Un(eg):$T;function HC(l){return Um(l)&&l>=-$&&l<=$}var Hm=ng?Un(ng):GT;function Dl(l){return typeof l=="string"||!Ht(l)&&Se(l)&&dn(l)==un}function Gn(l){return typeof l=="symbol"||Se(l)&&dn(l)==Or}var ts=rg?Un(rg):HT;function VC(l){return l===n}function WC(l){return Se(l)&&fn(l)==Dr}function jC(l){return Se(l)&&dn(l)==Ki}var zC=bl(Jc),qC=bl(function(l,f){return l<=f});function Vm(l){if(!l)return[];if(Rn(l))return Dl(l)?pr(l):xn(l);if(zs&&l[zs])return SA(l[zs]());var f=fn(l),A=f==me?Uc:f==Re?Xa:es;return A(l)}function ii(l){if(!l)return l===0?l:0;if(l=sr(l),l===B||l===-B){var f=l<0?-1:1;return f*H}return l===l?l:0}function Wt(l){var f=ii(l),A=f%1;return f===f?A?f-A:f:0}function Wm(l){return l?so(Wt(l),0,X):0}function sr(l){if(typeof l=="number")return l;if(Gn(l))return j;if(Ae(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=Ae(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=ug(l);var A=Oe.test(l);return A||we.test(l)?lA(l.slice(2),A?2:8):zt.test(l)?j:+l}function jm(l){return Pr(l,On(l))}function YC(l){return l?so(Wt(l),-$,$):l===0?l:0}function oe(l){return l==null?"":$n(l)}var KC=Zo(function(l,f){if(ra(f)||Rn(f)){Pr(f,Ye(f),l);return}for(var A in f)se.call(f,A)&&Zs(l,A,f[A])}),zm=Zo(function(l,f){Pr(f,On(f),l)}),Ll=Zo(function(l,f,A,O){Pr(f,On(f),l,O)}),XC=Zo(function(l,f,A,O){Pr(f,Ye(f),l,O)}),ZC=ei(jc);function JC(l,f){var A=Xo(l);return f==null?A:Tg(A,f)}var QC=qt(function(l,f){l=ue(l);var A=-1,O=f.length,F=O>2?f[2]:n;for(F&&pn(f[0],f[1],F)&&(O=1);++A<O;)for(var G=f[A],V=On(G),W=-1,K=V.length;++W<K;){var nt=V[W],rt=l[nt];(rt===n||mr(rt,qo[nt])&&!se.call(l,nt))&&(l[nt]=G[nt])}return l}),tx=qt(function(l){return l.push(n,um),Bn(qm,n,l)});function ex(l,f){return og(l,Dt(f,3),kr)}function nx(l,f){return og(l,Dt(f,3),qc)}function rx(l,f){return l==null?l:zc(l,Dt(f,3),On)}function ix(l,f){return l==null?l:Rg(l,Dt(f,3),On)}function ox(l,f){return l&&kr(l,Dt(f,3))}function sx(l,f){return l&&qc(l,Dt(f,3))}function ax(l){return l==null?[]:dl(l,Ye(l))}function lx(l){return l==null?[]:dl(l,On(l))}function If(l,f,A){var O=l==null?n:ao(l,f);return O===n?A:O}function ux(l,f){return l!=null&&hm(l,f,LT)}function Cf(l,f){return l!=null&&hm(l,f,MT)}var cx=im(function(l,f,A){f!=null&&typeof f.toString!="function"&&(f=tl.call(f)),l[f]=A},Rf(Dn)),fx=im(function(l,f,A){f!=null&&typeof f.toString!="function"&&(f=tl.call(f)),se.call(l,f)?l[f].push(A):l[f]=[A]},Dt),hx=qt(Qs);function Ye(l){return Rn(l)?wg(l):Zc(l)}function On(l){return Rn(l)?wg(l,!0):VT(l)}function dx(l,f){var A={};return f=Dt(f,3),kr(l,function(O,F,G){Qr(A,f(O,F,G),O)}),A}function px(l,f){var A={};return f=Dt(f,3),kr(l,function(O,F,G){Qr(A,F,f(O,F,G))}),A}var gx=Zo(function(l,f,A){pl(l,f,A)}),qm=Zo(function(l,f,A,O){pl(l,f,A,O)}),mx=ei(function(l,f){var A={};if(l==null)return A;var O=!1;f=ye(f,function(G){return G=Ii(G,l),O||(O=G.length>1),G}),Pr(l,hf(l),A),O&&(A=rr(A,p|d|g,cS));for(var F=f.length;F--;)rf(A,f[F]);return A});function vx(l,f){return Ym(l,Rl(Dt(f)))}var yx=ei(function(l,f){return l==null?{}:jT(l,f)});function Ym(l,f){if(l==null)return{};var A=ye(hf(l),function(O){return[O]});return f=Dt(f),Ug(l,A,function(O,F){return f(O,F[0])})}function _x(l,f,A){f=Ii(f,l);var O=-1,F=f.length;for(F||(F=1,l=n);++O<F;){var G=l==null?n:l[Nr(f[O])];G===n&&(O=F,G=A),l=ri(G)?G.call(l):G}return l}function Ex(l,f,A){return l==null?l:ea(l,f,A)}function bx(l,f,A,O){return O=typeof O=="function"?O:n,l==null?l:ea(l,f,A,O)}var Km=am(Ye),Xm=am(On);function wx(l,f,A){var O=Ht(l),F=O||xi(l)||ts(l);if(f=Dt(f,4),A==null){var G=l&&l.constructor;F?A=O?new G:[]:Ae(l)?A=ri(G)?Xo(rl(l)):{}:A={}}return(F?tr:kr)(l,function(V,W,K){return f(A,V,W,K)}),A}function Ax(l,f){return l==null?!0:rf(l,f)}function Tx(l,f,A){return l==null?l:Wg(l,f,af(A))}function Sx(l,f,A,O){return O=typeof O=="function"?O:n,l==null?l:Wg(l,f,af(A),O)}function es(l){return l==null?[]:Bc(l,Ye(l))}function Ix(l){return l==null?[]:Bc(l,On(l))}function Cx(l,f,A){return A===n&&(A=f,f=n),A!==n&&(A=sr(A),A=A===A?A:0),f!==n&&(f=sr(f),f=f===f?f:0),so(sr(l),f,A)}function xx(l,f,A){return f=ii(f),A===n?(A=f,f=0):A=ii(A),l=sr(l),kT(l,f,A)}function Rx(l,f,A){if(A&&typeof A!="boolean"&&pn(l,f,A)&&(f=A=n),A===n&&(typeof f=="boolean"?(A=f,f=n):typeof l=="boolean"&&(A=l,l=n)),l===n&&f===n?(l=0,f=1):(l=ii(l),f===n?(f=l,l=0):f=ii(f)),l>f){var O=l;l=f,f=O}if(A||l%1||f%1){var F=Eg();return cn(l+F*(f-l+aA("1e-"+((F+"").length-1))),f)}return tf(l,f)}var Ox=Jo(function(l,f,A){return f=f.toLowerCase(),l+(A?Zm(f):f)});function Zm(l){return xf(oe(l).toLowerCase())}function Jm(l){return l=oe(l),l&&l.replace(de,EA).replace(Zw,"")}function Dx(l,f,A){l=oe(l),f=$n(f);var O=l.length;A=A===n?O:so(Wt(A),0,O);var F=A;return A-=f.length,A>=0&&l.slice(A,F)==f}function Lx(l){return l=oe(l),l&&J.test(l)?l.replace(Qi,bA):l}function Mx(l){return l=oe(l),l&&Et.test(l)?l.replace(yt,"\\$&"):l}var kx=Jo(function(l,f,A){return l+(A?"-":"")+f.toLowerCase()}),Px=Jo(function(l,f,A){return l+(A?" ":"")+f.toLowerCase()}),Nx=em("toLowerCase");function Fx(l,f,A){l=oe(l),f=Wt(f);var O=f?jo(l):0;if(!f||O>=f)return l;var F=(f-O)/2;return El(al(F),A)+l+El(sl(F),A)}function Bx(l,f,A){l=oe(l),f=Wt(f);var O=f?jo(l):0;return f&&O<f?l+El(f-O,A):l}function Ux(l,f,A){l=oe(l),f=Wt(f);var O=f?jo(l):0;return f&&O<f?El(f-O,A)+l:l}function $x(l,f,A){return A||f==null?f=0:f&&(f=+f),qA(oe(l).replace(At,""),f||0)}function Gx(l,f,A){return(A?pn(l,f,A):f===n)?f=1:f=Wt(f),ef(oe(l),f)}function Hx(){var l=arguments,f=oe(l[0]);return l.length<3?f:f.replace(l[1],l[2])}var Vx=Jo(function(l,f,A){return l+(A?"_":"")+f.toLowerCase()});function Wx(l,f,A){return A&&typeof A!="number"&&pn(l,f,A)&&(f=A=n),A=A===n?X:A>>>0,A?(l=oe(l),l&&(typeof f=="string"||f!=null&&!Sf(f))&&(f=$n(f),!f&&Wo(l))?Ci(pr(l),0,A):l.split(f,A)):[]}var jx=Jo(function(l,f,A){return l+(A?" ":"")+xf(f)});function zx(l,f,A){return l=oe(l),A=A==null?0:so(Wt(A),0,l.length),f=$n(f),l.slice(A,A+f.length)==f}function qx(l,f,A){var O=U.templateSettings;A&&pn(l,f,A)&&(f=n),l=oe(l),f=Ll({},f,O,lm);var F=Ll({},f.imports,O.imports,lm),G=Ye(F),V=Bc(F,G),W,K,nt=0,rt=f.interpolate||tn,st="__p += '",mt=$c((f.escape||tn).source+"|"+rt.source+"|"+(rt===et?ot:tn).source+"|"+(f.evaluate||tn).source+"|$","g"),It="//# sourceURL="+(se.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nA+"]")+`
`;l.replace(mt,function(Mt,Xt,te,Hn,gn,Vn){return te||(te=Hn),st+=l.slice(nt,Vn).replace(to,wA),Xt&&(W=!0,st+=`' +
__e(`+Xt+`) +
'`),gn&&(K=!0,st+=`';
`+gn+`;
__p += '`),te&&(st+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),nt=Vn+Mt.length,Mt}),st+=`';
`;var Lt=se.call(f,"variable")&&f.variable;if(!Lt)st=`with (obj) {
`+st+`
}
`;else if(_t.test(Lt))throw new $t(a);st=(K?st.replace($o,""):st).replace(Go,"$1").replace(Zi,"$1;"),st="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+st+`return __p
}`;var jt=tv(function(){return re(G,It+"return "+st).apply(n,V)});if(jt.source=st,Tf(jt))throw jt;return jt}function Yx(l){return oe(l).toLowerCase()}function Kx(l){return oe(l).toUpperCase()}function Xx(l,f,A){if(l=oe(l),l&&(A||f===n))return ug(l);if(!l||!(f=$n(f)))return l;var O=pr(l),F=pr(f),G=cg(O,F),V=fg(O,F)+1;return Ci(O,G,V).join("")}function Zx(l,f,A){if(l=oe(l),l&&(A||f===n))return l.slice(0,dg(l)+1);if(!l||!(f=$n(f)))return l;var O=pr(l),F=fg(O,pr(f))+1;return Ci(O,0,F).join("")}function Jx(l,f,A){if(l=oe(l),l&&(A||f===n))return l.replace(At,"");if(!l||!(f=$n(f)))return l;var O=pr(l),F=cg(O,pr(f));return Ci(O,F).join("")}function Qx(l,f){var A=N,O=P;if(Ae(f)){var F="separator"in f?f.separator:F;A="length"in f?Wt(f.length):A,O="omission"in f?$n(f.omission):O}l=oe(l);var G=l.length;if(Wo(l)){var V=pr(l);G=V.length}if(A>=G)return l;var W=A-jo(O);if(W<1)return O;var K=V?Ci(V,0,W).join(""):l.slice(0,W);if(F===n)return K+O;if(V&&(W+=K.length-W),Sf(F)){if(l.slice(W).search(F)){var nt,rt=K;for(F.global||(F=$c(F.source,oe(pt.exec(F))+"g")),F.lastIndex=0;nt=F.exec(rt);)var st=nt.index;K=K.slice(0,st===n?W:st)}}else if(l.indexOf($n(F),W)!=W){var mt=K.lastIndexOf(F);mt>-1&&(K=K.slice(0,mt))}return K+O}function tR(l){return l=oe(l),l&&Mr.test(l)?l.replace(Ji,RA):l}var eR=Jo(function(l,f,A){return l+(A?" ":"")+f.toUpperCase()}),xf=em("toUpperCase");function Qm(l,f,A){return l=oe(l),f=A?n:f,f===n?TA(l)?LA(l):gA(l):l.match(f)||[]}var tv=qt(function(l,f){try{return Bn(l,n,f)}catch(A){return Tf(A)?A:new $t(A)}}),nR=ei(function(l,f){return tr(f,function(A){A=Nr(A),Qr(l,A,wf(l[A],l))}),l});function rR(l){var f=l==null?0:l.length,A=Dt();return l=f?ye(l,function(O){if(typeof O[1]!="function")throw new er(s);return[A(O[0]),O[1]]}):[],qt(function(O){for(var F=-1;++F<f;){var G=l[F];if(Bn(G[0],this,O))return Bn(G[1],this,O)}})}function iR(l){return RT(rr(l,p))}function Rf(l){return function(){return l}}function oR(l,f){return l==null||l!==l?f:l}var sR=rm(),aR=rm(!0);function Dn(l){return l}function Of(l){return Mg(typeof l=="function"?l:rr(l,p))}function lR(l){return Pg(rr(l,p))}function uR(l,f){return Ng(l,rr(f,p))}var cR=qt(function(l,f){return function(A){return Qs(A,l,f)}}),fR=qt(function(l,f){return function(A){return Qs(l,A,f)}});function Df(l,f,A){var O=Ye(f),F=dl(f,O);A==null&&!(Ae(f)&&(F.length||!O.length))&&(A=f,f=l,l=this,F=dl(f,Ye(f)));var G=!(Ae(A)&&"chain"in A)||!!A.chain,V=ri(l);return tr(F,function(W){var K=f[W];l[W]=K,V&&(l.prototype[W]=function(){var nt=this.__chain__;if(G||nt){var rt=l(this.__wrapped__),st=rt.__actions__=xn(this.__actions__);return st.push({func:K,args:arguments,thisArg:l}),rt.__chain__=nt,rt}return K.apply(l,bi([this.value()],arguments))})}),l}function hR(){return en._===this&&(en._=BA),this}function Lf(){}function dR(l){return l=Wt(l),qt(function(f){return Fg(f,l)})}var pR=uf(ye),gR=uf(ig),mR=uf(Mc);function ev(l){return mf(l)?kc(Nr(l)):zT(l)}function vR(l){return function(f){return l==null?n:ao(l,f)}}var yR=om(),_R=om(!0);function Mf(){return[]}function kf(){return!1}function ER(){return{}}function bR(){return""}function wR(){return!0}function AR(l,f){if(l=Wt(l),l<1||l>$)return[];var A=X,O=cn(l,X);f=Dt(f),l-=X;for(var F=Fc(O,f);++A<l;)f(A);return F}function TR(l){return Ht(l)?ye(l,Nr):Gn(l)?[l]:xn(bm(oe(l)))}function SR(l){var f=++NA;return oe(l)+f}var IR=_l(function(l,f){return l+f},0),CR=cf("ceil"),xR=_l(function(l,f){return l/f},1),RR=cf("floor");function OR(l){return l&&l.length?hl(l,Dn,Yc):n}function DR(l,f){return l&&l.length?hl(l,Dt(f,2),Yc):n}function LR(l){return ag(l,Dn)}function MR(l,f){return ag(l,Dt(f,2))}function kR(l){return l&&l.length?hl(l,Dn,Jc):n}function PR(l,f){return l&&l.length?hl(l,Dt(f,2),Jc):n}var NR=_l(function(l,f){return l*f},1),FR=cf("round"),BR=_l(function(l,f){return l-f},0);function UR(l){return l&&l.length?Nc(l,Dn):0}function $R(l,f){return l&&l.length?Nc(l,Dt(f,2)):0}return U.after=lC,U.ary=Lm,U.assign=KC,U.assignIn=zm,U.assignInWith=Ll,U.assignWith=XC,U.at=ZC,U.before=Mm,U.bind=wf,U.bindAll=nR,U.bindKey=km,U.castArray=EC,U.chain=Rm,U.chunk=RS,U.compact=OS,U.concat=DS,U.cond=rR,U.conforms=iR,U.constant=Rf,U.countBy=UI,U.create=JC,U.curry=Pm,U.curryRight=Nm,U.debounce=Fm,U.defaults=QC,U.defaultsDeep=tx,U.defer=uC,U.delay=cC,U.difference=LS,U.differenceBy=MS,U.differenceWith=kS,U.drop=PS,U.dropRight=NS,U.dropRightWhile=FS,U.dropWhile=BS,U.fill=US,U.filter=GI,U.flatMap=WI,U.flatMapDeep=jI,U.flatMapDepth=zI,U.flatten=Sm,U.flattenDeep=$S,U.flattenDepth=GS,U.flip=fC,U.flow=sR,U.flowRight=aR,U.fromPairs=HS,U.functions=ax,U.functionsIn=lx,U.groupBy=qI,U.initial=WS,U.intersection=jS,U.intersectionBy=zS,U.intersectionWith=qS,U.invert=cx,U.invertBy=fx,U.invokeMap=KI,U.iteratee=Of,U.keyBy=XI,U.keys=Ye,U.keysIn=On,U.map=Il,U.mapKeys=dx,U.mapValues=px,U.matches=lR,U.matchesProperty=uR,U.memoize=xl,U.merge=gx,U.mergeWith=qm,U.method=cR,U.methodOf=fR,U.mixin=Df,U.negate=Rl,U.nthArg=dR,U.omit=mx,U.omitBy=vx,U.once=hC,U.orderBy=ZI,U.over=pR,U.overArgs=dC,U.overEvery=gR,U.overSome=mR,U.partial=Af,U.partialRight=Bm,U.partition=JI,U.pick=yx,U.pickBy=Ym,U.property=ev,U.propertyOf=vR,U.pull=ZS,U.pullAll=Cm,U.pullAllBy=JS,U.pullAllWith=QS,U.pullAt=tI,U.range=yR,U.rangeRight=_R,U.rearg=pC,U.reject=eC,U.remove=eI,U.rest=gC,U.reverse=Ef,U.sampleSize=rC,U.set=Ex,U.setWith=bx,U.shuffle=iC,U.slice=nI,U.sortBy=aC,U.sortedUniq=uI,U.sortedUniqBy=cI,U.split=Wx,U.spread=mC,U.tail=fI,U.take=hI,U.takeRight=dI,U.takeRightWhile=pI,U.takeWhile=gI,U.tap=OI,U.throttle=vC,U.thru=Sl,U.toArray=Vm,U.toPairs=Km,U.toPairsIn=Xm,U.toPath=TR,U.toPlainObject=jm,U.transform=wx,U.unary=yC,U.union=mI,U.unionBy=vI,U.unionWith=yI,U.uniq=_I,U.uniqBy=EI,U.uniqWith=bI,U.unset=Ax,U.unzip=bf,U.unzipWith=xm,U.update=Tx,U.updateWith=Sx,U.values=es,U.valuesIn=Ix,U.without=wI,U.words=Qm,U.wrap=_C,U.xor=AI,U.xorBy=TI,U.xorWith=SI,U.zip=II,U.zipObject=CI,U.zipObjectDeep=xI,U.zipWith=RI,U.entries=Km,U.entriesIn=Xm,U.extend=zm,U.extendWith=Ll,Df(U,U),U.add=IR,U.attempt=tv,U.camelCase=Ox,U.capitalize=Zm,U.ceil=CR,U.clamp=Cx,U.clone=bC,U.cloneDeep=AC,U.cloneDeepWith=TC,U.cloneWith=wC,U.conformsTo=SC,U.deburr=Jm,U.defaultTo=oR,U.divide=xR,U.endsWith=Dx,U.eq=mr,U.escape=Lx,U.escapeRegExp=Mx,U.every=$I,U.find=HI,U.findIndex=Am,U.findKey=ex,U.findLast=VI,U.findLastIndex=Tm,U.findLastKey=nx,U.floor=RR,U.forEach=Om,U.forEachRight=Dm,U.forIn=rx,U.forInRight=ix,U.forOwn=ox,U.forOwnRight=sx,U.get=If,U.gt=IC,U.gte=CC,U.has=ux,U.hasIn=Cf,U.head=Im,U.identity=Dn,U.includes=YI,U.indexOf=VS,U.inRange=xx,U.invoke=hx,U.isArguments=co,U.isArray=Ht,U.isArrayBuffer=xC,U.isArrayLike=Rn,U.isArrayLikeObject=De,U.isBoolean=RC,U.isBuffer=xi,U.isDate=OC,U.isElement=DC,U.isEmpty=LC,U.isEqual=MC,U.isEqualWith=kC,U.isError=Tf,U.isFinite=PC,U.isFunction=ri,U.isInteger=Um,U.isLength=Ol,U.isMap=$m,U.isMatch=NC,U.isMatchWith=FC,U.isNaN=BC,U.isNative=UC,U.isNil=GC,U.isNull=$C,U.isNumber=Gm,U.isObject=Ae,U.isObjectLike=Se,U.isPlainObject=oa,U.isRegExp=Sf,U.isSafeInteger=HC,U.isSet=Hm,U.isString=Dl,U.isSymbol=Gn,U.isTypedArray=ts,U.isUndefined=VC,U.isWeakMap=WC,U.isWeakSet=jC,U.join=YS,U.kebabCase=kx,U.last=or,U.lastIndexOf=KS,U.lowerCase=Px,U.lowerFirst=Nx,U.lt=zC,U.lte=qC,U.max=OR,U.maxBy=DR,U.mean=LR,U.meanBy=MR,U.min=kR,U.minBy=PR,U.stubArray=Mf,U.stubFalse=kf,U.stubObject=ER,U.stubString=bR,U.stubTrue=wR,U.multiply=NR,U.nth=XS,U.noConflict=hR,U.noop=Lf,U.now=Cl,U.pad=Fx,U.padEnd=Bx,U.padStart=Ux,U.parseInt=$x,U.random=Rx,U.reduce=QI,U.reduceRight=tC,U.repeat=Gx,U.replace=Hx,U.result=_x,U.round=FR,U.runInContext=Y,U.sample=nC,U.size=oC,U.snakeCase=Vx,U.some=sC,U.sortedIndex=rI,U.sortedIndexBy=iI,U.sortedIndexOf=oI,U.sortedLastIndex=sI,U.sortedLastIndexBy=aI,U.sortedLastIndexOf=lI,U.startCase=jx,U.startsWith=zx,U.subtract=BR,U.sum=UR,U.sumBy=$R,U.template=qx,U.times=AR,U.toFinite=ii,U.toInteger=Wt,U.toLength=Wm,U.toLower=Yx,U.toNumber=sr,U.toSafeInteger=YC,U.toString=oe,U.toUpper=Kx,U.trim=Xx,U.trimEnd=Zx,U.trimStart=Jx,U.truncate=Qx,U.unescape=tR,U.uniqueId=SR,U.upperCase=eR,U.upperFirst=xf,U.each=Om,U.eachRight=Dm,U.first=Im,Df(U,function(){var l={};return kr(U,function(f,A){se.call(U.prototype,A)||(l[A]=f)}),l}(),{chain:!1}),U.VERSION=r,tr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){U[l].placeholder=U}),tr(["drop","take"],function(l,f){Jt.prototype[l]=function(A){A=A===n?1:We(Wt(A),0);var O=this.__filtered__&&!f?new Jt(this):this.clone();return O.__filtered__?O.__takeCount__=cn(A,O.__takeCount__):O.__views__.push({size:cn(A,X),type:l+(O.__dir__<0?"Right":"")}),O},Jt.prototype[l+"Right"]=function(A){return this.reverse()[l](A).reverse()}}),tr(["filter","map","takeWhile"],function(l,f){var A=f+1,O=A==M||A==R;Jt.prototype[l]=function(F){var G=this.clone();return G.__iteratees__.push({iteratee:Dt(F,3),type:A}),G.__filtered__=G.__filtered__||O,G}}),tr(["head","last"],function(l,f){var A="take"+(f?"Right":"");Jt.prototype[l]=function(){return this[A](1).value()[0]}}),tr(["initial","tail"],function(l,f){var A="drop"+(f?"":"Right");Jt.prototype[l]=function(){return this.__filtered__?new Jt(this):this[A](1)}}),Jt.prototype.compact=function(){return this.filter(Dn)},Jt.prototype.find=function(l){return this.filter(l).head()},Jt.prototype.findLast=function(l){return this.reverse().find(l)},Jt.prototype.invokeMap=qt(function(l,f){return typeof l=="function"?new Jt(this):this.map(function(A){return Qs(A,l,f)})}),Jt.prototype.reject=function(l){return this.filter(Rl(Dt(l)))},Jt.prototype.slice=function(l,f){l=Wt(l);var A=this;return A.__filtered__&&(l>0||f<0)?new Jt(A):(l<0?A=A.takeRight(-l):l&&(A=A.drop(l)),f!==n&&(f=Wt(f),A=f<0?A.dropRight(-f):A.take(f-l)),A)},Jt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Jt.prototype.toArray=function(){return this.take(X)},kr(Jt.prototype,function(l,f){var A=/^(?:filter|find|map|reject)|While$/.test(f),O=/^(?:head|last)$/.test(f),F=U[O?"take"+(f=="last"?"Right":""):f],G=O||/^find/.test(f);!F||(U.prototype[f]=function(){var V=this.__wrapped__,W=O?[1]:arguments,K=V instanceof Jt,nt=W[0],rt=K||Ht(V),st=function(Xt){var te=F.apply(U,bi([Xt],W));return O&&mt?te[0]:te};rt&&A&&typeof nt=="function"&&nt.length!=1&&(K=rt=!1);var mt=this.__chain__,It=!!this.__actions__.length,Lt=G&&!mt,jt=K&&!It;if(!G&&rt){V=jt?V:new Jt(this);var Mt=l.apply(V,W);return Mt.__actions__.push({func:Sl,args:[st],thisArg:n}),new nr(Mt,mt)}return Lt&&jt?l.apply(this,W):(Mt=this.thru(st),Lt?O?Mt.value()[0]:Mt.value():Mt)})}),tr(["pop","push","shift","sort","splice","unshift"],function(l){var f=Za[l],A=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",O=/^(?:pop|shift)$/.test(l);U.prototype[l]=function(){var F=arguments;if(O&&!this.__chain__){var G=this.value();return f.apply(Ht(G)?G:[],F)}return this[A](function(V){return f.apply(Ht(V)?V:[],F)})}}),kr(Jt.prototype,function(l,f){var A=U[f];if(A){var O=A.name+"";se.call(Ko,O)||(Ko[O]=[]),Ko[O].push({name:f,func:A})}}),Ko[yl(n,E).name]=[{name:"wrapper",func:n}],Jt.prototype.clone=tT,Jt.prototype.reverse=eT,Jt.prototype.value=nT,U.prototype.at=DI,U.prototype.chain=LI,U.prototype.commit=MI,U.prototype.next=kI,U.prototype.plant=NI,U.prototype.reverse=FI,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=BI,U.prototype.first=U.prototype.head,zs&&(U.prototype[zs]=PI),U},zo=MA();no?((no.exports=zo)._=zo,Rc._=zo):en._=zo}).call(sa)})(Oh,Oh.exports);const HR=Oh.exports;var j_={exports:{}},Cd={exports:{}},z_=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}},VR=z_,xd=Object.prototype.toString,Rd=function(t){return function(e){var n=xd.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function ko(t){return t=t.toLowerCase(),function(n){return Rd(n)===t}}function Od(t){return Array.isArray(t)}function yu(t){return typeof t>"u"}function WR(t){return t!==null&&!yu(t)&&t.constructor!==null&&!yu(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var q_=ko("ArrayBuffer");function jR(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q_(t.buffer),e}function zR(t){return typeof t=="string"}function qR(t){return typeof t=="number"}function Y_(t){return t!==null&&typeof t=="object"}function Ql(t){if(Rd(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var YR=ko("Date"),KR=ko("File"),XR=ko("Blob"),ZR=ko("FileList");function Dd(t){return xd.call(t)==="[object Function]"}function JR(t){return Y_(t)&&Dd(t.pipe)}function QR(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||xd.call(t)===e||Dd(t.toString)&&t.toString()===e)}var tO=ko("URLSearchParams");function eO(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function nO(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ld(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Od(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Dh(){var t={};function e(i,o){Ql(t[o])&&Ql(i)?t[o]=Dh(t[o],i):Ql(i)?t[o]=Dh({},i):Od(i)?t[o]=i.slice():t[o]=i}for(var n=0,r=arguments.length;n<r;n++)Ld(arguments[n],e);return t}function rO(t,e,n){return Ld(e,function(i,o){n&&typeof i=="function"?t[o]=VR(i,n):t[o]=i}),t}function iO(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function oO(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function sO(t,e,n){var r,i,o,s={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],s[o]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function aO(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return r!==-1&&r===n}function lO(t){if(!t)return null;var e=t.length;if(yu(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var uO=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),sn={isArray:Od,isArrayBuffer:q_,isBuffer:WR,isFormData:QR,isArrayBufferView:jR,isString:zR,isNumber:qR,isObject:Y_,isPlainObject:Ql,isUndefined:yu,isDate:YR,isFile:KR,isBlob:XR,isFunction:Dd,isStream:JR,isURLSearchParams:tO,isStandardBrowserEnv:nO,forEach:Ld,merge:Dh,extend:rO,trim:eO,stripBOM:iO,inherits:oO,toFlatObject:sO,kindOf:Rd,kindOfTest:ko,endsWith:aO,toArray:lO,isTypedArray:uO,isFileList:ZR},ns=sn;function rv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var K_=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(ns.isURLSearchParams(n))i=n.toString();else{var o=[];ns.forEach(n,function(u,c){u===null||typeof u>"u"||(ns.isArray(u)?c=c+"[]":u=[u],ns.forEach(u,function(p){ns.isDate(p)?p=p.toISOString():ns.isObject(p)&&(p=JSON.stringify(p)),o.push(rv(c)+"="+rv(p))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},cO=sn;function ju(){this.handlers=[]}ju.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};ju.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ju.prototype.forEach=function(e){cO.forEach(this.handlers,function(r){r!==null&&e(r)})};var fO=ju,hO=sn,dO=function(e,n){hO.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})},X_=sn;function ws(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}X_.inherits(ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Z_=ws.prototype,J_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){J_[t]={value:t}});Object.defineProperties(ws,J_);Object.defineProperty(Z_,"isAxiosError",{value:!0});ws.from=function(t,e,n,r,i,o){var s=Object.create(Z_);return X_.toFlatObject(t,s,function(u){return u!==Error.prototype}),ws.call(s,t.message,e,n,r,i),s.name=t.name,o&&Object.assign(s,o),s};var Ms=ws,Q_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yr=sn;function pO(t,e){e=e||new FormData;var n=[];function r(o){return o===null?"":yr.isDate(o)?o.toISOString():yr.isArrayBuffer(o)||yr.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(yr.isPlainObject(o)||yr.isArray(o)){if(n.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);n.push(o),yr.forEach(o,function(u,c){if(!yr.isUndefined(u)){var h=s?s+"."+c:c,p;if(u&&!s&&typeof u=="object"){if(yr.endsWith(c,"{}"))u=JSON.stringify(u);else if(yr.endsWith(c,"[]")&&(p=yr.toArray(u))){p.forEach(function(d){!yr.isUndefined(d)&&e.append(h,r(d))});return}}i(u,h)}}),n.pop()}else e.append(s,r(o))}return i(t),e}var tE=pO,Pf,iv;function gO(){if(iv)return Pf;iv=1;var t=Ms;return Pf=function(n,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Pf}var Nf,ov;function mO(){if(ov)return Nf;ov=1;var t=sn;return Nf=t.isStandardBrowserEnv()?function(){return{write:function(r,i,o,s,a,u){var c=[];c.push(r+"="+encodeURIComponent(i)),t.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),t.isString(s)&&c.push("path="+s),t.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nf}var vO=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},yO=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},_O=vO,EO=yO,eE=function(e,n){return e&&!_O(n)?EO(e,n):n},Ff,sv;function bO(){if(sv)return Ff;sv=1;var t=sn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ff=function(r){var i={},o,s,a;return r&&t.forEach(r.split(`
`),function(c){if(a=c.indexOf(":"),o=t.trim(c.substr(0,a)).toLowerCase(),s=t.trim(c.substr(a+1)),o){if(i[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},Ff}var Bf,av;function wO(){if(av)return Bf;av=1;var t=sn;return Bf=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(s){var a=s;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(a){var u=t.isString(a)?o(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Bf}var Uf,lv;function zu(){if(lv)return Uf;lv=1;var t=Ms,e=sn;function n(r){t.call(this,r==null?"canceled":r,t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Uf=n,Uf}var $f,uv;function AO(){return uv||(uv=1,$f=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),$f}var Gf,cv;function fv(){if(cv)return Gf;cv=1;var t=sn,e=gO(),n=mO(),r=K_,i=eE,o=bO(),s=wO(),a=Q_,u=Ms,c=zu(),h=AO();return Gf=function(d){return new Promise(function(y,m){var _=d.data,E=d.headers,w=d.responseType,v;function b(){d.cancelToken&&d.cancelToken.unsubscribe(v),d.signal&&d.signal.removeEventListener("abort",v)}t.isFormData(_)&&t.isStandardBrowserEnv()&&delete E["Content-Type"];var T=new XMLHttpRequest;if(d.auth){var I=d.auth.username||"",S=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";E.Authorization="Basic "+btoa(I+":"+S)}var C=i(d.baseURL,d.url);T.open(d.method.toUpperCase(),r(C,d.params,d.paramsSerializer),!0),T.timeout=d.timeout;function D(){if(!!T){var L="getAllResponseHeaders"in T?o(T.getAllResponseHeaders()):null,x=!w||w==="text"||w==="json"?T.responseText:T.response,M={data:x,status:T.status,statusText:T.statusText,headers:L,config:d,request:T};e(function(R){y(R),b()},function(R){m(R),b()},M),T=null}}if("onloadend"in T?T.onloadend=D:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(D)},T.onabort=function(){!T||(m(new u("Request aborted",u.ECONNABORTED,d,T)),T=null)},T.onerror=function(){m(new u("Network Error",u.ERR_NETWORK,d,T,T)),T=null},T.ontimeout=function(){var x=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",M=d.transitional||a;d.timeoutErrorMessage&&(x=d.timeoutErrorMessage),m(new u(x,M.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,d,T)),T=null},t.isStandardBrowserEnv()){var N=(d.withCredentials||s(C))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;N&&(E[d.xsrfHeaderName]=N)}"setRequestHeader"in T&&t.forEach(E,function(x,M){typeof _>"u"&&M.toLowerCase()==="content-type"?delete E[M]:T.setRequestHeader(M,x)}),t.isUndefined(d.withCredentials)||(T.withCredentials=!!d.withCredentials),w&&w!=="json"&&(T.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&T.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(v=function(L){!T||(m(!L||L&&L.type?new c:L),T.abort(),T=null)},d.cancelToken&&d.cancelToken.subscribe(v),d.signal&&(d.signal.aborted?v():d.signal.addEventListener("abort",v))),_||(_=null);var P=h(C);if(P&&["http","https","file"].indexOf(P)===-1){m(new u("Unsupported protocol "+P+":",u.ERR_BAD_REQUEST,d));return}T.send(_)})},Gf}var Hf,hv;function TO(){return hv||(hv=1,Hf=null),Hf}var Ke=sn,dv=dO,pv=Ms,SO=Q_,IO=tE,CO={"Content-Type":"application/x-www-form-urlencoded"};function gv(t,e){!Ke.isUndefined(t)&&Ke.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function xO(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=fv()),t}function RO(t,e,n){if(Ke.isString(t))try{return(e||JSON.parse)(t),Ke.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var qu={transitional:SO,adapter:xO(),transformRequest:[function(e,n){if(dv(n,"Accept"),dv(n,"Content-Type"),Ke.isFormData(e)||Ke.isArrayBuffer(e)||Ke.isBuffer(e)||Ke.isStream(e)||Ke.isFile(e)||Ke.isBlob(e))return e;if(Ke.isArrayBufferView(e))return e.buffer;if(Ke.isURLSearchParams(e))return gv(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Ke.isObject(e),i=n&&n["Content-Type"],o;if((o=Ke.isFileList(e))||r&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return IO(o?{"files[]":e}:e,s&&new s)}else if(r||i==="application/json")return gv(n,"application/json"),RO(e);return e}],transformResponse:[function(e){var n=this.transitional||qu.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&Ke.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?pv.from(s,pv.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:TO()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ke.forEach(["delete","get","head"],function(e){qu.headers[e]={}});Ke.forEach(["post","put","patch"],function(e){qu.headers[e]=Ke.merge(CO)});var Md=qu,OO=sn,DO=Md,LO=function(e,n,r){var i=this||DO;return OO.forEach(r,function(s){e=s.call(i,e,n)}),e},Vf,mv;function nE(){return mv||(mv=1,Vf=function(e){return!!(e&&e.__CANCEL__)}),Vf}var vv=sn,Wf=LO,MO=nE(),kO=Md,PO=zu();function jf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new PO}var NO=function(e){jf(e),e.headers=e.headers||{},e.data=Wf.call(e,e.data,e.headers,e.transformRequest),e.headers=vv.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),vv.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||kO.adapter;return n(e).then(function(i){return jf(e),i.data=Wf.call(e,i.data,i.headers,e.transformResponse),i},function(i){return MO(i)||(jf(e),i&&i.response&&(i.response.data=Wf.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Wn=sn,rE=function(e,n){n=n||{};var r={};function i(h,p){return Wn.isPlainObject(h)&&Wn.isPlainObject(p)?Wn.merge(h,p):Wn.isPlainObject(p)?Wn.merge({},p):Wn.isArray(p)?p.slice():p}function o(h){if(Wn.isUndefined(n[h])){if(!Wn.isUndefined(e[h]))return i(void 0,e[h])}else return i(e[h],n[h])}function s(h){if(!Wn.isUndefined(n[h]))return i(void 0,n[h])}function a(h){if(Wn.isUndefined(n[h])){if(!Wn.isUndefined(e[h]))return i(void 0,e[h])}else return i(void 0,n[h])}function u(h){if(h in n)return i(e[h],n[h]);if(h in e)return i(void 0,e[h])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return Wn.forEach(Object.keys(e).concat(Object.keys(n)),function(p){var d=c[p]||o,g=d(p);Wn.isUndefined(g)&&d!==u||(r[p]=g)}),r},zf,yv;function iE(){return yv||(yv=1,zf={version:"0.27.2"}),zf}var FO=iE().version,Di=Ms,kd={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){kd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var _v={};kd.transitional=function(e,n,r){function i(o,s){return"[Axios v"+FO+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,a){if(e===!1)throw new Di(i(s," has been removed"+(n?" in "+n:"")),Di.ERR_DEPRECATED);return n&&!_v[s]&&(_v[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function BO(t,e,n){if(typeof t!="object")throw new Di("options must be an object",Di.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],u=a===void 0||s(a,o,t);if(u!==!0)throw new Di("option "+o+" must be "+u,Di.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Di("Unknown option "+o,Di.ERR_BAD_OPTION)}}var UO={assertOptions:BO,validators:kd},oE=sn,$O=K_,Ev=fO,bv=NO,Yu=rE,GO=eE,sE=UO,rs=sE.validators;function As(t){this.defaults=t,this.interceptors={request:new Ev,response:new Ev}}As.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yu(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&sE.assertOptions(r,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(o=o&&g.synchronous,i.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var a;if(!o){var u=[bv,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(s),a=Promise.resolve(n);u.length;)a=a.then(u.shift(),u.shift());return a}for(var c=n;i.length;){var h=i.shift(),p=i.shift();try{c=h(c)}catch(d){p(d);break}}try{a=bv(c)}catch(d){return Promise.reject(d)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};As.prototype.getUri=function(e){e=Yu(this.defaults,e);var n=GO(e.baseURL,e.url);return $O(n,e.params,e.paramsSerializer)};oE.forEach(["delete","get","head","options"],function(e){As.prototype[e]=function(n,r){return this.request(Yu(r||{},{method:e,url:n,data:(r||{}).data}))}});oE.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Yu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}As.prototype[e]=n(),As.prototype[e+"Form"]=n(!0)});var HO=As,qf,wv;function VO(){if(wv)return qf;wv=1;var t=zu();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(s){r=s});var i=this;this.promise.then(function(o){if(!!i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(u){i.subscribe(u),s=u}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},n(function(s){i.reason||(i.reason=new t(s),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(!!this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(s){r=s});return{token:i,cancel:r}},qf=e,qf}var Yf,Av;function WO(){return Av||(Av=1,Yf=function(e){return function(r){return e.apply(null,r)}}),Yf}var Kf,Tv;function jO(){if(Tv)return Kf;Tv=1;var t=sn;return Kf=function(n){return t.isObject(n)&&n.isAxiosError===!0},Kf}var Sv=sn,zO=z_,tu=HO,qO=rE,YO=Md;function aE(t){var e=new tu(t),n=zO(tu.prototype.request,e);return Sv.extend(n,tu.prototype,e),Sv.extend(n,e),n.create=function(i){return aE(qO(t,i))},n}var Pn=aE(YO);Pn.Axios=tu;Pn.CanceledError=zu();Pn.CancelToken=VO();Pn.isCancel=nE();Pn.VERSION=iE().version;Pn.toFormData=tE;Pn.AxiosError=Ms;Pn.Cancel=Pn.CanceledError;Pn.all=function(e){return Promise.all(e)};Pn.spread=WO();Pn.isAxiosError=jO();Cd.exports=Pn;Cd.exports.default=Pn;(function(t){t.exports=Cd.exports})(j_);const KO=GR(j_.exports);window._=HR;window.axios=KO;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Lh=!1,Mh=!1,To=[];function XO(t){ZO(t)}function ZO(t){To.includes(t)||To.push(t),JO()}function lE(t){let e=To.indexOf(t);e!==-1&&To.splice(e,1)}function JO(){!Mh&&!Lh&&(Lh=!0,queueMicrotask(QO))}function QO(){Lh=!1,Mh=!0;for(let t=0;t<To.length;t++)To[t]();To.length=0,Mh=!1}var ks,Ba,Ku,uE,kh=!0;function tD(t){kh=!1,t(),kh=!0}function eD(t){ks=t.reactive,Ku=t.release,Ba=e=>t.effect(e,{scheduler:n=>{kh?XO(n):n()}}),uE=t.raw}function Iv(t){Ba=t}function nD(t){let e=()=>{};return[r=>{let i=Ba(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(o=>o())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),Ku(i))},i},()=>{e()}]}var cE=[],fE=[],hE=[];function rD(t){hE.push(t)}function dE(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,fE.push(e))}function iD(t){cE.push(t)}function oD(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}function pE(t,e){!t._x_attributeCleanups||Object.entries(t._x_attributeCleanups).forEach(([n,r])=>{(e===void 0||e.includes(n))&&(r.forEach(i=>i()),delete t._x_attributeCleanups[n])})}var Pd=new MutationObserver(Bd),Nd=!1;function gE(){Pd.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Nd=!0}function sD(){aD(),Pd.disconnect(),Nd=!1}var ya=[],Xf=!1;function aD(){ya=ya.concat(Pd.takeRecords()),ya.length&&!Xf&&(Xf=!0,queueMicrotask(()=>{lD(),Xf=!1}))}function lD(){Bd(ya),ya.length=0}function Qe(t){if(!Nd)return t();sD();let e=t();return gE(),e}var Fd=!1,_u=[];function uD(){Fd=!0}function cD(){Fd=!1,Bd(_u),_u=[]}function Bd(t){if(Fd){_u=_u.concat(t);return}let e=[],n=[],r=new Map,i=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&(t[o].type==="childList"&&(t[o].addedNodes.forEach(s=>s.nodeType===1&&e.push(s)),t[o].removedNodes.forEach(s=>s.nodeType===1&&n.push(s))),t[o].type==="attributes")){let s=t[o].target,a=t[o].attributeName,u=t[o].oldValue,c=()=>{r.has(s)||r.set(s,[]),r.get(s).push({name:a,value:s.getAttribute(a)})},h=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&u===null?c():s.hasAttribute(a)?(h(),c()):h()}i.forEach((o,s)=>{pE(s,o)}),r.forEach((o,s)=>{cE.forEach(a=>a(s,o))});for(let o of n)if(!e.includes(o)&&(fE.forEach(s=>s(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();e.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of e)n.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,hE.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);e.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),e=null,n=null,r=null,i=null}function mE(t){return $a(Ts(t))}function Ua(t,e,n){return t._x_dataStack=[e,...Ts(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter(r=>r!==e)}}function Cv(t,e){let n=t._x_dataStack[0];Object.entries(e).forEach(([r,i])=>{n[r]=i})}function Ts(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Ts(t.host):t.parentNode?Ts(t.parentNode):[]}function $a(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(n=>Object.keys(n)))),has:(n,r)=>t.some(i=>i.hasOwnProperty(r)),get:(n,r)=>(t.find(i=>{if(i.hasOwnProperty(r)){let o=Object.getOwnPropertyDescriptor(i,r);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let s=o.get,a=o.set,u=o;s=s&&s.bind(e),a=a&&a.bind(e),s&&(s._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(i,r,{...u,get:s,set:a})}return!0}return!1})||{})[r],set:(n,r,i)=>{let o=t.find(s=>s.hasOwnProperty(r));return o?o[r]=i:t[t.length-1][r]=i,!0}});return e}function vE(t){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0)return;let u=i===""?o:`${i}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?r[o]=s.initialize(t,u,o):e(s)&&s!==r&&!(s instanceof Element)&&n(s,u)})};return n(t)}function yE(t,e=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,i,o){return t(this.initialValue,()=>fD(r,i),s=>Ph(r,i,s),i,o)}};return e(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let i=n.initialize.bind(n);n.initialize=(o,s,a)=>{let u=r.initialize(o,s,a);return n.initialValue=u,i(o,s,a)}}else n.initialValue=r;return n}}function fD(t,e){return e.split(".").reduce((n,r)=>n[r],t)}function Ph(t,e,n){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=n;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Ph(t[e[0]],e.slice(1),n)}}var _E={};function xr(t,e){_E[t]=e}function Nh(t,e){return Object.entries(_E).forEach(([n,r])=>{Object.defineProperty(t,`$${n}`,{get(){let[i,o]=TE(e);return i={interceptor:yE,...i},dE(e,o),r(e,i)},enumerable:!1})}),t}function hD(t,e,n,...r){try{return n(...r)}catch(i){La(i,t,e)}}function La(t,e,n=void 0){Object.assign(t,{el:e,expression:n}),console.warn(`Alpine Expression Error: ${t.message}

${n?'Expression: "'+n+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var eu=!0;function dD(t){let e=eu;eu=!1,t(),eu=e}function ms(t,e,n={}){let r;return En(t,e)(i=>r=i,n),r}function En(...t){return EE(...t)}var EE=bE;function pD(t){EE=t}function bE(t,e){let n={};Nh(n,t);let r=[n,...Ts(t)];if(typeof e=="function")return gD(r,e);let i=vD(r,e,t);return hD.bind(null,t,e,i)}function gD(t,e){return(n=()=>{},{scope:r={},params:i=[]}={})=>{let o=e.apply($a([r,...t]),i);Eu(n,o)}}var Zf={};function mD(t,e){if(Zf[t])return Zf[t];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(() => { ${t} })()`:t,o=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(s){return La(s,e,t),Promise.resolve()}})();return Zf[t]=o,o}function vD(t,e,n){let r=mD(e,n);return(i=()=>{},{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=$a([o,...t]);if(typeof r=="function"){let u=r(r,a).catch(c=>La(c,n,e));r.finished?(Eu(i,r.result,a,s,n),r.result=void 0):u.then(c=>{Eu(i,c,a,s,n)}).catch(c=>La(c,n,e)).finally(()=>r.result=void 0)}}}function Eu(t,e,n,r,i){if(eu&&typeof e=="function"){let o=e.apply(n,r);o instanceof Promise?o.then(s=>Eu(t,s,n,r)).catch(s=>La(s,i,e)):t(o)}else t(e)}var Ud="x-";function Ps(t=""){return Ud+t}function yD(t){Ud=t}var wE={};function Be(t,e){wE[t]=e}function $d(t,e,n){let r={};return Array.from(e).map(CE((o,s)=>r[o]=s)).filter(RE).map(wD(r,n)).sort(AD).map(o=>bD(t,o))}function _D(t){return Array.from(t).map(CE()).filter(e=>!RE(e))}var Fh=!1,pa=new Map,AE=Symbol();function ED(t){Fh=!0;let e=Symbol();AE=e,pa.set(e,[]);let n=()=>{for(;pa.get(e).length;)pa.get(e).shift()();pa.delete(e)},r=()=>{Fh=!1,n()};t(n),r()}function TE(t){let e=[],n=a=>e.push(a),[r,i]=nD(t);return e.push(i),[{Alpine:Ga,effect:r,cleanup:n,evaluateLater:En.bind(En,t),evaluate:ms.bind(ms,t)},()=>e.forEach(a=>a())]}function bD(t,e){let n=()=>{},r=wE[e.type]||n,[i,o]=TE(t);oD(t,e.original,o);let s=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,i),r=r.bind(r,t,e,i),Fh?pa.get(AE).push(r):r())};return s.runCleanups=o,s}var SE=(t,e)=>({name:n,value:r})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:r}),IE=t=>t;function CE(t=()=>{}){return({name:e,value:n})=>{let{name:r,value:i}=xE.reduce((o,s)=>s(o),{name:e,value:n});return r!==e&&t(r,e),{name:r,value:i}}}var xE=[];function Gd(t){xE.push(t)}function RE({name:t}){return OE().test(t)}var OE=()=>new RegExp(`^${Ud}([^:^.]+)\\b`);function wD(t,e){return({name:n,value:r})=>{let i=n.match(OE()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map(u=>u.replace(".","")),expression:r,original:a}}}var Bh="DEFAULT",Ml=["ignore","ref","data","id","bind","init","for","mask","model","modelable","transition","show","if",Bh,"teleport","element"];function AD(t,e){let n=Ml.indexOf(t.type)===-1?Bh:t.type,r=Ml.indexOf(e.type)===-1?Bh:e.type;return Ml.indexOf(n)-Ml.indexOf(r)}function _a(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var Uh=[],Hd=!1;function DE(t=()=>{}){return queueMicrotask(()=>{Hd||setTimeout(()=>{$h()})}),new Promise(e=>{Uh.push(()=>{t(),e()})})}function $h(){for(Hd=!1;Uh.length;)Uh.shift()()}function TD(){Hd=!0}function Do(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>Do(i,e));return}let n=!1;if(e(t,()=>n=!0),n)return;let r=t.firstElementChild;for(;r;)Do(r,e),r=r.nextElementSibling}function Ss(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}function SD(){document.body||Ss("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),_a(document,"alpine:init"),_a(document,"alpine:initializing"),gE(),rD(e=>Gi(e,Do)),dE(e=>CD(e)),iD((e,n)=>{$d(e,n).forEach(r=>r())});let t=e=>!Xu(e.parentElement,!0);Array.from(document.querySelectorAll(kE())).filter(t).forEach(e=>{Gi(e)}),_a(document,"alpine:initialized")}var Vd=[],LE=[];function ME(){return Vd.map(t=>t())}function kE(){return Vd.concat(LE).map(t=>t())}function PE(t){Vd.push(t)}function NE(t){LE.push(t)}function Xu(t,e=!1){return Zu(t,n=>{if((e?kE():ME()).some(i=>n.matches(i)))return!0})}function Zu(t,e){if(!!t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Zu(t.parentElement,e)}}function ID(t){return ME().some(e=>t.matches(e))}function Gi(t,e=Do){ED(()=>{e(t,(n,r)=>{$d(n,n.attributes).forEach(i=>i()),n._x_ignore&&r()})})}function CD(t){Do(t,e=>pE(e))}function Wd(t,e){return Array.isArray(e)?xv(t,e.join(" ")):typeof e=="object"&&e!==null?xD(t,e):typeof e=="function"?Wd(t,e()):xv(t,e)}function xv(t,e){let n=i=>i.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),r=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",r(n(e))}function xD(t,e){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([a,u])=>u?n(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,u])=>u?!1:n(a)).filter(Boolean),o=[],s=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),s.push(a))}),r.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),o.push(a))}),()=>{s.forEach(a=>t.classList.add(a)),o.forEach(a=>t.classList.remove(a))}}function Ju(t,e){return typeof e=="object"&&e!==null?RD(t,e):OD(t,e)}function RD(t,e){let n={};return Object.entries(e).forEach(([r,i])=>{n[r]=t.style[r],r.startsWith("--")||(r=DD(r)),t.style.setProperty(r,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Ju(t,n)}}function OD(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n||"")}}function DD(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gh(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}Be("transition",(t,{value:e,modifiers:n,expression:r},{evaluate:i})=>{typeof r=="function"&&(r=i(r)),r?LD(t,r,e):MD(t,n,e)});function LD(t,e,n){FE(t,Wd,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[n](e)}function MD(t,e,n){FE(t,Ju);let r=!e.includes("in")&&!e.includes("out")&&!n,i=r||e.includes("in")||["enter"].includes(n),o=r||e.includes("out")||["leave"].includes(n);e.includes("in")&&!r&&(e=e.filter((E,w)=>w<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((E,w)=>w>e.indexOf("out")));let s=!e.includes("opacity")&&!e.includes("scale"),a=s||e.includes("opacity"),u=s||e.includes("scale"),c=a?0:1,h=u?aa(e,"scale",95)/100:1,p=aa(e,"delay",0),d=aa(e,"origin","center"),g="opacity, transform",y=aa(e,"duration",150)/1e3,m=aa(e,"duration",75)/1e3,_="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:d,transitionDelay:p,transitionProperty:g,transitionDuration:`${y}s`,transitionTimingFunction:_},t._x_transition.enter.start={opacity:c,transform:`scale(${h})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(t._x_transition.leave.during={transformOrigin:d,transitionDelay:p,transitionProperty:g,transitionDuration:`${m}s`,transitionTimingFunction:_},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:c,transform:`scale(${h})`})}function FE(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},i=()=>{}){Hh(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,i)},out(r=()=>{},i=()=>{}){Hh(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,r){let i=()=>{document.visibilityState==="visible"?requestAnimationFrame(n):setTimeout(n)};if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(n):i():t._x_transition?t._x_transition.in(n):i();return}t._x_hidePromise=t._x_transition?new Promise((o,s)=>{t._x_transition.out(()=>{},()=>o(r)),t._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=BE(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):queueMicrotask(()=>{let s=a=>{let u=Promise.all([a._x_hidePromise,...(a._x_hideChildren||[]).map(s)]).then(([c])=>c());return delete a._x_hidePromise,delete a._x_hideChildren,u};s(t).catch(a=>{if(!a.isFromCancelledTransition)throw a})})})};function BE(t){let e=t.parentNode;if(!!e)return e._x_hidePromise?e:BE(e)}function Hh(t,e,{during:n,start:r,end:i}={},o=()=>{},s=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(i).length===0){o(),s();return}let a,u,c;kD(t,{start(){a=e(t,r)},during(){u=e(t,n)},before:o,end(){a(),c=e(t,i)},after:s,cleanup(){u(),c()}})}function kD(t,e){let n,r,i,o=Gh(()=>{Qe(()=>{n=!0,r||e.before(),i||(e.end(),$h()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:Gh(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},Qe(()=>{e.start(),e.during()}),TD(),requestAnimationFrame(()=>{if(n)return;let s=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),Qe(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{n||(Qe(()=>{e.end()}),$h(),setTimeout(t._x_transitioning.finish,s+a),i=!0)})})}function aa(t,e,n){if(t.indexOf(e)===-1)return n;const r=t[t.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return n;if(e==="duration"){let i=r.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}var Vh=!1;function Qu(t,e=()=>{}){return(...n)=>Vh?e(...n):t(...n)}function PD(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Vh=!0,FD(()=>{ND(e)}),Vh=!1}function ND(t){let e=!1;Gi(t,(r,i)=>{Do(r,(o,s)=>{if(e&&ID(o))return s();e=!0,i(o,s)})})}function FD(t){let e=Ba;Iv((n,r)=>{let i=e(n);return Ku(i),()=>{}}),t(),Iv(e)}function UE(t,e,n,r=[]){switch(t._x_bindings||(t._x_bindings=ks({})),t._x_bindings[e]=n,e=r.includes("camel")?WD(e):e,e){case"value":BD(t,n);break;case"style":$D(t,n);break;case"class":UD(t,n);break;default:GD(t,e,n);break}}function BD(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(t.checked=Rv(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(n=>Rv(n,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")VD(t,e);else{if(t.value===e)return;t.value=e}}function UD(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Wd(t,e)}function $D(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Ju(t,e)}function GD(t,e,n){[null,void 0,!1].includes(n)&&jD(e)?t.removeAttribute(e):($E(e)&&(n=e),HD(t,e,n))}function HD(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function VD(t,e){const n=[].concat(e).map(r=>r+"");Array.from(t.options).forEach(r=>{r.selected=n.includes(r.value)})}function WD(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Rv(t,e){return t==e}function $E(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function jD(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function zD(t,e,n){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];let r=t.getAttribute(e);return r===null?typeof n=="function"?n():n:$E(e)?!![e,"true"].includes(r):r===""?!0:r}function GE(t,e){var n;return function(){var r=this,i=arguments,o=function(){n=null,t.apply(r,i)};clearTimeout(n),n=setTimeout(o,e)}}function HE(t,e){let n;return function(){let r=this,i=arguments;n||(t.apply(r,i),n=!0,setTimeout(()=>n=!1,e))}}function qD(t){t(Ga)}var yo={},Ov=!1;function YD(t,e){if(Ov||(yo=ks(yo),Ov=!0),e===void 0)return yo[t];yo[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&yo[t].init(),vE(yo[t])}function KD(){return yo}var VE={};function XD(t,e){VE[t]=typeof e!="function"?()=>e:e}function ZD(t){return Object.entries(VE).forEach(([e,n])=>{Object.defineProperty(t,e,{get(){return(...r)=>n(...r)}})}),t}var WE={};function JD(t,e){WE[t]=e}function QD(t,e){return Object.entries(WE).forEach(([n,r])=>{Object.defineProperty(t,n,{get(){return(...i)=>r.bind(e)(...i)},enumerable:!1})}),t}var t1={get reactive(){return ks},get release(){return Ku},get effect(){return Ba},get raw(){return uE},version:"3.10.0",flushAndStopDeferringMutations:cD,dontAutoEvaluateFunctions:dD,disableEffectScheduling:tD,setReactivityEngine:eD,closestDataStack:Ts,skipDuringClone:Qu,addRootSelector:PE,addInitSelector:NE,addScopeToNode:Ua,deferMutations:uD,mapAttributes:Gd,evaluateLater:En,setEvaluator:pD,mergeProxies:$a,findClosest:Zu,closestRoot:Xu,interceptor:yE,transition:Hh,setStyles:Ju,mutateDom:Qe,directive:Be,throttle:HE,debounce:GE,evaluate:ms,initTree:Gi,nextTick:DE,prefixed:Ps,prefix:yD,plugin:qD,magic:xr,store:YD,start:SD,clone:PD,bound:zD,$data:mE,data:JD,bind:XD},Ga=t1;function e1(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}var n1={},jE=Object.assign,r1=Object.prototype.hasOwnProperty,tc=(t,e)=>r1.call(t,e),So=Array.isArray,nu=t=>zE(t)==="[object Map]",i1=t=>typeof t=="string",jd=t=>typeof t=="symbol",ec=t=>t!==null&&typeof t=="object",o1=Object.prototype.toString,zE=t=>o1.call(t),s1=t=>zE(t).slice(8,-1),zd=t=>i1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qE=(t,e)=>t!==e&&(t===t||e===e),Wh=new WeakMap,la=[],Eo,Io=Symbol(""),jh=Symbol("");function a1(t){return t&&t._isEffect===!0}function l1(t,e=n1){a1(t)&&(t=t.raw);const n=f1(t,e);return e.lazy||n(),n}function u1(t){t.active&&(YE(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var c1=0;function f1(t,e){const n=function(){if(!n.active)return t();if(!la.includes(n)){YE(n);try{return d1(),la.push(n),Eo=n,t()}finally{la.pop(),KE(),Eo=la[la.length-1]}}};return n.id=c1++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function YE(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var Is=!0,qd=[];function h1(){qd.push(Is),Is=!1}function d1(){qd.push(Is),Is=!0}function KE(){const t=qd.pop();Is=t===void 0?!0:t}function Sr(t,e,n){if(!Is||Eo===void 0)return;let r=Wh.get(t);r||Wh.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Eo)||(i.add(Eo),Eo.deps.push(i))}function Hi(t,e,n,r,i,o){const s=Wh.get(t);if(!s)return;const a=new Set,u=h=>{h&&h.forEach(p=>{(p!==Eo||p.allowRecurse)&&a.add(p)})};if(e==="clear")s.forEach(u);else if(n==="length"&&So(t))s.forEach((h,p)=>{(p==="length"||p>=r)&&u(h)});else switch(n!==void 0&&u(s.get(n)),e){case"add":So(t)?zd(n)&&u(s.get("length")):(u(s.get(Io)),nu(t)&&u(s.get(jh)));break;case"delete":So(t)||(u(s.get(Io)),nu(t)&&u(s.get(jh)));break;case"set":nu(t)&&u(s.get(Io));break}const c=h=>{h.options.scheduler?h.options.scheduler(h):h()};a.forEach(c)}var p1=e1("__proto__,__v_isRef,__isVue"),XE=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(jd)),g1=nc(),m1=nc(!1,!0),v1=nc(!0),y1=nc(!0,!0),bu={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];bu[t]=function(...n){const r=Ce(this);for(let o=0,s=this.length;o<s;o++)Sr(r,"get",o+"");const i=e.apply(r,n);return i===-1||i===!1?e.apply(r,n.map(Ce)):i}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];bu[t]=function(...n){h1();const r=e.apply(this,n);return KE(),r}});function nc(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&o===(t?e?x1:cb:e?C1:ub).get(r))return r;const s=So(r);if(!t&&s&&tc(bu,i))return Reflect.get(bu,i,o);const a=Reflect.get(r,i,o);return(jd(i)?XE.has(i):p1(i))||(t||Sr(r,"get",i),e)?a:zh(a)?!s||!zd(i)?a.value:a:ec(a)?t?fb(a):Zd(a):a}}var _1=ZE(),E1=ZE(!0);function ZE(t=!1){return function(n,r,i,o){let s=n[r];if(!t&&(i=Ce(i),s=Ce(s),!So(n)&&zh(s)&&!zh(i)))return s.value=i,!0;const a=So(n)&&zd(r)?Number(r)<n.length:tc(n,r),u=Reflect.set(n,r,i,o);return n===Ce(o)&&(a?qE(i,s)&&Hi(n,"set",r,i):Hi(n,"add",r,i)),u}}function b1(t,e){const n=tc(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Hi(t,"delete",e,void 0),r}function w1(t,e){const n=Reflect.has(t,e);return(!jd(e)||!XE.has(e))&&Sr(t,"has",e),n}function A1(t){return Sr(t,"iterate",So(t)?"length":Io),Reflect.ownKeys(t)}var JE={get:g1,set:_1,deleteProperty:b1,has:w1,ownKeys:A1},QE={get:v1,set(t,e){return!0},deleteProperty(t,e){return!0}};jE({},JE,{get:m1,set:E1});jE({},QE,{get:y1});var Yd=t=>ec(t)?Zd(t):t,Kd=t=>ec(t)?fb(t):t,Xd=t=>t,rc=t=>Reflect.getPrototypeOf(t);function ic(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ce(t),o=Ce(e);e!==o&&!n&&Sr(i,"get",e),!n&&Sr(i,"get",o);const{has:s}=rc(i),a=r?Xd:n?Kd:Yd;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function oc(t,e=!1){const n=this.__v_raw,r=Ce(n),i=Ce(t);return t!==i&&!e&&Sr(r,"has",t),!e&&Sr(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function sc(t,e=!1){return t=t.__v_raw,!e&&Sr(Ce(t),"iterate",Io),Reflect.get(t,"size",t)}function tb(t){t=Ce(t);const e=Ce(this);return rc(e).has.call(e,t)||(e.add(t),Hi(e,"add",t,t)),this}function eb(t,e){e=Ce(e);const n=Ce(this),{has:r,get:i}=rc(n);let o=r.call(n,t);o||(t=Ce(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?qE(e,s)&&Hi(n,"set",t,e):Hi(n,"add",t,e),this}function nb(t){const e=Ce(this),{has:n,get:r}=rc(e);let i=n.call(e,t);i||(t=Ce(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Hi(e,"delete",t,void 0),o}function rb(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&Hi(t,"clear",void 0,void 0),n}function ac(t,e){return function(r,i){const o=this,s=o.__v_raw,a=Ce(s),u=e?Xd:t?Kd:Yd;return!t&&Sr(a,"iterate",Io),s.forEach((c,h)=>r.call(i,u(c),u(h),o))}}function kl(t,e,n){return function(...r){const i=this.__v_raw,o=Ce(i),s=nu(o),a=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,c=i[t](...r),h=n?Xd:e?Kd:Yd;return!e&&Sr(o,"iterate",u?jh:Io),{next(){const{value:p,done:d}=c.next();return d?{value:p,done:d}:{value:a?[h(p[0]),h(p[1])]:h(p),done:d}},[Symbol.iterator](){return this}}}}function Fi(t){return function(...e){return t==="delete"?!1:this}}var ib={get(t){return ic(this,t)},get size(){return sc(this)},has:oc,add:tb,set:eb,delete:nb,clear:rb,forEach:ac(!1,!1)},ob={get(t){return ic(this,t,!1,!0)},get size(){return sc(this)},has:oc,add:tb,set:eb,delete:nb,clear:rb,forEach:ac(!1,!0)},sb={get(t){return ic(this,t,!0)},get size(){return sc(this,!0)},has(t){return oc.call(this,t,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:ac(!0,!1)},ab={get(t){return ic(this,t,!0,!0)},get size(){return sc(this,!0)},has(t){return oc.call(this,t,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:ac(!0,!0)},T1=["keys","values","entries",Symbol.iterator];T1.forEach(t=>{ib[t]=kl(t,!1,!1),sb[t]=kl(t,!0,!1),ob[t]=kl(t,!1,!0),ab[t]=kl(t,!0,!0)});function lb(t,e){const n=e?t?ab:ob:t?sb:ib;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(tc(n,i)&&i in r?n:r,i,o)}var S1={get:lb(!1,!1)},I1={get:lb(!0,!1)},ub=new WeakMap,C1=new WeakMap,cb=new WeakMap,x1=new WeakMap;function R1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function O1(t){return t.__v_skip||!Object.isExtensible(t)?0:R1(s1(t))}function Zd(t){return t&&t.__v_isReadonly?t:hb(t,!1,JE,S1,ub)}function fb(t){return hb(t,!0,QE,I1,cb)}function hb(t,e,n,r,i){if(!ec(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=O1(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Ce(t){return t&&Ce(t.__v_raw)||t}function zh(t){return Boolean(t&&t.__v_isRef===!0)}xr("nextTick",()=>DE);xr("dispatch",t=>_a.bind(_a,t));xr("watch",(t,{evaluateLater:e,effect:n})=>(r,i)=>{let o=e(r),s=!0,a,u=n(()=>o(c=>{JSON.stringify(c),s?a=c:queueMicrotask(()=>{i(c,a),a=c}),s=!1}));t._x_effects.delete(u)});xr("store",KD);xr("data",t=>mE(t));xr("root",t=>Xu(t));xr("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=$a(D1(t))),t._x_refs_proxy));function D1(t){let e=[],n=t;for(;n;)n._x_refs&&e.push(n._x_refs),n=n.parentNode;return e}var Jf={};function db(t){return Jf[t]||(Jf[t]=0),++Jf[t]}function L1(t,e){return Zu(t,n=>{if(n._x_ids&&n._x_ids[e])return!0})}function M1(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=db(e))}xr("id",t=>(e,n=null)=>{let r=L1(t,e),i=r?r._x_ids[e]:db(e);return n?`${e}-${i}-${n}`:`${e}-${i}`});xr("el",t=>t);pb("Focus","focus","focus");pb("Persist","persist","persist");function pb(t,e,n){xr(e,r=>Ss(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Be("modelable",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e),o=()=>{let c;return i(h=>c=h),c},s=r(`${e} = __placeholder`),a=c=>s(()=>{},{scope:{__placeholder:c}}),u=o();a(u),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let c=t._x_model.get,h=t._x_model.set;n(()=>a(c())),n(()=>h(o()))})});Be("teleport",(t,{expression:e},{cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&Ss("x-teleport can only be used on a <template> tag",t);let r=document.querySelector(e);r||Ss(`Cannot find x-teleport element for selector: "${e}"`);let i=t.content.cloneNode(!0).firstElementChild;t._x_teleport=i,i._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(o=>{i.addEventListener(o,s=>{s.stopPropagation(),t.dispatchEvent(new s.constructor(s.type,s))})}),Ua(i,{},t),Qe(()=>{r.appendChild(i),Gi(i),i._x_ignore=!0}),n(()=>i.remove())});var gb=()=>{};gb.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Be("ignore",gb);Be("effect",(t,{expression:e},{effect:n})=>n(En(t,e)));function mb(t,e,n,r){let i=t,o=u=>r(u),s={},a=(u,c)=>h=>c(u,h);if(n.includes("dot")&&(e=k1(e)),n.includes("camel")&&(e=P1(e)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("prevent")&&(o=a(o,(u,c)=>{c.preventDefault(),u(c)})),n.includes("stop")&&(o=a(o,(u,c)=>{c.stopPropagation(),u(c)})),n.includes("self")&&(o=a(o,(u,c)=>{c.target===t&&u(c)})),(n.includes("away")||n.includes("outside"))&&(i=document,o=a(o,(u,c)=>{t.contains(c.target)||c.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&u(c))})),n.includes("once")&&(o=a(o,(u,c)=>{u(c),i.removeEventListener(e,o,s)})),o=a(o,(u,c)=>{F1(e)&&B1(c,n)||u(c)}),n.includes("debounce")){let u=n[n.indexOf("debounce")+1]||"invalid-wait",c=qh(u.split("ms")[0])?Number(u.split("ms")[0]):250;o=GE(o,c)}if(n.includes("throttle")){let u=n[n.indexOf("throttle")+1]||"invalid-wait",c=qh(u.split("ms")[0])?Number(u.split("ms")[0]):250;o=HE(o,c)}return i.addEventListener(e,o,s),()=>{i.removeEventListener(e,o,s)}}function k1(t){return t.replace(/-/g,".")}function P1(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function qh(t){return!Array.isArray(t)&&!isNaN(t)}function N1(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function F1(t){return["keydown","keyup"].includes(t)}function B1(t,e){let n=e.filter(o=>!["window","document","prevent","stop","once"].includes(o));if(n.includes("debounce")){let o=n.indexOf("debounce");n.splice(o,qh((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Dv(t.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>n.includes(o));return n=n.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),t[`${s}Key`])).length===i.length&&Dv(t.key).includes(n[0]))}function Dv(t){if(!t)return[];t=N1(t);let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[t]=t,Object.keys(e).map(n=>{if(e[n]===t)return n}).filter(n=>n)}Be("model",(t,{modifiers:e,expression:n},{effect:r,cleanup:i})=>{let o=En(t,n),s=`${n} = rightSideOfExpression($event, ${n})`,a=En(t,s);var u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let c=U1(t,e,n),h=mb(t,u,e,d=>{a(()=>{},{scope:{$event:d,rightSideOfExpression:c}})});t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=h,i(()=>t._x_removeModelListeners.default());let p=En(t,`${n} = __placeholder`);t._x_model={get(){let d;return o(g=>d=g),d},set(d){p(()=>{},{scope:{__placeholder:d}})}},t._x_forceModelUpdate=()=>{o(d=>{d===void 0&&n.match(/\./)&&(d=""),window.fromModel=!0,Qe(()=>UE(t,"value",d)),delete window.fromModel})},r(()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate()})});function U1(t,e,n){return t.type==="radio"&&Qe(()=>{t.hasAttribute("name")||t.setAttribute("name",n)}),(r,i)=>Qe(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail||r.target.value;if(t.type==="checkbox")if(Array.isArray(i)){let o=e.includes("number")?Qf(r.target.value):r.target.value;return r.target.checked?i.concat([o]):i.filter(s=>!$1(s,o))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(o=>{let s=o.value||o.text;return Qf(s)}):Array.from(r.target.selectedOptions).map(o=>o.value||o.text);{let o=r.target.value;return e.includes("number")?Qf(o):e.includes("trim")?o.trim():o}}})}function Qf(t){let e=t?parseFloat(t):null;return G1(e)?e:t}function $1(t,e){return t==e}function G1(t){return!Array.isArray(t)&&!isNaN(t)}Be("cloak",t=>queueMicrotask(()=>Qe(()=>t.removeAttribute(Ps("cloak")))));NE(()=>`[${Ps("init")}]`);Be("init",Qu((t,{expression:e},{evaluate:n})=>typeof e=="string"?!!e.trim()&&n(e,{},!1):n(e,{},!1)));Be("text",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(o=>{Qe(()=>{t.textContent=o})})})});Be("html",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(o=>{Qe(()=>{t.innerHTML=o,t._x_ignoreSelf=!0,Gi(t),delete t._x_ignoreSelf})})})});Gd(SE(":",IE(Ps("bind:"))));Be("bind",(t,{value:e,modifiers:n,expression:r,original:i},{effect:o})=>{if(!e)return H1(t,r,i);if(e==="key")return V1(t,r);let s=En(t,r);o(()=>s(a=>{a===void 0&&r.match(/\./)&&(a=""),Qe(()=>UE(t,e,a,n))}))});function H1(t,e,n,r){let i={};ZD(i);let o=En(t,e),s=[];for(;s.length;)s.pop()();o(a=>{let u=Object.entries(a).map(([h,p])=>({name:h,value:p})),c=_D(u);u=u.map(h=>c.find(p=>p.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),$d(t,u,n).map(h=>{s.push(h.runCleanups),h()})},{scope:i})}function V1(t,e){t._x_keyExpression=e}PE(()=>`[${Ps("data")}]`);Be("data",Qu((t,{expression:e},{cleanup:n})=>{e=e===""?"{}":e;let r={};Nh(r,t);let i={};QD(i,r);let o=ms(t,e,{scope:i});o===void 0&&(o={}),Nh(o,t);let s=ks(o);vE(s);let a=Ua(t,s);s.init&&ms(t,s.init),n(()=>{s.destroy&&ms(t,s.destroy),a()})}));Be("show",(t,{modifiers:e,expression:n},{effect:r})=>{let i=En(t,n);t._x_doHide||(t._x_doHide=()=>{Qe(()=>t.style.display="none")}),t._x_doShow||(t._x_doShow=()=>{Qe(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let o=()=>{t._x_doHide(),t._x_isShown=!1},s=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(s),u=Gh(p=>p?s():o(),p=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,p,s,o):p?a():o()}),c,h=!0;r(()=>i(p=>{!h&&p===c||(e.includes("immediate")&&(p?a():o()),u(p),c=p,h=!1)}))});Be("for",(t,{expression:e},{effect:n,cleanup:r})=>{let i=j1(e),o=En(t,i.items),s=En(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n(()=>W1(t,i,o,s)),r(()=>{Object.values(t._x_lookup).forEach(a=>a.remove()),delete t._x_prevKeys,delete t._x_lookup})});function W1(t,e,n,r){let i=s=>typeof s=="object"&&!Array.isArray(s),o=t;n(s=>{z1(s)&&s>=0&&(s=Array.from(Array(s).keys(),_=>_+1)),s===void 0&&(s=[]);let a=t._x_lookup,u=t._x_prevKeys,c=[],h=[];if(i(s))s=Object.entries(s).map(([_,E])=>{let w=Lv(e,E,_,s);r(v=>h.push(v),{scope:{index:_,...w}}),c.push(w)});else for(let _=0;_<s.length;_++){let E=Lv(e,s[_],_,s);r(w=>h.push(w),{scope:{index:_,...E}}),c.push(E)}let p=[],d=[],g=[],y=[];for(let _=0;_<u.length;_++){let E=u[_];h.indexOf(E)===-1&&g.push(E)}u=u.filter(_=>!g.includes(_));let m="template";for(let _=0;_<h.length;_++){let E=h[_],w=u.indexOf(E);if(w===-1)u.splice(_,0,E),p.push([m,_]);else if(w!==_){let v=u.splice(_,1)[0],b=u.splice(w-1,1)[0];u.splice(_,0,b),u.splice(w,0,v),d.push([v,b])}else y.push(E);m=E}for(let _=0;_<g.length;_++){let E=g[_];a[E]._x_effects&&a[E]._x_effects.forEach(lE),a[E].remove(),a[E]=null,delete a[E]}for(let _=0;_<d.length;_++){let[E,w]=d[_],v=a[E],b=a[w],T=document.createElement("div");Qe(()=>{b.after(T),v.after(b),b._x_currentIfEl&&b.after(b._x_currentIfEl),T.before(v),v._x_currentIfEl&&v.after(v._x_currentIfEl),T.remove()}),Cv(b,c[h.indexOf(w)])}for(let _=0;_<p.length;_++){let[E,w]=p[_],v=E==="template"?o:a[E];v._x_currentIfEl&&(v=v._x_currentIfEl);let b=c[w],T=h[w],I=document.importNode(o.content,!0).firstElementChild;Ua(I,ks(b),o),Qe(()=>{v.after(I),Gi(I)}),typeof T=="object"&&Ss("x-for key cannot be an object, it must be a string or an integer",o),a[T]=I}for(let _=0;_<y.length;_++)Cv(a[y[_]],c[h.indexOf(y[_])]);o._x_prevKeys=h})}function j1(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(r);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(n,"").trim(),a=s.match(e);return a?(o.item=s.replace(e,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function Lv(t,e,n,r){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=e[s]}):i[t.item]=e,t.index&&(i[t.index]=n),t.collection&&(i[t.collection]=r),i}function z1(t){return!Array.isArray(t)&&!isNaN(t)}function vb(){}vb.inline=(t,{expression:e},{cleanup:n})=>{let r=Xu(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,n(()=>delete r._x_refs[e])};Be("ref",vb);Be("if",(t,{expression:e},{effect:n,cleanup:r})=>{let i=En(t,e),o=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Ua(a,{},t),Qe(()=>{t.after(a),Gi(a)}),t._x_currentIfEl=a,t._x_undoIf=()=>{Do(a,u=>{u._x_effects&&u._x_effects.forEach(lE)}),a.remove(),delete t._x_currentIfEl},a},s=()=>{!t._x_undoIf||(t._x_undoIf(),delete t._x_undoIf)};n(()=>i(a=>{a?o():s()})),r(()=>t._x_undoIf&&t._x_undoIf())});Be("id",(t,{expression:e},{evaluate:n})=>{n(e).forEach(i=>M1(t,i))});Gd(SE("@",IE(Ps("on:"))));Be("on",Qu((t,{value:e,modifiers:n,expression:r},{cleanup:i})=>{let o=r?En(t,r):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let s=mb(t,e,n,a=>{o(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));lc("Collapse","collapse","collapse");lc("Intersect","intersect","intersect");lc("Focus","trap","focus");lc("Mask","mask","mask");function lc(t,e,n){Be(e,r=>Ss(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Ga.setEvaluator(bE);Ga.setReactivityEngine({reactive:Zd,effect:l1,release:u1,raw:Ce});var q1=Ga,uc=q1;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yb=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Mv=yb.join(","),wu=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_b=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(Mv));return n&&wu.call(e,Mv)&&i.unshift(e),i=i.filter(r),i},Y1=function(e){return e.contentEditable==="true"},Eb=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return isNaN(n)?Y1(e)||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n},K1=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Jd=function(e){return e.tagName==="INPUT"},X1=function(e){return Jd(e)&&e.type==="hidden"},Z1=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},J1=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Q1=function(e){if(!e.name)return!0;var n=e.form||e.ownerDocument,r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=J1(i,e.form);return!o||o===e},tL=function(e){return Jd(e)&&e.type==="radio"},eL=function(e){return tL(e)&&!Q1(e)},nL=function(e,n){if(getComputedStyle(e).visibility==="hidden")return!0;var r=wu.call(e,"details>summary:first-of-type"),i=r?e.parentElement:e;if(wu.call(i,"details:not([open]) *"))return!0;if(!n||n==="full")for(;e;){if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}else if(n==="non-zero-area"){var o=e.getBoundingClientRect(),s=o.width,a=o.height;return s===0&&a===0}return!1},rL=function(e){if(Jd(e)||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="BUTTON")for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return!i.contains(e)}return!0}n=n.parentElement}return!1},Qd=function(e,n){return!(n.disabled||X1(n)||nL(n,e.displayCheck)||Z1(n)||rL(n))},iL=function(e,n){return!(!Qd(e,n)||eL(n)||Eb(n)<0)},oL=function(e,n){n=n||{};var r=[],i=[],o=_b(e,n.includeContainer,iL.bind(null,n));o.forEach(function(a,u){var c=Eb(a);c===0?r.push(a):i.push({documentOrder:u,tabIndex:c,node:a})});var s=i.sort(K1).map(function(a){return a.node}).concat(r);return s},sL=function(e,n){n=n||{};var r=_b(e,n.includeContainer,Qd.bind(null,n));return r},aL=yb.concat("iframe").join(","),bb=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return wu.call(e,aL)===!1?!1:Qd(n,e)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kv(Object(n),!0).forEach(function(r){uL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pv=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),cL=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},fL=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},hL=function(e){return e.key==="Tab"||e.keyCode===9},Nv=function(e){return setTimeout(e,0)},th=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},ua=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},dL=function(e,n){var r=document,i=lL({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(I,S,C){return I&&I[S]!==void 0?I[S]:i[C||S]},u=function(I){return o.containers.some(function(S){return S.contains(I)})},c=function(I){var S=i[I];if(!S)return null;var C=S;if(typeof S=="string"&&(C=r.querySelector(S),!C))throw new Error("`".concat(I,"` refers to no known node"));if(typeof S=="function"&&(C=S(),!C))throw new Error("`".concat(I,"` did not return a node"));return C},h=function(){var I;if(a({},"initialFocus")===!1)return!1;if(c("initialFocus")!==null)I=c("initialFocus");else if(u(r.activeElement))I=r.activeElement;else{var S=o.tabbableGroups[0],C=S&&S.firstTabbableNode;I=C||c("fallbackFocus")}if(!I)throw new Error("Your focus-trap needs to have at least one focusable element");return I},p=function(){if(o.tabbableGroups=o.containers.map(function(I){var S=oL(I);if(S.length>0)return{container:I,firstTabbableNode:S[0],lastTabbableNode:S[S.length-1]}}).filter(function(I){return!!I}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function T(I){if(I!==!1&&I!==r.activeElement){if(!I||!I.focus){T(h());return}I.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=I,cL(I)&&I.select()}},g=function(I){var S=c("setReturnFocus");return S||I},y=function(I){if(!u(I.target)){if(ua(i.clickOutsideDeactivates,I)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!bb(I.target)});return}ua(i.allowOutsideClick,I)||I.preventDefault()}},m=function(I){var S=u(I.target);S||I.target instanceof Document?S&&(o.mostRecentlyFocusedNode=I.target):(I.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||h()))},_=function(I){p();var S=null;if(o.tabbableGroups.length>0){var C=th(o.tabbableGroups,function(k){var R=k.container;return R.contains(I.target)});if(C<0)I.shiftKey?S=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:S=o.tabbableGroups[0].firstTabbableNode;else if(I.shiftKey){var D=th(o.tabbableGroups,function(k){var R=k.firstTabbableNode;return I.target===R});if(D<0&&o.tabbableGroups[C].container===I.target&&(D=C),D>=0){var N=D===0?o.tabbableGroups.length-1:D-1,P=o.tabbableGroups[N];S=P.lastTabbableNode}}else{var L=th(o.tabbableGroups,function(k){var R=k.lastTabbableNode;return I.target===R});if(L<0&&o.tabbableGroups[C].container===I.target&&(L=C),L>=0){var x=L===o.tabbableGroups.length-1?0:L+1,M=o.tabbableGroups[x];S=M.firstTabbableNode}}}else S=c("fallbackFocus");S&&(I.preventDefault(),d(S))},E=function(I){if(fL(I)&&ua(i.escapeDeactivates)!==!1){I.preventDefault(),s.deactivate();return}if(hL(I)){_(I);return}},w=function(I){ua(i.clickOutsideDeactivates,I)||u(I.target)||ua(i.allowOutsideClick,I)||(I.preventDefault(),I.stopImmediatePropagation())},v=function(){if(!!o.active)return Pv.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?Nv(function(){d(h())}):d(h()),r.addEventListener("focusin",m,!0),r.addEventListener("mousedown",y,{capture:!0,passive:!1}),r.addEventListener("touchstart",y,{capture:!0,passive:!1}),r.addEventListener("click",w,{capture:!0,passive:!1}),r.addEventListener("keydown",E,{capture:!0,passive:!1}),s},b=function(){if(!!o.active)return r.removeEventListener("focusin",m,!0),r.removeEventListener("mousedown",y,!0),r.removeEventListener("touchstart",y,!0),r.removeEventListener("click",w,!0),r.removeEventListener("keydown",E,!0),s};return s={activate:function(I){if(o.active)return this;var S=a(I,"onActivate"),C=a(I,"onPostActivate"),D=a(I,"checkCanFocusTrap");D||p(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,S&&S();var N=function(){D&&p(),v(),C&&C()};return D?(D(o.containers.concat()).then(N,N),this):(N(),this)},deactivate:function(I){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,Pv.deactivateTrap(s);var S=a(I,"onDeactivate"),C=a(I,"onPostDeactivate"),D=a(I,"checkCanReturnFocus");S&&S();var N=a(I,"returnFocus","returnFocusOnDeactivate"),P=function(){Nv(function(){N&&d(g(o.nodeFocusedBeforeActivation)),C&&C()})};return N&&D?(D(g(o.nodeFocusedBeforeActivation)).then(P,P),this):(P(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,b(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,p(),v(),this)},updateContainerElements:function(I){var S=[].concat(I).filter(Boolean);return o.containers=S.map(function(C){return typeof C=="string"?r.querySelector(C):C}),o.active&&p(),this}},s.updateContainerElements(e),s};function pL(t){let e,n;window.addEventListener("focusin",()=>{e=n,n=document.activeElement}),t.magic("focus",r=>{let i=r;return{__noscroll:!1,__wrapAround:!1,within(o){return i=o,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(o){return bb(o)},previouslyFocused(){return e},lastFocused(){return e},focused(){return n},focusables(){return Array.isArray(i)?i:sL(i,{displayCheck:"none"})},all(){return this.focusables()},isFirst(o){let s=this.all();return s[0]&&s[0].isSameNode(o)},isLast(o){let s=this.all();return s.length&&s.slice(-1)[0].isSameNode(o)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===o.length-1?o[0]:o[o.indexOf(s)+1]},getPrevious(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===0?o.slice(-1)[0]:o[o.indexOf(s)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(o){!o||setTimeout(()=>{o.hasAttribute("tabindex")||o.setAttribute("tabindex","0"),o.focus({preventScroll:this._noscroll})})}}}),t.directive("trap",t.skipDuringClone((r,{expression:i,modifiers:o},{effect:s,evaluateLater:a,cleanup:u})=>{let c=a(i),h=!1,p=dL(r,{escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>r,initialFocus:r.querySelector("[autofocus]")}),d=()=>{},g=()=>{};const y=()=>{d(),d=()=>{},g(),g=()=>{},p.deactivate({returnFocus:!o.includes("noreturn")})};s(()=>c(m=>{h!==m&&(m&&!h&&setTimeout(()=>{o.includes("inert")&&(d=Fv(r)),o.includes("noscroll")&&(g=gL()),p.activate()}),!m&&h&&y(),h=!!m)})),u(y)},(r,{expression:i,modifiers:o},{evaluate:s})=>{o.includes("inert")&&s(i)&&Fv(r)}))}function Fv(t){let e=[];return wb(t,n=>{let r=n.hasAttribute("aria-hidden");n.setAttribute("aria-hidden","true"),e.push(()=>r||n.removeAttribute("aria-hidden"))}),()=>{for(;e.length;)e.pop()()}}function wb(t,e){t.isSameNode(document.body)||!t.parentNode||Array.from(t.parentNode.children).forEach(n=>{n.isSameNode(t)||e(n),wb(t.parentNode,e)})}function gL(){let t=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=e}}var mL=pL,vL=Object.create,cc=Object.defineProperty,yL=Object.getPrototypeOf,_L=Object.prototype.hasOwnProperty,EL=Object.getOwnPropertyNames,bL=Object.getOwnPropertyDescriptor,wL=t=>cc(t,"__esModule",{value:!0}),Ns=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),AL=(t,e)=>{for(var n in e)cc(t,n,{get:e[n],enumerable:!0})},TL=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of EL(e))!_L.call(t,r)&&r!=="default"&&cc(t,r,{get:()=>e[r],enumerable:!(n=bL(e,r))||n.enumerable});return t},Fs=t=>TL(wL(cc(t!=null?vL(yL(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),SL=Ns((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?e.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=r()})(t,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},u=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(_){this[m]=+_}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(_){if(!_||_==="Z")return 0;var E=_.match(/([+-]|\d\d)/g),w=60*E[1]+(+E[2]||0);return w===0?0:E[0]==="+"?-w:w}(m)}],p=function(m){var _=a[m];return _&&(_.indexOf?_:_.s.concat(_.f))},d=function(m,_){var E,w=a.meridiem;if(w){for(var v=1;v<=24;v+=1)if(m.indexOf(w(v,0,_))>-1){E=v>12;break}}else E=m===(_?"pm":"PM");return E},g={A:[s,function(m){this.afternoon=d(m,!1)}],a:[s,function(m){this.afternoon=d(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[s,function(m){var _=a.ordinal,E=m.match(/\d+/);if(this.day=E[0],_)for(var w=1;w<=31;w+=1)_(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[o,c("month")],MM:[i,c("month")],MMM:[s,function(m){var _=p("months"),E=(p("monthsShort")||_.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[s,function(m){var _=p("months").indexOf(m)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(m){this.year=u(m)}],YYYY:[/\d{4}/,c("year")],Z:h,ZZ:h};function y(m){var _,E;_=m,E=a&&a.formats;for(var w=(m=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,N,P){var L=P&&P.toUpperCase();return N||E[P]||n[P]||E[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,M,k){return M||k.slice(1)})})).match(r),v=w.length,b=0;b<v;b+=1){var T=w[b],I=g[T],S=I&&I[0],C=I&&I[1];w[b]=C?{regex:S,parser:C}:T.replace(/^\[|\]$/g,"")}return function(D){for(var N={},P=0,L=0;P<v;P+=1){var x=w[P];if(typeof x=="string")L+=x.length;else{var M=x.regex,k=x.parser,R=D.slice(L),B=M.exec(R)[0];k.call(N,B),D=D.replace(B,"")}}return function($){var H=$.afternoon;if(H!==void 0){var j=$.hours;H?j<12&&($.hours+=12):j===12&&($.hours=0),delete $.afternoon}}(N),N}}return function(m,_,E){E.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var w=_.prototype,v=w.parse;w.parse=function(b){var T=b.date,I=b.utc,S=b.args;this.$u=I;var C=S[1];if(typeof C=="string"){var D=S[2]===!0,N=S[3]===!0,P=D||N,L=S[2];N&&(L=S[2]),a=this.$locale(),!D&&L&&(a=E.Ls[L]),this.$d=function(R,B,$){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*R);var H=y(B)(R),j=H.year,X=H.month,ft=H.day,at=H.hours,ht=H.minutes,vt=H.seconds,ct=H.milliseconds,bt=H.zone,wt=new Date,Rt=ft||(j||X?1:wt.getDate()),Ot=j||wt.getFullYear(),ee=0;j&&!X||(ee=X>0?X-1:wt.getMonth());var ae=at||0,an=ht||0,me=vt||0,qe=ct||0;return bt?new Date(Date.UTC(Ot,ee,Rt,ae,an,me,qe+60*bt.offset*1e3)):$?new Date(Date.UTC(Ot,ee,Rt,ae,an,me,qe)):new Date(Ot,ee,Rt,ae,an,me,qe)}catch{return new Date("")}}(T,C,I),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),P&&T!=this.format(C)&&(this.$d=new Date("")),a={}}else if(C instanceof Array)for(var x=C.length,M=1;M<=x;M+=1){S[1]=C[M-1];var k=E.apply(this,S);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}M===x&&(this.$d=new Date(""))}else v.call(this,b)}}})}),IL=Ns((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?e.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_localeData=r()})(t,function(){return function(n,r,i){var o=r.prototype,s=function(p){return p&&(p.indexOf?p:p.s)},a=function(p,d,g,y,m){var _=p.name?p:p.$locale(),E=s(_[d]),w=s(_[g]),v=E||w.map(function(T){return T.slice(0,y)});if(!m)return v;var b=_.weekStart;return v.map(function(T,I){return v[(I+(b||0))%7]})},u=function(){return i.Ls[i.locale()]},c=function(p,d){return p.formats[d]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,m,_){return m||_.slice(1)})}(p.formats[d.toUpperCase()])},h=function(){var p=this;return{months:function(d){return d?d.format("MMMM"):a(p,"months")},monthsShort:function(d){return d?d.format("MMM"):a(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):a(p,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):a(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):a(p,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(p.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return h.bind(this)()},i.localeData=function(){var p=u();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return c(p,d)},meridiem:p.meridiem,ordinal:p.ordinal}},i.months=function(){return a(u(),"months")},i.monthsShort=function(){return a(u(),"monthsShort","months",3)},i.weekdays=function(p){return a(u(),"weekdays",null,null,p)},i.weekdaysShort=function(p){return a(u(),"weekdaysShort","weekdays",3,p)},i.weekdaysMin=function(p){return a(u(),"weekdaysMin","weekdays",2,p)}}})}),CL=Ns((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?e.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_timezone=r()})(t,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,u=function(d,g,y){y===void 0&&(y={});var m=new Date(d),_=function(E,w){w===void 0&&(w={});var v=w.timeZoneName||"short",b=E+"|"+v,T=r[b];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:E,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:v}),r[b]=T),T}(g,y);return _.formatToParts(m)},c=function(d,g){for(var y=u(d,g),m=[],_=0;_<y.length;_+=1){var E=y[_],w=E.type,v=E.value,b=n[w];b>=0&&(m[b]=parseInt(v,10))}var T=m[3],I=T===24?0:T,S=m[0]+"-"+m[1]+"-"+m[2]+" "+I+":"+m[4]+":"+m[5]+":000",C=+d;return(s.utc(S).valueOf()-(C-=C%1e3))/6e4},h=o.prototype;h.tz=function(d,g){d===void 0&&(d=a);var y=this.utcOffset(),m=this.toDate(),_=m.toLocaleString("en-US",{timeZone:d}),E=Math.round((m-new Date(_))/1e3/60),w=s(_).$set("millisecond",this.$ms).utcOffset(15*-Math.round(m.getTimezoneOffset()/15)-E,!0);if(g){var v=w.utcOffset();w=w.add(y-v,"minute")}return w.$x.$timezone=d,w},h.offsetName=function(d){var g=this.$x.$timezone||s.tz.guess(),y=u(this.valueOf(),g,{timeZoneName:d}).find(function(m){return m.type.toLowerCase()==="timezonename"});return y&&y.value};var p=h.startOf;h.startOf=function(d,g){if(!this.$x||!this.$x.$timezone)return p.call(this,d,g);var y=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return p.call(y,d,g).tz(this.$x.$timezone,!0)},s.tz=function(d,g,y){var m=y&&g,_=y||g||a,E=c(+s(),_);if(typeof d!="string")return s(d).tz(_);var w=function(I,S,C){var D=I-60*S*1e3,N=c(D,C);if(S===N)return[D,S];var P=c(D-=60*(N-S)*1e3,C);return N===P?[D,N]:[I-60*Math.min(N,P)*1e3,Math.max(N,P)]}(s.utc(d,m).valueOf(),E,_),v=w[0],b=w[1],T=s(v).utcOffset(b);return T.$x.$timezone=_,T},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(d){a=d}}})}),xL=Ns((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?e.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=r()})(t,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var u=s.prototype;a.utc=function(m){var _={date:m,utc:!0,args:arguments};return new s(_)},u.utc=function(m){var _=a(this.toDate(),{locale:this.$L,utc:!0});return m?_.add(this.utcOffset(),n):_},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=u.parse;u.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),c.call(this,m)};var h=u.init;u.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else h.call(this)};var p=u.utcOffset;u.utcOffset=function(m,_){var E=this.$utils().u;if(E(m))return this.$u?0:E(this.$offset)?p.call(this):this.$offset;if(typeof m=="string"&&(m=function(T){T===void 0&&(T="");var I=T.match(r);if(!I)return null;var S=(""+I[0]).match(i)||["-",0,0],C=S[0],D=60*+S[1]+ +S[2];return D===0?0:C==="+"?D:-D}(m),m===null))return this;var w=Math.abs(m)<=16?60*m:m,v=this;if(_)return v.$offset=w,v.$u=m===0,v;if(m!==0){var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(v=this.local().add(w+b,n)).$offset=w,v.$x.$localOffset=b}else v=this.utc();return v};var d=u.format;u.format=function(m){var _=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,_)},u.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var g=u.toDate;u.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var y=u.diff;u.diff=function(m,_,E){if(m&&this.$u===m.$u)return y.call(this,m,_,E);var w=this.local(),v=a(m).local();return y.call(w,v,_,E)}}})}),RL=Ns((t,e)=>{(function(){}).call(t),function(){window.Set==null&&(window.Set=function(){function n(){this.clear()}return n.prototype.clear=function(){return this.values=[]},n.prototype.has=function(r){return this.values.indexOf(r)!==-1},n.prototype.add=function(r){return this.has(r)||this.values.push(r),this},n.prototype.delete=function(r){var i;return(i=this.values.indexOf(r))===-1?!1:(this.values.splice(i,1),!0)},n.prototype.forEach=function(){var r;return(r=this.values).forEach.apply(r,arguments)},n}())}.call(t),function(n){function r(){}function i(m,_){return function(){m.apply(_,arguments)}}function o(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(m,this)}function s(m,_){for(;m._state===3;)m=m._value;return m._state===0?void m._deferreds.push(_):(m._handled=!0,void g(function(){var E=m._state===1?_.onFulfilled:_.onRejected;if(E===null)return void(m._state===1?a:u)(_.promise,m._value);var w;try{w=E(m._value)}catch(v){return void u(_.promise,v)}a(_.promise,w)}))}function a(m,_){try{if(_===m)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var E=_.then;if(_ instanceof o)return m._state=3,m._value=_,void c(m);if(typeof E=="function")return void p(i(E,_),m)}m._state=1,m._value=_,c(m)}catch(w){u(m,w)}}function u(m,_){m._state=2,m._value=_,c(m)}function c(m){m._state===2&&m._deferreds.length===0&&setTimeout(function(){m._handled||y(m._value)},1);for(var _=0,E=m._deferreds.length;E>_;_++)s(m,m._deferreds[_]);m._deferreds=null}function h(m,_,E){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof _=="function"?_:null,this.promise=E}function p(m,_){var E=!1;try{m(function(w){E||(E=!0,a(_,w))},function(w){E||(E=!0,u(_,w))})}catch(w){if(E)return;E=!0,u(_,w)}}var d=setTimeout,g=typeof setImmediate=="function"&&setImmediate||function(m){d(m,1)},y=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)};o.prototype.catch=function(m){return this.then(null,m)},o.prototype.then=function(m,_){var E=new o(r);return s(this,new h(m,_,E)),E},o.all=function(m){var _=Array.prototype.slice.call(m);return new o(function(E,w){function v(I,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var C=S.then;if(typeof C=="function")return void C.call(S,function(D){v(I,D)},w)}_[I]=S,--b===0&&E(_)}catch(D){w(D)}}if(_.length===0)return E([]);for(var b=_.length,T=0;T<_.length;T++)v(T,_[T])})},o.resolve=function(m){return m&&typeof m=="object"&&m.constructor===o?m:new o(function(_){_(m)})},o.reject=function(m){return new o(function(_,E){E(m)})},o.race=function(m){return new o(function(_,E){for(var w=0,v=m.length;v>w;w++)m[w].then(_,E)})},o._setImmediateFn=function(m){g=m},o._setUnhandledRejectionFn=function(m){y=m},typeof e<"u"&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(t),function(){var n=typeof window.customElements=="object",r=typeof document.registerElement=="function",i=n||r;i||(typeof WeakMap>"u"&&function(){var o=Object.defineProperty,s=Date.now()%1e9,a=function(){this.name="__st"+(1e9*Math.random()>>>0)+(s+++"__")};a.prototype={set:function(u,c){var h=u[this.name];return h&&h[0]===u?h[1]=c:o(u,this.name,{value:[u,c],writable:!0}),this},get:function(u){var c;return(c=u[this.name])&&c[0]===u?c[1]:void 0},delete:function(u){var c=u[this.name];return c&&c[0]===u?(c[0]=c[1]=void 0,!0):!1},has:function(u){var c=u[this.name];return c?c[0]===u:!1}},window.WeakMap=a}(),function(o){function s(x){D.push(x),C||(C=!0,b(u))}function a(x){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(x)||x}function u(){C=!1;var x=D;D=[],x.sort(function(k,R){return k.uid_-R.uid_});var M=!1;x.forEach(function(k){var R=k.takeRecords();c(k),R.length&&(k.callback_(R,k),M=!0)}),M&&u()}function c(x){x.nodes_.forEach(function(M){var k=T.get(M);k&&k.forEach(function(R){R.observer===x&&R.removeTransientObservers()})})}function h(x,M){for(var k=x;k;k=k.parentNode){var R=T.get(k);if(R)for(var B=0;B<R.length;B++){var $=R[B],H=$.options;if(k===x||H.subtree){var j=M(H);j&&$.enqueue(j)}}}}function p(x){this.callback_=x,this.nodes_=[],this.records_=[],this.uid_=++N}function d(x,M){this.type=x,this.target=M,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function g(x){var M=new d(x.type,x.target);return M.addedNodes=x.addedNodes.slice(),M.removedNodes=x.removedNodes.slice(),M.previousSibling=x.previousSibling,M.nextSibling=x.nextSibling,M.attributeName=x.attributeName,M.attributeNamespace=x.attributeNamespace,M.oldValue=x.oldValue,M}function y(x,M){return P=new d(x,M)}function m(x){return L||(L=g(P),L.oldValue=x,L)}function _(){P=L=void 0}function E(x){return x===L||x===P}function w(x,M){return x===M?x:L&&E(x)?L:null}function v(x,M,k){this.observer=x,this.target=M,this.options=k,this.transientObservedNodes=[]}if(!o.JsMutationObserver){var b,T=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))b=setTimeout;else if(window.setImmediate)b=window.setImmediate;else{var I=[],S=String(Math.random());window.addEventListener("message",function(x){if(x.data===S){var M=I;I=[],M.forEach(function(k){k()})}}),b=function(x){I.push(x),window.postMessage(S,"*")}}var C=!1,D=[],N=0;p.prototype={observe:function(x,M){if(x=a(x),!M.childList&&!M.attributes&&!M.characterData||M.attributeOldValue&&!M.attributes||M.attributeFilter&&M.attributeFilter.length&&!M.attributes||M.characterDataOldValue&&!M.characterData)throw new SyntaxError;var k=T.get(x);k||T.set(x,k=[]);for(var R,B=0;B<k.length;B++)if(k[B].observer===this){R=k[B],R.removeListeners(),R.options=M;break}R||(R=new v(this,x,M),k.push(R),this.nodes_.push(x)),R.addListeners()},disconnect:function(){this.nodes_.forEach(function(x){for(var M=T.get(x),k=0;k<M.length;k++){var R=M[k];if(R.observer===this){R.removeListeners(),M.splice(k,1);break}}},this),this.records_=[]},takeRecords:function(){var x=this.records_;return this.records_=[],x}};var P,L;v.prototype={enqueue:function(x){var M=this.observer.records_,k=M.length;if(M.length>0){var R=M[k-1],B=w(R,x);if(B)return void(M[k-1]=B)}else s(this.observer);M[k]=x},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(x){var M=this.options;M.attributes&&x.addEventListener("DOMAttrModified",this,!0),M.characterData&&x.addEventListener("DOMCharacterDataModified",this,!0),M.childList&&x.addEventListener("DOMNodeInserted",this,!0),(M.childList||M.subtree)&&x.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(x){var M=this.options;M.attributes&&x.removeEventListener("DOMAttrModified",this,!0),M.characterData&&x.removeEventListener("DOMCharacterDataModified",this,!0),M.childList&&x.removeEventListener("DOMNodeInserted",this,!0),(M.childList||M.subtree)&&x.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(x){if(x!==this.target){this.addListeners_(x),this.transientObservedNodes.push(x);var M=T.get(x);M||T.set(x,M=[]),M.push(this)}},removeTransientObservers:function(){var x=this.transientObservedNodes;this.transientObservedNodes=[],x.forEach(function(M){this.removeListeners_(M);for(var k=T.get(M),R=0;R<k.length;R++)if(k[R]===this){k.splice(R,1);break}},this)},handleEvent:function(x){switch(x.stopImmediatePropagation(),x.type){case"DOMAttrModified":var M=x.attrName,k=x.relatedNode.namespaceURI,R=x.target,at=new y("attributes",R);at.attributeName=M,at.attributeNamespace=k;var B=x.attrChange===MutationEvent.ADDITION?null:x.prevValue;h(R,function(ht){return!ht.attributes||ht.attributeFilter&&ht.attributeFilter.length&&ht.attributeFilter.indexOf(M)===-1&&ht.attributeFilter.indexOf(k)===-1?void 0:ht.attributeOldValue?m(B):at});break;case"DOMCharacterDataModified":var R=x.target,at=y("characterData",R),B=x.prevValue;h(R,function(ht){return ht.characterData?ht.characterDataOldValue?m(B):at:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(x.target);case"DOMNodeInserted":var $,H,j=x.target;x.type==="DOMNodeInserted"?($=[j],H=[]):($=[],H=[j]);var X=j.previousSibling,ft=j.nextSibling,at=y("childList",x.target.parentNode);at.addedNodes=$,at.removedNodes=H,at.previousSibling=X,at.nextSibling=ft,h(x.relatedNode,function(ht){return ht.childList?at:void 0})}_()}},o.JsMutationObserver=p,o.MutationObserver||(o.MutationObserver=p,p._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var o=Date.now();window.performance={now:function(){return Date.now()-o}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var h=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return h?function(p){return h(function(){p(performance.now())})}:function(p){return window.setTimeout(p,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(h){clearTimeout(h)}}());var s=function(){var h=document.createEvent("Event");return h.initEvent("foo",!0,!0),h.preventDefault(),h.defaultPrevented}();if(!s){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var u=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||u&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(h,p){p=p||{};var d=document.createEvent("CustomEvent");return d.initCustomEvent(h,Boolean(p.bubbles),Boolean(p.cancelable),p.detail),d},window.CustomEvent.prototype=window.Event.prototype),!window.Event||u&&typeof window.Event!="function"){var c=window.Event;window.Event=function(h,p){p=p||{};var d=document.createEvent("Event");return d.initEvent(h,Boolean(p.bubbles),Boolean(p.cancelable)),d},window.Event.prototype=c.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(o){var s=o.flags,a=[],u=function(h){a.push(h)},c=function(){a.forEach(function(h){h(o)})};o.addModule=u,o.initializeModules=c,o.hasNative=Boolean(document.registerElement),o.isIE=/Trident/.test(navigator.userAgent),o.useNative=!s.register&&o.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(o){function s(d,g){a(d,function(y){return g(y)?!0:void u(y,g)}),u(d,g)}function a(d,g,y){var m=d.firstElementChild;if(!m)for(m=d.firstChild;m&&m.nodeType!==Node.ELEMENT_NODE;)m=m.nextSibling;for(;m;)g(m,y)!==!0&&a(m,g,y),m=m.nextElementSibling;return null}function u(d,g){for(var y=d.shadowRoot;y;)s(y,g),y=y.olderShadowRoot}function c(d,g){h(d,g,[])}function h(d,g,y){if(d=window.wrap(d),!(y.indexOf(d)>=0)){y.push(d);for(var m,_=d.querySelectorAll("link[rel="+p+"]"),E=0,w=_.length;w>E&&(m=_[E]);E++)m.import&&h(m.import,g,y);g(d)}}var p=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";o.forDocumentTree=c,o.forSubtree=s}),window.CustomElements.addModule(function(o){function s(k,R){return a(k,R)||u(k,R)}function a(k,R){return o.upgrade(k,R)?!0:void(R&&p(k))}function u(k,R){C(k,function(B){return a(B,R)?!0:void 0})}function c(k){L.push(k),P||(P=!0,setTimeout(h))}function h(){P=!1;for(var k,R=L,B=0,$=R.length;$>B&&(k=R[B]);B++)k();L=[]}function p(k){N?c(function(){d(k)}):d(k)}function d(k){k.__upgraded__&&!k.__attached&&(k.__attached=!0,k.attachedCallback&&k.attachedCallback())}function g(k){y(k),C(k,function(R){y(R)})}function y(k){N?c(function(){m(k)}):m(k)}function m(k){k.__upgraded__&&k.__attached&&(k.__attached=!1,k.detachedCallback&&k.detachedCallback())}function _(k){for(var R=k,B=window.wrap(document);R;){if(R==B)return!0;R=R.parentNode||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&R.host}}function E(k){if(k.shadowRoot&&!k.shadowRoot.__watched){S.dom&&console.log("watching shadow-root for: ",k.localName);for(var R=k.shadowRoot;R;)b(R),R=R.olderShadowRoot}}function w(k,R){if(S.dom){var B=R[0];if(B&&B.type==="childList"&&B.addedNodes&&B.addedNodes){for(var $=B.addedNodes[0];$&&$!==document&&!$.host;)$=$.parentNode;var H=$&&($.URL||$._URL||$.host&&$.host.localName)||"";H=H.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",R.length,H||"")}var j=_(k);R.forEach(function(X){X.type==="childList"&&(x(X.addedNodes,function(ft){ft.localName&&s(ft,j)}),x(X.removedNodes,function(ft){ft.localName&&g(ft)}))}),S.dom&&console.groupEnd()}function v(k){for(k=window.wrap(k),k||(k=window.wrap(document));k.parentNode;)k=k.parentNode;var R=k.__observer;R&&(w(k,R.takeRecords()),h())}function b(k){if(!k.__observer){var R=new MutationObserver(w.bind(this,k));R.observe(k,{childList:!0,subtree:!0}),k.__observer=R}}function T(k){k=window.wrap(k),S.dom&&console.group("upgradeDocument: ",k.baseURI.split("/").pop());var R=k===window.wrap(document);s(k,R),b(k),S.dom&&console.groupEnd()}function I(k){D(k,T)}var S=o.flags,C=o.forSubtree,D=o.forDocumentTree,N=window.MutationObserver._isPolyfilled&&S["throttle-attached"];o.hasPolyfillMutations=N,o.hasThrottledAttached=N;var P=!1,L=[],x=Array.prototype.forEach.call.bind(Array.prototype.forEach),M=Element.prototype.createShadowRoot;M&&(Element.prototype.createShadowRoot=function(){var k=M.call(this);return window.CustomElements.watchShadow(this),k}),o.watchShadow=E,o.upgradeDocumentTree=I,o.upgradeDocument=T,o.upgradeSubtree=u,o.upgradeAll=s,o.attached=p,o.takeRecords=v}),window.CustomElements.addModule(function(o){function s(d,g){if(d.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(d),!d.__upgraded__&&d.nodeType===Node.ELEMENT_NODE){var y=d.getAttribute("is"),m=o.getRegisteredDefinition(d.localName)||o.getRegisteredDefinition(y);if(m&&(y&&m.tag==d.localName||!y&&!m.extends))return a(d,m,g)}}function a(d,g,y){return p.upgrade&&console.group("upgrade:",d.localName),g.is&&d.setAttribute("is",g.is),u(d,g),d.__upgraded__=!0,h(d),y&&o.attached(d),o.upgradeSubtree(d,y),p.upgrade&&console.groupEnd(),d}function u(d,g){Object.__proto__||c(d,g.prototype,g.native),d.__proto__=g.prototype}function c(d,g,y){for(var m={},_=g;_!==y&&_!==HTMLElement.prototype;){for(var E,w=Object.getOwnPropertyNames(_),v=0;E=w[v];v++)m[E]||(Object.defineProperty(d,E,Object.getOwnPropertyDescriptor(_,E)),m[E]=1);_=Object.getPrototypeOf(_)}}function h(d){d.createdCallback&&d.createdCallback()}var p=o.flags;o.upgrade=s,o.upgradeWithDefinition=a,o.implementPrototype=u}),window.CustomElements.addModule(function(o){function s(k,R){var B=R||{};if(!k)throw new Error("document.registerElement: first argument `name` must not be empty");if(k.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(k)+"'.");if(c(k))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(k)+"'. The type name is invalid.");if(y(k))throw new Error("DuplicateDefinitionError: a type with name '"+String(k)+"' is already registered");return B.prototype||(B.prototype=Object.create(HTMLElement.prototype)),B.__name=k.toLowerCase(),B.extends&&(B.extends=B.extends.toLowerCase()),B.lifecycle=B.lifecycle||{},B.ancestry=h(B.extends),p(B),d(B),a(B.prototype),m(B.__name,B),B.ctor=_(B),B.ctor.prototype=B.prototype,B.prototype.constructor=B.ctor,o.ready&&T(document),B.ctor}function a(k){if(!k.setAttribute._polyfilled){var R=k.setAttribute;k.setAttribute=function($,H){u.call(this,$,H,R)};var B=k.removeAttribute;k.removeAttribute=function($){u.call(this,$,null,B)},k.setAttribute._polyfilled=!0}}function u(k,R,B){k=k.toLowerCase();var $=this.getAttribute(k);B.apply(this,arguments);var H=this.getAttribute(k);this.attributeChangedCallback&&H!==$&&this.attributeChangedCallback(k,$,H)}function c(k){for(var R=0;R<N.length;R++)if(k===N[R])return!0}function h(k){var R=y(k);return R?h(R.extends).concat([R]):[]}function p(k){for(var R,B=k.extends,$=0;R=k.ancestry[$];$++)B=R.is&&R.tag;k.tag=B||k.__name,B&&(k.is=k.__name)}function d(k){if(!Object.__proto__){var R=HTMLElement.prototype;if(k.is){var B=document.createElement(k.tag);R=Object.getPrototypeOf(B)}for(var $,H=k.prototype,j=!1;H;)H==R&&(j=!0),$=Object.getPrototypeOf(H),$&&(H.__proto__=$),H=$;j||console.warn(k.tag+" prototype not found in prototype chain for "+k.is),k.native=R}}function g(k){return S(x(k.tag),k)}function y(k){return k?P[k.toLowerCase()]:void 0}function m(k,R){P[k]=R}function _(k){return function(){return g(k)}}function E(k,R,B){return k===L?w(R,B):M(k,R)}function w(k,R){k&&(k=k.toLowerCase()),R&&(R=R.toLowerCase());var B=y(R||k);if(B){if(k==B.tag&&R==B.is)return new B.ctor;if(!R&&!B.is)return new B.ctor}var $;return R?($=w(k),$.setAttribute("is",R),$):($=x(k),k.indexOf("-")>=0&&C($,HTMLElement),$)}function v(k,R){var B=k[R];k[R]=function(){var $=B.apply(this,arguments);return I($),$}}var b,T=(o.isIE,o.upgradeDocumentTree),I=o.upgradeAll,S=o.upgradeWithDefinition,C=o.implementPrototype,D=o.useNative,N=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],P={},L="http://www.w3.org/1999/xhtml",x=document.createElement.bind(document),M=document.createElementNS.bind(document);b=Object.__proto__||D?function(k,R){return k instanceof R}:function(k,R){if(k instanceof R)return!0;for(var B=k;B;){if(B===R.prototype)return!0;B=B.__proto__}return!1},v(Node.prototype,"cloneNode"),v(document,"importNode"),document.registerElement=s,document.createElement=w,document.createElementNS=E,o.registry=P,o.instanceof=b,o.reservedTagList=N,o.getRegisteredDefinition=y,document.register=document.registerElement}),function(o){function s(){h(window.wrap(document)),window.CustomElements.ready=!0;var g=window.requestAnimationFrame||function(y){setTimeout(y,16)};g(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var a=o.useNative,u=o.initializeModules;if(o.isIE,a){var c=function(){};o.watchShadow=c,o.upgrade=c,o.upgradeAll=c,o.upgradeDocumentTree=c,o.upgradeSubtree=c,o.takeRecords=c,o.instanceof=function(g,y){return g instanceof y}}else u();var h=o.upgradeDocumentTree,p=o.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(g){return g}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(g){g.import&&p(wrap(g.import))}),document.readyState==="complete"||o.flags.eager)s();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var d=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(d,s)}else s()}(window.CustomElements))}.call(t),function(){}.call(t),function(){var n=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:"\xA0",OBJECT_REPLACEMENT_CHARACTER:"\uFFFC",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var i,o,s,a;if(typeof InputEvent>"u")return!1;for(a=["data","getTargetRanges","inputType"],i=0,o=a.length;o>i;i++)if(s=a[i],!(s in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(n);var r=n.Trix;(function(){(function(){r.BasicObject=function(){function i(){}var o,s,a;return i.proxyMethod=function(u){var c,h,p,d,g;return p=s(u),c=p.name,d=p.toMethod,g=p.toProperty,h=p.optional,this.prototype[c]=function(){var y,m;return y=d!=null?h?typeof this[d]=="function"?this[d]():void 0:this[d]():g!=null?this[g]:void 0,h?(m=y!=null?y[c]:void 0,m!=null?o.call(m,y,arguments):void 0):(m=y[c],o.call(m,y,arguments))}},s=function(u){var c,h;if(!(h=u.match(a)))throw new Error("can't parse @proxyMethod expression: "+u);return c={name:h[4]},h[2]!=null?c.toMethod=h[1]:c.toProperty=h[1],h[3]!=null&&(c.optional=!0),c},o=Function.prototype.apply,a=/^(.+?)(\(\))?(\?)?\.(.+?)$/,i}()}).call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Object=function(s){function a(){this.id=++u}var u;return i(a,s),u=0,a.fromJSONString=function(c){return this.fromJSON(JSON.parse(c))},a.prototype.hasSameConstructorAs=function(c){return this.constructor===(c!=null?c.constructor:void 0)},a.prototype.isEqualTo=function(c){return this===c},a.prototype.inspect=function(){var c,h,p;return c=function(){var d,g,y;g=(d=this.contentsForInspection())!=null?d:{},y=[];for(h in g)p=g[h],y.push(h+"="+p);return y}.call(this),"#<"+this.constructor.name+":"+this.id+(c.length?" "+c.join(", "):"")+">"},a.prototype.contentsForInspection=function(){},a.prototype.toJSONString=function(){return JSON.stringify(this)},a.prototype.toUTF16String=function(){return r.UTF16String.box(this)},a.prototype.getCacheKey=function(){return this.id.toString()},a}(r.BasicObject)}.call(this),function(){r.extend=function(i){var o,s;for(o in i)s=i[o],this[o]=s;return this}}.call(this),function(){r.extend({defer:function(i){return setTimeout(i,1)}})}.call(this),function(){var i,o;r.extend({normalizeSpaces:function(s){return s.replace(RegExp(""+r.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+r.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(s){return s.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+r.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(s){return s.replace(RegExp(""+r.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(s,a){var u,c,h,p;return s=r.UTF16String.box(s),a=r.UTF16String.box(a),a.length<s.length?(c=o(s,a),p=c[0],u=c[1]):(h=o(a,s),u=h[0],p=h[1]),{added:u,removed:p}}}),o=function(s,a){var u,c,h,p,d;return s.isEqualTo(a)?["",""]:(c=i(s,a),p=c.utf16String.length,h=p?(d=c.offset,u=s.codepoints.slice(0,d).concat(s.codepoints.slice(d+p)),i(a,r.UTF16String.fromCodepoints(u))):i(a,s),[c.utf16String.toString(),h.utf16String.toString()])},i=function(s,a){var u,c,h;for(u=0,c=s.length,h=a.length;c>u&&s.charAt(u).isEqualTo(a.charAt(u));)u++;for(;c>u+1&&s.charAt(c-1).isEqualTo(a.charAt(h-1));)c--,h--;return{utf16String:s.slice(u,c),offset:u}}}.call(this),function(){r.extend({copyObject:function(i){var o,s,a;i==null&&(i={}),s={};for(o in i)a=i[o],s[o]=a;return s},objectsAreEqual:function(i,o){var s,a;if(i==null&&(i={}),o==null&&(o={}),Object.keys(i).length!==Object.keys(o).length)return!1;for(s in i)if(a=i[s],a!==o[s])return!1;return!0}})}.call(this),function(){var i=[].slice;r.extend({arraysAreEqual:function(o,s){var a,u,c,h;if(o==null&&(o=[]),s==null&&(s=[]),o.length!==s.length)return!1;for(u=a=0,c=o.length;c>a;u=++a)if(h=o[u],h!==s[u])return!1;return!0},arrayStartsWith:function(o,s){return o==null&&(o=[]),s==null&&(s=[]),r.arraysAreEqual(o.slice(0,s.length),s)},spliceArray:function(){var o,s,a;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],a=s.slice(0),a.splice.apply(a,o),a},summarizeArrayChange:function(o,s){var a,u,c,h,p,d,g,y,m,_,E;for(o==null&&(o=[]),s==null&&(s=[]),a=[],_=[],c=new Set,h=0,g=o.length;g>h;h++)E=o[h],c.add(E);for(u=new Set,p=0,y=s.length;y>p;p++)E=s[p],u.add(E),c.has(E)||a.push(E);for(d=0,m=o.length;m>d;d++)E=o[d],u.has(E)||_.push(E);return{added:a,removed:_}}})}.call(this),function(){var i,o,s,a;i=null,o=null,a=null,s=null,r.extend({getAllAttributeNames:function(){return i!=null?i:i=r.getTextAttributeNames().concat(r.getBlockAttributeNames())},getBlockConfig:function(u){return r.config.blockAttributes[u]},getBlockAttributeNames:function(){return o!=null?o:o=Object.keys(r.config.blockAttributes)},getTextConfig:function(u){return r.config.textAttributes[u]},getTextAttributeNames:function(){return a!=null?a:a=Object.keys(r.config.textAttributes)},getListAttributeNames:function(){var u,c;return s!=null?s:s=function(){var h,p;h=r.config.blockAttributes,p=[];for(u in h)c=h[u].listAttribute,c!=null&&p.push(c);return p}()}})}.call(this),function(){var i,o,s,a,u,c=[].indexOf||function(h){for(var p=0,d=this.length;d>p;p++)if(p in this&&this[p]===h)return p;return-1};i=document.documentElement,o=(s=(a=(u=i.matchesSelector)!=null?u:i.webkitMatchesSelector)!=null?a:i.msMatchesSelector)!=null?s:i.mozMatchesSelector,r.extend({handleEvent:function(h,p){var d,g,y,m,_,E,w,v,b,T,I;return w=p!=null?p:{},_=w.onElement,m=w.matchingSelector,I=w.withCallback,y=w.inPhase,E=w.preventDefault,b=w.times,d=_!=null?_:i,v=m,T=y==="capturing",g=function(S){var C;return b!=null&&--b===0&&g.destroy(),C=r.findClosestElementFromNode(S.target,{matchingSelector:v}),C!=null&&(I!=null&&I.call(C,S,C),E)?S.preventDefault():void 0},g.destroy=function(){return d.removeEventListener(h,g,T)},d.addEventListener(h,g,T),g},handleEventOnce:function(h,p){return p==null&&(p={}),p.times=1,r.handleEvent(h,p)},triggerEvent:function(h,p){var d,g,y,m,_,E,w;return w=p!=null?p:{},E=w.onElement,g=w.bubbles,y=w.cancelable,d=w.attributes,m=E!=null?E:i,g=g!==!1,y=y!==!1,_=document.createEvent("Events"),_.initEvent(h,g,y),d!=null&&r.extend.call(_,d),m.dispatchEvent(_)},elementMatchesSelector:function(h,p){return(h!=null?h.nodeType:void 0)===1?o.call(h,p):void 0},findClosestElementFromNode:function(h,p){var d,g,y;for(g=p!=null?p:{},d=g.matchingSelector,y=g.untilNode;h!=null&&h.nodeType!==Node.ELEMENT_NODE;)h=h.parentNode;if(h!=null){if(d==null)return h;if(h.closest&&y==null)return h.closest(d);for(;h&&h!==y;){if(r.elementMatchesSelector(h,d))return h;h=h.parentNode}}},findInnerElement:function(h){for(;h!=null&&h.firstElementChild;)h=h.firstElementChild;return h},innerElementIsActive:function(h){return document.activeElement!==h&&r.elementContainsNode(h,document.activeElement)},elementContainsNode:function(h,p){if(h&&p)for(;p;){if(p===h)return!0;p=p.parentNode}},findNodeFromContainerAndOffset:function(h,p){var d;if(h)return h.nodeType===Node.TEXT_NODE?h:p===0?(d=h.firstChild)!=null?d:h:h.childNodes.item(p-1)},findElementFromContainerAndOffset:function(h,p){var d;return d=r.findNodeFromContainerAndOffset(h,p),r.findClosestElementFromNode(d)},findChildIndexOfNode:function(h){var p;if(h!=null&&h.parentNode){for(p=0;h=h.previousSibling;)p++;return p}},removeNode:function(h){var p;return h!=null&&(p=h.parentNode)!=null?p.removeChild(h):void 0},walkTree:function(h,p){var d,g,y,m,_;return y=p!=null?p:{},g=y.onlyNodesOfType,m=y.usingFilter,d=y.expandEntityReferences,_=function(){switch(g){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(h,_,m!=null?m:null,d===!0)},tagName:function(h){var p;return h!=null&&(p=h.tagName)!=null?p.toLowerCase():void 0},makeElement:function(h,p){var d,g,y,m,_,E,w,v,b,T,I,S,C,D;if(p==null&&(p={}),typeof h=="object"?(p=h,h=p.tagName):p={attributes:p},y=document.createElement(h),p.editable!=null&&(p.attributes==null&&(p.attributes={}),p.attributes.contenteditable=p.editable),p.attributes){b=p.attributes;for(E in b)D=b[E],y.setAttribute(E,D)}if(p.style){T=p.style;for(E in T)D=T[E],y.style[E]=D}if(p.data){I=p.data;for(E in I)D=I[E],y.dataset[E]=D}if(p.className)for(S=p.className.split(" "),m=0,w=S.length;w>m;m++)g=S[m],y.classList.add(g);if(p.textContent&&(y.textContent=p.textContent),p.childNodes)for(C=[].concat(p.childNodes),_=0,v=C.length;v>_;_++)d=C[_],y.appendChild(d);return y},getBlockTagNames:function(){var h,p;return r.blockTagNames!=null?r.blockTagNames:r.blockTagNames=function(){var d,g;d=r.config.blockAttributes,g=[];for(h in d)p=d[h].tagName,p&&g.push(p);return g}()},nodeIsBlockContainer:function(h){return r.nodeIsBlockStartComment(h!=null?h.firstChild:void 0)},nodeProbablyIsBlockContainer:function(h){var p,d;return p=r.tagName(h),c.call(r.getBlockTagNames(),p)>=0&&(d=r.tagName(h.firstChild),c.call(r.getBlockTagNames(),d)<0)},nodeIsBlockStart:function(h,p){var d;return d=(p!=null?p:{strict:!0}).strict,d?r.nodeIsBlockStartComment(h):r.nodeIsBlockStartComment(h)||!r.nodeIsBlockStartComment(h.firstChild)&&r.nodeProbablyIsBlockContainer(h)},nodeIsBlockStartComment:function(h){return r.nodeIsCommentNode(h)&&(h!=null?h.data:void 0)==="block"},nodeIsCommentNode:function(h){return(h!=null?h.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(h,p){var d;return d=(p!=null?p:{}).name,h?r.nodeIsTextNode(h)?h.data===r.ZERO_WIDTH_SPACE?d?h.parentNode.dataset.trixCursorTarget===d:!0:void 0:r.nodeIsCursorTarget(h.firstChild):void 0},nodeIsAttachmentElement:function(h){return r.elementMatchesSelector(h,r.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(h){return r.nodeIsTextNode(h)&&(h!=null?h.data:void 0)===""},nodeIsTextNode:function(h){return(h!=null?h.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var i,o,s,a,u;i=r.copyObject,a=r.objectsAreEqual,r.extend({normalizeRange:s=function(c){var h;if(c!=null)return Array.isArray(c)||(c=[c,c]),[o(c[0]),o((h=c[1])!=null?h:c[0])]},rangeIsCollapsed:function(c){var h,p,d;if(c!=null)return p=s(c),d=p[0],h=p[1],u(d,h)},rangesAreEqual:function(c,h){var p,d,g,y,m,_;if(c!=null&&h!=null)return g=s(c),d=g[0],p=g[1],y=s(h),_=y[0],m=y[1],u(d,_)&&u(p,m)}}),o=function(c){return typeof c=="number"?c:i(c)},u=function(c,h){return typeof c=="number"?c===h:a(c,h)}}.call(this),function(){var i,o,s,a,u,c,h;r.registerElement=function(p,d){var g,y;return d==null&&(d={}),p=p.toLowerCase(),d=h(d),y=c(d),(g=y.defaultCSS)&&(delete y.defaultCSS,a(g,p)),u(p,y)},a=function(p,d){var g;return g=s(d),g.textContent=p.replace(/%t/g,d)},s=function(p){var d,g;return d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("data-tag-name",p.toLowerCase()),(g=i())&&d.setAttribute("nonce",g),document.head.insertBefore(d,document.head.firstChild),d},i=function(){var p;return(p=o("trix-csp-nonce")||o("csp-nonce"))?p.getAttribute("content"):void 0},o=function(p){return document.head.querySelector("meta[name="+p+"]")},c=function(p){var d,g,y;g={};for(d in p)y=p[d],g[d]=typeof y=="function"?{value:y}:y;return g},h=function(){var p;return p=function(d){var g,y,m,_,E;for(g={},E=["initialize","connect","disconnect"],y=0,_=E.length;_>y;y++)m=E[y],g[m]=d[m],delete d[m];return g},window.customElements?function(d){var g,y,m,_,E;return E=p(d),m=E.initialize,g=E.connect,y=E.disconnect,m&&(_=g,g=function(){return this.initialized||(this.initialized=!0,m.call(this)),_!=null?_.call(this):void 0}),g&&(d.connectedCallback=g),y&&(d.disconnectedCallback=y),d}:function(d){var g,y,m,_;return _=p(d),m=_.initialize,g=_.connect,y=_.disconnect,m&&(d.createdCallback=m),g&&(d.attachedCallback=g),y&&(d.detachedCallback=y),d}}(),u=function(){return window.customElements?function(p,d){var g;return g=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],g):HTMLElement.apply(this)},Object.setPrototypeOf(g.prototype,HTMLElement.prototype),Object.setPrototypeOf(g,HTMLElement),Object.defineProperties(g.prototype,d),window.customElements.define(p,g),g}:function(p,d){var g,y;return y=Object.create(HTMLElement.prototype,d),g=document.registerElement(p,{prototype:y}),Object.defineProperty(y,"constructor",{value:g}),g}}()}.call(this),function(){var i,o;r.extend({getDOMSelection:function(){var s;return s=window.getSelection(),s.rangeCount>0?s:void 0},getDOMRange:function(){var s,a;return(s=(a=r.getDOMSelection())!=null?a.getRangeAt(0):void 0)&&!i(s)?s:void 0},setDOMRange:function(s){var a;return a=window.getSelection(),a.removeAllRanges(),a.addRange(s),r.selectionChangeObserver.update()}}),i=function(s){return o(s.startContainer)||o(s.endContainer)},o=function(s){return!Object.getPrototypeOf(s)}}.call(this),function(){var i;i={"application/x-trix-feature-detection":"test"},r.extend({dataTransferIsPlainText:function(o){var s,a,u;return u=o.getData("text/plain"),a=o.getData("text/html"),u&&a?(s=new DOMParser().parseFromString(a,"text/html").body,s.textContent===u?!s.querySelector("*"):void 0):u!=null?u.length:void 0},dataTransferIsWritable:function(o){var s,a;if((o!=null?o.setData:void 0)!=null){for(s in i)if(a=i[s],!function(){try{return o.setData(s,a),o.getData(s)===a}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(o){return o.metaKey}:function(o){return o.ctrlKey}}()})}.call(this),function(){r.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var i,o,s,a;return o=r.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),i=r.makeElement("form"),i.appendChild(o),s=function(){try{return new FormData(i).has(o.dirName)}catch{}}(),a=function(){try{return o.matches(":dir(ltr),:dir(rtl)")}catch{}}(),s?function(u){return o.value=u,new FormData(i).get(o.dirName)}:a?function(u){return o.value=u,o.matches(":dir(rtl)")?"rtl":"ltr"}:function(u){var c;return c=u.trim().charAt(0),r.RTL_PATTERN.test(c)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var i,o=function(a,u){function c(){this.constructor=a}for(var h in u)s.call(u,h)&&(a[h]=u[h]);return c.prototype=u.prototype,a.prototype=new c,a.__super__=u.prototype,a},s={}.hasOwnProperty;i=r.arraysAreEqual,r.Hash=function(a){function u(y){y==null&&(y={}),this.values=h(y),u.__super__.constructor.apply(this,arguments)}var c,h,p,d,g;return o(u,a),u.fromCommonAttributesOfObjects=function(y){var m,_,E,w,v,b;if(y==null&&(y=[]),!y.length)return new this;for(m=c(y[0]),E=m.getKeys(),b=y.slice(1),_=0,w=b.length;w>_;_++)v=b[_],E=m.getKeysCommonToHash(c(v)),m=m.slice(E);return m},u.box=function(y){return c(y)},u.prototype.add=function(y,m){return this.merge(d(y,m))},u.prototype.remove=function(y){return new r.Hash(h(this.values,y))},u.prototype.get=function(y){return this.values[y]},u.prototype.has=function(y){return y in this.values},u.prototype.merge=function(y){return new r.Hash(p(this.values,g(y)))},u.prototype.slice=function(y){var m,_,E,w;for(w={},m=0,E=y.length;E>m;m++)_=y[m],this.has(_)&&(w[_]=this.values[_]);return new r.Hash(w)},u.prototype.getKeys=function(){return Object.keys(this.values)},u.prototype.getKeysCommonToHash=function(y){var m,_,E,w,v;for(y=c(y),w=this.getKeys(),v=[],m=0,E=w.length;E>m;m++)_=w[m],this.values[_]===y.values[_]&&v.push(_);return v},u.prototype.isEqualTo=function(y){return i(this.toArray(),c(y).toArray())},u.prototype.isEmpty=function(){return this.getKeys().length===0},u.prototype.toArray=function(){var y,m,_;return(this.array!=null?this.array:this.array=function(){var E;m=[],E=this.values;for(y in E)_=E[y],m.push(y,_);return m}.call(this)).slice(0)},u.prototype.toObject=function(){return h(this.values)},u.prototype.toJSON=function(){return this.toObject()},u.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},d=function(y,m){var _;return _={},_[y]=m,_},p=function(y,m){var _,E,w;E=h(y);for(_ in m)w=m[_],E[_]=w;return E},h=function(y,m){var _,E,w,v,b;for(v={},b=Object.keys(y).sort(),_=0,w=b.length;w>_;_++)E=b[_],E!==m&&(v[E]=y[E]);return v},c=function(y){return y instanceof r.Hash?y:new r.Hash(y)},g=function(y){return y instanceof r.Hash?y.values:y},u}(r.Object)}.call(this),function(){r.ObjectGroup=function(){function i(o,s){var a,u;this.objects=o!=null?o:[],u=s.depth,a=s.asTree,a&&(this.depth=u,this.objects=this.constructor.groupObjects(this.objects,{asTree:a,depth:this.depth+1}))}return i.groupObjects=function(o,s){var a,u,c,h,p,d,g,y,m;for(o==null&&(o=[]),m=s!=null?s:{},c=m.depth,a=m.asTree,a&&c==null&&(c=0),y=[],p=0,d=o.length;d>p;p++){if(g=o[p],h){if((typeof g.canBeGrouped=="function"?g.canBeGrouped(c):void 0)&&(typeof(u=h[h.length-1]).canBeGroupedWith=="function"?u.canBeGroupedWith(g,c):void 0)){h.push(g);continue}y.push(new this(h,{depth:c,asTree:a})),h=null}typeof g.canBeGrouped=="function"&&g.canBeGrouped(c)?h=[g]:y.push(g)}return h&&y.push(new this(h,{depth:c,asTree:a})),y},i.prototype.getObjects=function(){return this.objects},i.prototype.getDepth=function(){return this.depth},i.prototype.getCacheKey=function(){var o,s,a,u,c;for(s=["objectGroup"],c=this.getObjects(),o=0,a=c.length;a>o;o++)u=c[o],s.push(u.getCacheKey());return s.join("/")},i}()}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ObjectMap=function(s){function a(u){var c,h,p,d,g;for(u==null&&(u=[]),this.objects={},p=0,d=u.length;d>p;p++)g=u[p],h=JSON.stringify(g),(c=this.objects)[h]==null&&(c[h]=g)}return i(a,s),a.prototype.find=function(u){var c;return c=JSON.stringify(u),this.objects[c]},a}(r.BasicObject)}.call(this),function(){r.ElementStore=function(){function i(s){this.reset(s)}var o;return i.prototype.add=function(s){var a;return a=o(s),this.elements[a]=s},i.prototype.remove=function(s){var a,u;return a=o(s),(u=this.elements[a])?(delete this.elements[a],u):void 0},i.prototype.reset=function(s){var a,u,c;for(s==null&&(s=[]),this.elements={},u=0,c=s.length;c>u;u++)a=s[u],this.add(a);return s},o=function(s){return s.dataset.trixStoreKey},i}()}.call(this),function(){}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Operation=function(s){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,s),a.prototype.isPerforming=function(){return this.performing===!0},a.prototype.hasPerformed=function(){return this.performed===!0},a.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},a.prototype.hasFailed=function(){return this.performed&&!this.succeeded},a.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(u){return function(c,h){return u.performing=!0,u.perform(function(p,d){return u.succeeded=p,u.performing=!1,u.performed=!0,u.succeeded?c(d):h(d)})}}(this))},a.prototype.perform=function(u){return u(!1)},a.prototype.release=function(){var u;return(u=this.promise)!=null&&typeof u.cancel=="function"&&u.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},a.proxyMethod("getPromise().then"),a.proxyMethod("getPromise().catch"),a}(r.BasicObject)}.call(this),function(){var i,o,s,a,u,c=function(p,d){function g(){this.constructor=p}for(var y in d)h.call(d,y)&&(p[y]=d[y]);return g.prototype=d.prototype,p.prototype=new g,p.__super__=d.prototype,p},h={}.hasOwnProperty;r.UTF16String=function(p){function d(g,y){this.ucs2String=g,this.codepoints=y,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return c(d,p),d.box=function(g){return g==null&&(g=""),g instanceof this?g:this.fromUCS2String(g!=null?g.toString():void 0)},d.fromUCS2String=function(g){return new this(g,a(g))},d.fromCodepoints=function(g){return new this(u(g),g)},d.prototype.offsetToUCS2Offset=function(g){return u(this.codepoints.slice(0,Math.max(0,g))).length},d.prototype.offsetFromUCS2Offset=function(g){return a(this.ucs2String.slice(0,Math.max(0,g))).length},d.prototype.slice=function(){var g;return this.constructor.fromCodepoints((g=this.codepoints).slice.apply(g,arguments))},d.prototype.charAt=function(g){return this.slice(g,g+1)},d.prototype.isEqualTo=function(g){return this.constructor.box(g).ucs2String===this.ucs2String},d.prototype.toJSON=function(){return this.ucs2String},d.prototype.getCacheKey=function(){return this.ucs2String},d.prototype.toString=function(){return this.ucs2String},d}(r.BasicObject),i=(typeof Array.from=="function"?Array.from("\u{1F47C}").length:void 0)===1,o=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,s=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" \u{1F47C}",a=i&&o?function(p){return Array.from(p).map(function(d){return d.codePointAt(0)})}:function(p){var d,g,y,m,_;for(m=[],d=0,y=p.length;y>d;)_=p.charCodeAt(d++),_>=55296&&56319>=_&&y>d&&(g=p.charCodeAt(d++),(64512&g)===56320?_=((1023&_)<<10)+(1023&g)+65536:d--),m.push(_);return m},u=s?function(p){return String.fromCodePoint.apply(String,p)}:function(p){var d,g,y;return d=function(){var m,_,E;for(E=[],m=0,_=p.length;_>m;m++)y=p[m],g="",y>65535&&(y-=65536,g+=String.fromCharCode(y>>>10&1023|55296),y=56320|1023&y),E.push(g+String.fromCharCode(y));return E}(),d.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){r.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){r.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var i;r.config.blockAttributes=i={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(o){return r.tagName(o.parentNode)===i[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(o){return r.tagName(o.parentNode)===i[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var i,o;i=r.config.lang,o=[i.bytes,i.KB,i.MB,i.GB,i.TB,i.PB],r.config.fileSize={prefix:"IEC",precision:2,formatter:function(s){var a,u,c,h,p;switch(s){case 0:return"0 "+i.bytes;case 1:return"1 "+i.byte;default:return a=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),u=Math.floor(Math.log(s)/Math.log(a)),c=s/Math.pow(a,u),h=c.toFixed(this.precision),p=h.replace(/0*$/,"").replace(/\.$/,""),p+" "+o[u]}}}}.call(this),function(){r.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(i){var o;return o=window.getComputedStyle(i),o.fontWeight==="bold"||o.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(i){var o;return o=window.getComputedStyle(i),o.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(i){var o,s,a;return o=r.AttachmentView.attachmentSelector,a="a:not("+o+")",(s=r.findClosestElementFromNode(i,{matchingSelector:a}))?s.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var i,o,s,a,u;u="[data-trix-serialize=false]",a=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],o="data-trix-serialized-attributes",s="["+o+"]",i=new RegExp("<!--block-->","g"),r.extend({serializers:{"application/json":function(c){var h;if(c instanceof r.Document)h=c;else{if(!(c instanceof HTMLElement))throw new Error("unserializable object");h=r.Document.fromHTML(c.innerHTML)}return h.toSerializableDocument().toJSONString()},"text/html":function(c){var h,p,d,g,y,m,_,E,w,v,b,T,I,S,C,D,N;if(c instanceof r.Document)g=r.DocumentView.render(c);else{if(!(c instanceof HTMLElement))throw new Error("unserializable object");g=c.cloneNode(!0)}for(S=g.querySelectorAll(u),y=0,w=S.length;w>y;y++)d=S[y],r.removeNode(d);for(m=0,v=a.length;v>m;m++)for(h=a[m],C=g.querySelectorAll("["+h+"]"),_=0,b=C.length;b>_;_++)d=C[_],d.removeAttribute(h);for(D=g.querySelectorAll(s),E=0,T=D.length;T>E;E++){d=D[E];try{p=JSON.parse(d.getAttribute(o)),d.removeAttribute(o);for(I in p)N=p[I],d.setAttribute(I,N)}catch{}}return g.innerHTML.replace(i,"")}},deserializers:{"application/json":function(c){return r.Document.fromJSONString(c)},"text/html":function(c){return r.Document.fromHTML(c)}},serializeToContentType:function(c,h){var p;if(p=r.serializers[h])return p(c);throw new Error("unknown content type: "+h)},deserializeFromContentType:function(c,h){var p;if(p=r.deserializers[h])return p(c);throw new Error("unknown content type: "+h)}})}.call(this),function(){var i;i=r.config.lang,r.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+i.bold+'" tabindex="-1">'+i.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+i.italic+'" tabindex="-1">'+i.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+i.strike+'" tabindex="-1">'+i.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+i.link+'" tabindex="-1">'+i.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+i.heading1+'" tabindex="-1">'+i.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+i.quote+'" tabindex="-1">'+i.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+i.code+'" tabindex="-1">'+i.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+i.bullets+'" tabindex="-1">'+i.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+i.numbers+'" tabindex="-1">'+i.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+i.outdent+'" tabindex="-1">'+i.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+i.indent+'" tabindex="-1">'+i.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+i.attachFiles+'" tabindex="-1">'+i.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+i.undo+'" tabindex="-1">'+i.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+i.redo+'" tabindex="-1">'+i.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+i.urlPlaceholder+'" aria-label="'+i.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+i.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+i.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){r.config.undoInterval=5e3}.call(this),function(){r.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){r.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){r.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&r.browser.supportsInputEvents?2:0},pickFiles:function(i){var o;return o=r.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),o.addEventListener("change",function(){return i(o.files),r.removeNode(o)}),r.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(o),o.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){r.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=r.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var i=function(a,u){function c(){this.constructor=a}for(var h in u)o.call(u,h)&&(a[h]=u[h]);return c.prototype=u.prototype,a.prototype=new c,a.__super__=u.prototype,a},o={}.hasOwnProperty,s=[].indexOf||function(a){for(var u=0,c=this.length;c>u;u++)if(u in this&&this[u]===a)return u;return-1};r.ObjectView=function(a){function u(c,h){this.object=c,this.options=h!=null?h:{},this.childViews=[],this.rootView=this}return i(u,a),u.prototype.getNodes=function(){var c,h,p,d,g;for(this.nodes==null&&(this.nodes=this.createNodes()),d=this.nodes,g=[],c=0,h=d.length;h>c;c++)p=d[c],g.push(p.cloneNode(!0));return g},u.prototype.invalidate=function(){var c;return this.nodes=null,this.childViews=[],(c=this.parentView)!=null?c.invalidate():void 0},u.prototype.invalidateViewForObject=function(c){var h;return(h=this.findViewForObject(c))!=null?h.invalidate():void 0},u.prototype.findOrCreateCachedChildView=function(c,h){var p;return(p=this.getCachedViewForObject(h))?this.recordChildView(p):(p=this.createChildView.apply(this,arguments),this.cacheViewForObject(p,h)),p},u.prototype.createChildView=function(c,h,p){var d;return p==null&&(p={}),h instanceof r.ObjectGroup&&(p.viewClass=c,c=r.ObjectGroupView),d=new c(h,p),this.recordChildView(d)},u.prototype.recordChildView=function(c){return c.parentView=this,c.rootView=this.rootView,this.childViews.push(c),c},u.prototype.getAllChildViews=function(){var c,h,p,d,g;for(g=[],d=this.childViews,h=0,p=d.length;p>h;h++)c=d[h],g.push(c),g=g.concat(c.getAllChildViews());return g},u.prototype.findElement=function(){return this.findElementForObject(this.object)},u.prototype.findElementForObject=function(c){var h;return(h=c!=null?c.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+h+"']"):void 0},u.prototype.findViewForObject=function(c){var h,p,d,g;for(d=this.getAllChildViews(),h=0,p=d.length;p>h;h++)if(g=d[h],g.object===c)return g},u.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},u.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},u.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},u.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},u.prototype.getCachedViewForObject=function(c){var h;return(h=this.getViewCache())!=null?h[c.getCacheKey()]:void 0},u.prototype.cacheViewForObject=function(c,h){var p;return(p=this.getViewCache())!=null?p[h.getCacheKey()]=c:void 0},u.prototype.garbageCollectCachedViews=function(){var c,h,p,d,g,y;if(c=this.getViewCache()){y=this.getAllChildViews().concat(this),p=function(){var m,_,E;for(E=[],m=0,_=y.length;_>m;m++)g=y[m],E.push(g.object.getCacheKey());return E}(),d=[];for(h in c)s.call(p,h)<0&&d.push(delete c[h]);return d}},u}(r.BasicObject)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ObjectGroupView=function(s){function a(){a.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return i(a,s),a.prototype.getChildViews=function(){var u,c,h,p;if(!this.childViews.length)for(p=this.objectGroup.getObjects(),u=0,c=p.length;c>u;u++)h=p[u],this.findOrCreateCachedChildView(this.viewClass,h,this.options);return this.childViews},a.prototype.createNodes=function(){var u,c,h,p,d,g,y,m,_;for(u=this.createContainerElement(),y=this.getChildViews(),c=0,p=y.length;p>c;c++)for(_=y[c],m=_.getNodes(),h=0,d=m.length;d>h;h++)g=m[h],u.appendChild(g);return[u]},a.prototype.createContainerElement=function(u){return u==null&&(u=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(u)},a}(r.ObjectView)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Controller=function(s){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,s),a}(r.BasicObject)}.call(this),function(){var i,o,s,a,u,c,h=function(y,m){return function(){return y.apply(m,arguments)}},p=function(y,m){function _(){this.constructor=y}for(var E in m)d.call(m,E)&&(y[E]=m[E]);return _.prototype=m.prototype,y.prototype=new _,y.__super__=m.prototype,y},d={}.hasOwnProperty,g=[].indexOf||function(y){for(var m=0,_=this.length;_>m;m++)if(m in this&&this[m]===y)return m;return-1};i=r.findClosestElementFromNode,s=r.nodeIsEmptyTextNode,o=r.nodeIsBlockStartComment,a=r.normalizeSpaces,u=r.summarizeStringChange,c=r.tagName,r.MutationObserver=function(y){function m(b){this.element=b,this.didMutate=h(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var _,E,w,v;return p(m,y),E="data-trix-mutable",w="["+E+"]",v={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},m.prototype.start=function(){return this.reset(),this.observer.observe(this.element,v)},m.prototype.stop=function(){return this.observer.disconnect()},m.prototype.didMutate=function(b){var T,I;return(T=this.mutations).push.apply(T,this.findSignificantMutations(b)),this.mutations.length?((I=this.delegate)!=null&&typeof I.elementDidMutate=="function"&&I.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},m.prototype.reset=function(){return this.mutations=[]},m.prototype.findSignificantMutations=function(b){var T,I,S,C;for(C=[],T=0,I=b.length;I>T;T++)S=b[T],this.mutationIsSignificant(S)&&C.push(S);return C},m.prototype.mutationIsSignificant=function(b){var T,I,S,C;if(this.nodeIsMutable(b.target))return!1;for(C=this.nodesModifiedByMutation(b),T=0,I=C.length;I>T;T++)if(S=C[T],this.nodeIsSignificant(S))return!0;return!1},m.prototype.nodeIsSignificant=function(b){return b!==this.element&&!this.nodeIsMutable(b)&&!s(b)},m.prototype.nodeIsMutable=function(b){return i(b,{matchingSelector:w})},m.prototype.nodesModifiedByMutation=function(b){var T;switch(T=[],b.type){case"attributes":b.attributeName!==E&&T.push(b.target);break;case"characterData":T.push(b.target.parentNode),T.push(b.target);break;case"childList":T.push.apply(T,b.addedNodes),T.push.apply(T,b.removedNodes)}return T},m.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},m.prototype.getTextMutationSummary=function(){var b,T,I,S,C,D,N,P,L,x,M;for(P=this.getTextChangesFromCharacterData(),I=P.additions,C=P.deletions,M=this.getTextChangesFromChildList(),L=M.additions,D=0,N=L.length;N>D;D++)T=L[D],g.call(I,T)<0&&I.push(T);return C.push.apply(C,M.deletions),x={},(b=I.join(""))&&(x.textAdded=b),(S=C.join(""))&&(x.textDeleted=S),x},m.prototype.getMutationsByType=function(b){var T,I,S,C,D;for(C=this.mutations,D=[],T=0,I=C.length;I>T;T++)S=C[T],S.type===b&&D.push(S);return D},m.prototype.getTextChangesFromChildList=function(){var b,T,I,S,C,D,N,P,L,x,M;for(b=[],N=[],D=this.getMutationsByType("childList"),T=0,S=D.length;S>T;T++)C=D[T],b.push.apply(b,C.addedNodes),N.push.apply(N,C.removedNodes);return P=b.length===0&&N.length===1&&o(N[0]),P?(x=[],M=[`
`]):(x=_(b),M=_(N)),{additions:function(){var k,R,B;for(B=[],I=k=0,R=x.length;R>k;I=++k)L=x[I],L!==M[I]&&B.push(a(L));return B}(),deletions:function(){var k,R,B;for(B=[],I=k=0,R=M.length;R>k;I=++k)L=M[I],L!==x[I]&&B.push(a(L));return B}()}},m.prototype.getTextChangesFromCharacterData=function(){var b,T,I,S,C,D,N,P;return T=this.getMutationsByType("characterData"),T.length&&(P=T[0],I=T[T.length-1],C=a(P.oldValue),S=a(I.target.data),D=u(C,S),b=D.added,N=D.removed),{additions:b?[b]:[],deletions:N?[N]:[]}},_=function(b){var T,I,S,C;for(b==null&&(b=[]),C=[],T=0,I=b.length;I>T;T++)switch(S=b[T],S.nodeType){case Node.TEXT_NODE:C.push(S.data);break;case Node.ELEMENT_NODE:c(S)==="br"?C.push(`
`):C.push.apply(C,_(S.childNodes))}return C},m}(r.BasicObject)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.FileVerificationOperation=function(s){function a(u){this.file=u}return i(a,s),a.prototype.perform=function(u){var c;return c=new FileReader,c.onerror=function(){return u(!1)},c.onload=function(h){return function(){c.onerror=null;try{c.abort()}catch{}return u(!0,h.file)}}(this),c.readAsArrayBuffer(this.file)},a}(r.Operation)}.call(this),function(){var i,o,s=function(u,c){function h(){this.constructor=u}for(var p in c)a.call(c,p)&&(u[p]=c[p]);return h.prototype=c.prototype,u.prototype=new h,u.__super__=c.prototype,u},a={}.hasOwnProperty;i=r.handleEvent,o=r.innerElementIsActive,r.InputController=function(u){function c(h){var p;this.element=h,this.mutationObserver=new r.MutationObserver(this.element),this.mutationObserver.delegate=this;for(p in this.events)i(p,{onElement:this.element,withCallback:this.handlerFor(p)})}return s(c,u),c.prototype.events={},c.prototype.elementDidMutate=function(){},c.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},c.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},c.prototype.requestRender=function(){var h;return(h=this.delegate)!=null&&typeof h.inputControllerDidRequestRender=="function"?h.inputControllerDidRequestRender():void 0},c.prototype.requestReparse=function(){var h;return(h=this.delegate)!=null&&typeof h.inputControllerDidRequestReparse=="function"&&h.inputControllerDidRequestReparse(),this.requestRender()},c.prototype.attachFiles=function(h){var p,d;return d=function(){var g,y,m;for(m=[],g=0,y=h.length;y>g;g++)p=h[g],m.push(new r.FileVerificationOperation(p));return m}(),Promise.all(d).then(function(g){return function(y){return g.handleInput(function(){var m,_;return(m=this.delegate)!=null&&m.inputControllerWillAttachFiles(),(_=this.responder)!=null&&_.insertFiles(y),this.requestRender()})}}(this))},c.prototype.handlerFor=function(h){return function(p){return function(d){return d.defaultPrevented?void 0:p.handleInput(function(){return o(this.element)?void 0:(this.eventName=h,this.events[h].call(this,d))})}}(this)},c.prototype.handleInput=function(h){var p,d;try{return(p=this.delegate)!=null&&p.inputControllerWillHandleInput(),h.call(this)}finally{(d=this.delegate)!=null&&d.inputControllerDidHandleInput()}},c.prototype.createLinkHTML=function(h,p){var d;return d=document.createElement("a"),d.href=h,d.textContent=p!=null?p:h,d.outerHTML},c}(r.BasicObject)}.call(this),function(){var i,o,s,a,u,c,h,p,d,g,y,m,_=function(v,b){function T(){this.constructor=v}for(var I in b)E.call(b,I)&&(v[I]=b[I]);return T.prototype=b.prototype,v.prototype=new T,v.__super__=b.prototype,v},E={}.hasOwnProperty,w=[].indexOf||function(v){for(var b=0,T=this.length;T>b;b++)if(b in this&&this[b]===v)return b;return-1};d=r.makeElement,g=r.objectsAreEqual,r.tagName,o=r.browser,h=r.keyEventIsKeyboardCommand,a=r.dataTransferIsWritable,s=r.dataTransferIsPlainText,p=r.config.keyNames,r.Level0InputController=function(v){function b(){b.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var T;return _(b,v),T=0,b.prototype.setInputSummary=function(I){var S,C;I==null&&(I={}),this.inputSummary.eventName=this.eventName;for(S in I)C=I[S],this.inputSummary[S]=C;return this.inputSummary},b.prototype.resetInputSummary=function(){return this.inputSummary={}},b.prototype.reset=function(){return this.resetInputSummary(),r.selectionChangeObserver.reset()},b.prototype.elementDidMutate=function(I){var S;return this.isComposing()?(S=this.delegate)!=null&&typeof S.inputControllerDidAllowUnhandledInput=="function"?S.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(I)&&(this.mutationIsExpected(I)?this.requestRender():this.requestReparse()),this.reset()})},b.prototype.mutationIsExpected=function(I){var S,C,D,N,P,L,x,M,k,R;return x=I.textAdded,M=I.textDeleted,this.inputSummary.preferDocument?!0:(S=x!=null?x===this.inputSummary.textAdded:!this.inputSummary.textAdded,C=M!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,k=(x===`
`||x===` 
`)&&!S,R=M===`
`&&!C,L=k&&!R||R&&!k,L&&(N=this.getSelectedRange())&&(D=k?x.replace(/\n$/,"").length||-1:(x!=null?x.length:void 0)||1,(P=this.responder)!=null?P.positionIsBlockBreak(N[1]+D):void 0)?!0:S&&C)},b.prototype.mutationIsSignificant=function(I){var S,C,D;return D=Object.keys(I).length>0,S=((C=this.compositionInput)!=null?C.getEndData():void 0)==="",D||!S},b.prototype.events={keydown:function(I){var S,C,D,N,P,L,x,M,k;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,N=p[I.keyCode]){for(C=this.keys,M=["ctrl","alt","shift","meta"],D=0,L=M.length;L>D;D++)x=M[D],I[x+"Key"]&&(x==="ctrl"&&(x="control"),C=C!=null?C[x]:void 0);(C!=null?C[N]:void 0)!=null&&(this.setInputSummary({keyName:N}),r.selectionChangeObserver.reset(),C[N].call(this,I))}return h(I)&&(S=String.fromCharCode(I.keyCode).toLowerCase())&&(P=function(){var R,B,$,H;for($=["alt","shift"],H=[],R=0,B=$.length;B>R;R++)x=$[R],I[x+"Key"]&&H.push(x);return H}(),P.push(S),(k=this.delegate)!=null?k.inputControllerDidReceiveKeyboardCommand(P):void 0)?I.preventDefault():void 0},keypress:function(I){var S,C,D;if(this.inputSummary.eventName==null&&!I.metaKey&&(!I.ctrlKey||I.altKey))return(D=m(I))?((S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(C=this.responder)!=null&&C.insertString(D),this.setInputSummary({textAdded:D,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(I){var S,C,D,N;return S=I.data,N=this.inputSummary.textAdded,N&&N!==S&&N.toUpperCase()===S?(C=this.getSelectedRange(),this.setSelectedRange([C[0],C[1]+N.length]),(D=this.responder)!=null&&D.insertString(S),this.setInputSummary({textAdded:S}),this.setSelectedRange(C)):void 0},dragenter:function(I){return I.preventDefault()},dragstart:function(I){var S;return I.target,this.serializeSelectionToDataTransfer(I.dataTransfer),this.draggedRange=this.getSelectedRange(),(S=this.delegate)!=null&&typeof S.inputControllerDidStartDrag=="function"?S.inputControllerDidStartDrag():void 0},dragover:function(I){var S,C;return!this.draggedRange&&!this.canAcceptDataTransfer(I.dataTransfer)||(I.preventDefault(),S={x:I.clientX,y:I.clientY},g(S,this.draggingPoint))?void 0:(this.draggingPoint=S,(C=this.delegate)!=null&&typeof C.inputControllerDidReceiveDragOverPoint=="function"?C.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var I;return(I=this.delegate)!=null&&typeof I.inputControllerDidCancelDrag=="function"&&I.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(I){var S,C,D,N,P,L,x,M,k;return I.preventDefault(),D=(P=I.dataTransfer)!=null?P.files:void 0,N={x:I.clientX,y:I.clientY},(L=this.responder)!=null&&L.setLocationRangeFromPointRange(N),D!=null&&D.length?this.attachFiles(D):this.draggedRange?((x=this.delegate)!=null&&x.inputControllerWillMoveText(),(M=this.responder)!=null&&M.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(C=I.dataTransfer.getData("application/x-trix-document"))&&(S=r.Document.fromJSONString(C),(k=this.responder)!=null&&k.insertDocument(S),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(I){var S,C;return((S=this.responder)!=null?S.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(I.clipboardData)&&I.preventDefault(),(C=this.delegate)!=null&&C.inputControllerWillCutText(),this.deleteInDirection("backward"),I.defaultPrevented)?this.requestRender():void 0},copy:function(I){var S;return((S=this.responder)!=null?S.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(I.clipboardData)?I.preventDefault():void 0},paste:function(I){var S,C,D,N,P,L,x,M,k,R,B,$,H,j,X,ft,at,ht,vt,ct,bt,wt,Rt;return S=(M=I.clipboardData)!=null?M:I.testClipboardData,x={clipboard:S},S==null||y(I)?void this.getPastedHTMLUsingHiddenElement(function(Ot){return function(ee){var ae,an,me;return x.type="text/html",x.html=ee,(ae=Ot.delegate)!=null&&ae.inputControllerWillPaste(x),(an=Ot.responder)!=null&&an.insertHTML(x.html),Ot.requestRender(),(me=Ot.delegate)!=null?me.inputControllerDidPaste(x):void 0}}(this)):((N=S.getData("URL"))?(x.type="text/html",Rt=(L=S.getData("public.url-name"))?r.squishBreakableWhitespace(L).trim():N,x.html=this.createLinkHTML(N,Rt),(k=this.delegate)!=null&&k.inputControllerWillPaste(x),this.setInputSummary({textAdded:Rt,didDelete:this.selectionIsExpanded()}),(X=this.responder)!=null&&X.insertHTML(x.html),this.requestRender(),(ft=this.delegate)!=null&&ft.inputControllerDidPaste(x)):s(S)?(x.type="text/plain",x.string=S.getData("text/plain"),(at=this.delegate)!=null&&at.inputControllerWillPaste(x),this.setInputSummary({textAdded:x.string,didDelete:this.selectionIsExpanded()}),(ht=this.responder)!=null&&ht.insertString(x.string),this.requestRender(),(vt=this.delegate)!=null&&vt.inputControllerDidPaste(x)):(P=S.getData("text/html"))?(x.type="text/html",x.html=P,(ct=this.delegate)!=null&&ct.inputControllerWillPaste(x),(bt=this.responder)!=null&&bt.insertHTML(x.html),this.requestRender(),(wt=this.delegate)!=null&&wt.inputControllerDidPaste(x)):w.call(S.types,"Files")>=0&&(D=(R=S.items)!=null&&(B=R[0])!=null&&typeof B.getAsFile=="function"?B.getAsFile():void 0)&&(!D.name&&(C=u(D))&&(D.name="pasted-file-"+ ++T+"."+C),x.type="File",x.file=D,($=this.delegate)!=null&&$.inputControllerWillAttachFiles(),(H=this.responder)!=null&&H.insertFile(x.file),this.requestRender(),(j=this.delegate)!=null&&j.inputControllerDidPaste(x)),I.preventDefault())},compositionstart:function(I){return this.getCompositionInput().start(I.data)},compositionupdate:function(I){return this.getCompositionInput().update(I.data)},compositionend:function(I){return this.getCompositionInput().end(I.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(I){return this.inputSummary.didInput=!0,I.stopPropagation()}},b.prototype.keys={backspace:function(I){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("backward",I)},delete:function(I){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("forward",I)},return:function(){var I,S;return this.setInputSummary({preferDocument:!0}),(I=this.delegate)!=null&&I.inputControllerWillPerformTyping(),(S=this.responder)!=null?S.insertLineBreak():void 0},tab:function(I){var S,C;return(S=this.responder)!=null&&S.canIncreaseNestingLevel()?((C=this.responder)!=null&&C.increaseNestingLevel(),this.requestRender(),I.preventDefault()):void 0},left:function(I){var S;return this.selectionIsInCursorTarget()?(I.preventDefault(),(S=this.responder)!=null?S.moveCursorInDirection("backward"):void 0):void 0},right:function(I){var S;return this.selectionIsInCursorTarget()?(I.preventDefault(),(S=this.responder)!=null?S.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(I){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("forward",I)},h:function(I){var S;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.deleteInDirection("backward",I)},o:function(I){var S,C;return I.preventDefault(),(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(C=this.responder)!=null&&C.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(I){var S,C;return(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),(C=this.responder)!=null&&C.insertString(`
`),this.requestRender(),I.preventDefault()},tab:function(I){var S,C;return(S=this.responder)!=null&&S.canDecreaseNestingLevel()?((C=this.responder)!=null&&C.decreaseNestingLevel(),this.requestRender(),I.preventDefault()):void 0},left:function(I){return this.selectionIsInCursorTarget()?(I.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(I){return this.selectionIsInCursorTarget()?(I.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var I;return this.setInputSummary({preferDocument:!1}),(I=this.delegate)!=null?I.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var I;return this.setInputSummary({preferDocument:!1}),(I=this.delegate)!=null?I.inputControllerWillPerformTyping():void 0}}},b.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new i(this)},b.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},b.prototype.deleteInDirection=function(I,S){var C;return((C=this.responder)!=null?C.deleteInDirection(I):void 0)!==!1?this.setInputSummary({didDelete:!0}):S?(S.preventDefault(),this.requestRender()):void 0},b.prototype.serializeSelectionToDataTransfer=function(I){var S,C;if(a(I))return S=(C=this.responder)!=null?C.getSelectedDocument().toSerializableDocument():void 0,I.setData("application/x-trix-document",JSON.stringify(S)),I.setData("text/html",r.DocumentView.render(S).innerHTML),I.setData("text/plain",S.toString().replace(/\n$/,"")),!0},b.prototype.canAcceptDataTransfer=function(I){var S,C,D,N,P,L;for(L={},N=(D=I!=null?I.types:void 0)!=null?D:[],S=0,C=N.length;C>S;S++)P=N[S],L[P]=!0;return L.Files||L["application/x-trix-document"]||L["text/html"]||L["text/plain"]},b.prototype.getPastedHTMLUsingHiddenElement=function(I){var S,C,D;return C=this.getSelectedRange(),D={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},S=d({style:D,tagName:"div",editable:!0}),document.body.appendChild(S),S.focus(),requestAnimationFrame(function(N){return function(){var P;return P=S.innerHTML,r.removeNode(S),N.setSelectedRange(C),I(P)}}(this))},b.proxyMethod("responder?.getSelectedRange"),b.proxyMethod("responder?.setSelectedRange"),b.proxyMethod("responder?.expandSelectionInDirection"),b.proxyMethod("responder?.selectionIsInCursorTarget"),b.proxyMethod("responder?.selectionIsExpanded"),b}(r.InputController),u=function(v){var b,T;return(b=v.type)!=null&&(T=b.match(/\/(\w+)$/))!=null?T[1]:void 0},c=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,m=function(v){var b;return v.key&&c&&v.key.codePointAt(0)===v.keyCode?v.key:(v.which===null?b=v.keyCode:v.which!==0&&v.charCode!==0&&(b=v.charCode),b!=null&&p[b]!=="escape"?r.UTF16String.fromCodepoints([b]).toString():void 0)},y=function(v){var b,T,I,S,C,D,N,P,L;if(N=v.clipboardData){if(w.call(N.types,"text/html")>=0){for(P=N.types,I=0,D=P.length;D>I;I++)if(L=P[I],b=/^CorePasteboardFlavorType/.test(L),T=/^dyn\./.test(L)&&N.getData(L),b||T)return!0;return!1}return S=w.call(N.types,"com.apple.webarchive")>=0,C=w.call(N.types,"com.apple.flat-rtfd")>=0,S||C}},i=function(v){function b(T){var I;this.inputController=T,I=this.inputController,this.responder=I.responder,this.delegate=I.delegate,this.inputSummary=I.inputSummary,this.data={}}return _(b,v),b.prototype.start=function(T){var I,S;return this.data.start=T,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(I=this.responder)!=null&&I.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(S=this.responder)!=null?S.getSelectedRange():void 0):void 0},b.prototype.update=function(T){var I;return this.data.update=T,this.isSignificant()&&(I=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=I):void 0},b.prototype.end=function(T){var I,S,C,D;return this.data.end=T,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(I=this.delegate)!=null&&I.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.setSelectedRange(this.range),(C=this.responder)!=null&&C.insertString(this.data.end),(D=this.responder)!=null?D.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},b.prototype.getEndData=function(){return this.data.end},b.prototype.isEnded=function(){return this.getEndData()!=null},b.prototype.isSignificant=function(){return o.composesExistingText?this.inputSummary.didInput:!0},b.prototype.canApplyToDocument=function(){var T,I;return((T=this.data.start)!=null?T.length:void 0)===0&&((I=this.data.end)!=null?I.length:void 0)>0&&this.range!=null},b.proxyMethod("inputController.setInputSummary"),b.proxyMethod("inputController.requestRender"),b.proxyMethod("inputController.requestReparse"),b.proxyMethod("responder?.selectionIsExpanded"),b.proxyMethod("responder?.insertPlaceholder"),b.proxyMethod("responder?.selectPlaceholder"),b.proxyMethod("responder?.forgetPlaceholder"),b}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(p,d){return function(){return p.apply(d,arguments)}},u=function(p,d){function g(){this.constructor=p}for(var y in d)c.call(d,y)&&(p[y]=d[y]);return g.prototype=d.prototype,p.prototype=new g,p.__super__=d.prototype,p},c={}.hasOwnProperty,h=[].indexOf||function(p){for(var d=0,g=this.length;g>d;d++)if(d in this&&this[d]===p)return d;return-1};i=r.dataTransferIsPlainText,o=r.keyEventIsKeyboardCommand,s=r.objectsAreEqual,r.Level2InputController=function(p){function d(){return this.render=a(this.render,this),d.__super__.constructor.apply(this,arguments)}var g,y,m,_,E,w;return u(d,p),d.prototype.elementDidMutate=function(){var v;return this.scheduledRender?this.composing&&(v=this.delegate)!=null&&typeof v.inputControllerDidAllowUnhandledInput=="function"?v.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},d.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},d.prototype.render=function(){var v;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(v=this.delegate)!=null&&v.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},d.prototype.reparse=function(){var v;return(v=this.delegate)!=null?v.reparse():void 0},d.prototype.events={keydown:function(v){var b,T,I,S;if(o(v)){if(b=y(v),(S=this.delegate)!=null?S.inputControllerDidReceiveKeyboardCommand(b):void 0)return v.preventDefault()}else if(I=v.key,v.altKey&&(I+="+Alt"),v.shiftKey&&(I+="+Shift"),T=this.keys[I])return this.withEvent(v,T)},paste:function(v){var b,T,I,S,C,D,N,P,L;return m(v)?(v.preventDefault(),this.attachFiles(v.clipboardData.files)):_(v)?(v.preventDefault(),T={type:"text/plain",string:v.clipboardData.getData("text/plain")},(I=this.delegate)!=null&&I.inputControllerWillPaste(T),(S=this.responder)!=null&&S.insertString(T.string),this.render(),(C=this.delegate)!=null?C.inputControllerDidPaste(T):void 0):(b=(D=v.clipboardData)!=null?D.getData("URL"):void 0)?(v.preventDefault(),T={type:"text/html",html:this.createLinkHTML(b)},(N=this.delegate)!=null&&N.inputControllerWillPaste(T),(P=this.responder)!=null&&P.insertHTML(T.html),this.render(),(L=this.delegate)!=null?L.inputControllerDidPaste(T):void 0):void 0},beforeinput:function(v){var b;return(b=this.inputTypes[v.inputType])?(this.withEvent(v,b),this.scheduleRender()):void 0},input:function(){return r.selectionChangeObserver.reset()},dragstart:function(v){var b,T;return(b=this.responder)!=null&&b.selectionContainsAttachments()?(v.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(T=this.responder)!=null?T.getSelectedRange():void 0,point:E(v)}):void 0},dragenter:function(v){return g(v)?v.preventDefault():void 0},dragover:function(v){var b,T;if(this.dragging){if(v.preventDefault(),b=E(v),!s(b,this.dragging.point))return this.dragging.point=b,(T=this.responder)!=null?T.setLocationRangeFromPointRange(b):void 0}else if(g(v))return v.preventDefault()},drop:function(v){var b,T,I,S;return this.dragging?(v.preventDefault(),(T=this.delegate)!=null&&T.inputControllerWillMoveText(),(I=this.responder)!=null&&I.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):g(v)?(v.preventDefault(),b=E(v),(S=this.responder)!=null&&S.setLocationRangeFromPointRange(b),this.attachFiles(v.dataTransfer.files)):void 0},dragend:function(){var v;return this.dragging?((v=this.responder)!=null&&v.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},d.prototype.keys={ArrowLeft:function(){var v,b;return(v=this.responder)!=null&&v.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(b=this.responder)!=null?b.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var v,b;return(v=this.responder)!=null&&v.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(b=this.responder)!=null?b.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var v,b,T;return(v=this.responder)!=null&&v.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(b=this.delegate)!=null&&b.inputControllerWillPerformTyping(),(T=this.responder)!=null&&T.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var v,b;return(v=this.responder)!=null&&v.canIncreaseNestingLevel()?(this.event.preventDefault(),(b=this.responder)!=null&&b.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var v,b;return(v=this.responder)!=null&&v.canDecreaseNestingLevel()?(this.event.preventDefault(),(b=this.responder)!=null&&b.decreaseNestingLevel(),this.render()):void 0}},d.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var v;return this.deleteByDragRange=(v=this.responder)!=null?v.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var v;return(v=this.responder)!=null&&v.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var v;return(v=this.responder)!=null&&v.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var v,b,T,I;I=[];for(v in(b=this.responder)!=null?b.getCurrentAttributes():void 0)I.push((T=this.responder)!=null?T.removeCurrentAttribute(v):void 0);return I})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var v;return(v=this.delegate)!=null?v.inputControllerWillPerformRedo():void 0},historyUndo:function(){var v;return(v=this.delegate)!=null?v.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var v,b;return(v=this.deleteByDragRange)?(this.deleteByDragRange=null,(b=this.delegate)!=null&&b.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var T;return(T=this.responder)!=null?T.moveTextFromRange(v):void 0})):void 0},insertFromPaste:function(){var v,b,T,I,S,C,D,N,P,L,x;return v=this.event.dataTransfer,S={dataTransfer:v},(b=v.getData("URL"))?(this.event.preventDefault(),S.type="text/html",x=(I=v.getData("public.url-name"))?r.squishBreakableWhitespace(I).trim():b,S.html=this.createLinkHTML(b,x),(C=this.delegate)!=null&&C.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertHTML(S.html):void 0}),this.afterRender=function(M){return function(){var k;return(k=M.delegate)!=null?k.inputControllerDidPaste(S):void 0}}(this)):i(v)?(S.type="text/plain",S.string=v.getData("text/plain"),(D=this.delegate)!=null&&D.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertString(S.string):void 0}),this.afterRender=function(M){return function(){var k;return(k=M.delegate)!=null?k.inputControllerDidPaste(S):void 0}}(this)):(T=v.getData("text/html"))?(this.event.preventDefault(),S.type="text/html",S.html=T,(N=this.delegate)!=null&&N.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertHTML(S.html):void 0}),this.afterRender=function(M){return function(){var k;return(k=M.delegate)!=null?k.inputControllerDidPaste(S):void 0}}(this)):(P=v.files)!=null&&P.length?(S.type="File",S.file=v.files[0],(L=this.delegate)!=null&&L.inputControllerWillPaste(S),this.withTargetDOMRange(function(){var M;return(M=this.responder)!=null?M.insertFile(S.file):void 0}),this.afterRender=function(M){return function(){var k;return(k=M.delegate)!=null?k.inputControllerDidPaste(S):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var v;return(v=this.delegate)!=null&&v.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var v,b;return this.insertString((v=this.event.data)!=null?v:(b=this.event.dataTransfer)!=null?b.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},d.prototype.insertString=function(v,b){var T;return v==null&&(v=""),(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var I;return(I=this.responder)!=null?I.insertString(v,b):void 0})},d.prototype.toggleAttributeIfSupported=function(v){var b;return h.call(r.getAllAttributeNames(),v)>=0?((b=this.delegate)!=null&&b.inputControllerWillPerformFormatting(v),this.withTargetDOMRange(function(){var T;return(T=this.responder)!=null?T.toggleCurrentAttribute(v):void 0})):void 0},d.prototype.activateAttributeIfSupported=function(v,b){var T;return h.call(r.getAllAttributeNames(),v)>=0?((T=this.delegate)!=null&&T.inputControllerWillPerformFormatting(v),this.withTargetDOMRange(function(){var I;return(I=this.responder)!=null?I.setCurrentAttribute(v,b):void 0})):void 0},d.prototype.deleteInDirection=function(v,b){var T,I,S,C;return S=(b!=null?b:{recordUndoEntry:!0}).recordUndoEntry,S&&(C=this.delegate)!=null&&C.inputControllerWillPerformTyping(),I=function(D){return function(){var N;return(N=D.responder)!=null?N.deleteInDirection(v):void 0}}(this),(T=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(T,I):I()},d.prototype.withTargetDOMRange=function(v,b){var T;return typeof v=="function"&&(b=v,v=this.getTargetDOMRange()),v?(T=this.responder)!=null?T.withTargetDOMRange(v,b.bind(this)):void 0:(r.selectionChangeObserver.reset(),b.call(this))},d.prototype.getTargetDOMRange=function(v){var b,T,I,S;return I=(v!=null?v:{minLength:0}).minLength,(S=typeof(b=this.event).getTargetRanges=="function"?b.getTargetRanges():void 0)&&S.length&&(T=w(S[0]),I===0||T.toString().length>=I)?T:void 0},w=function(v){var b;return b=document.createRange(),b.setStart(v.startContainer,v.startOffset),b.setEnd(v.endContainer,v.endOffset),b},d.prototype.withEvent=function(v,b){var T;this.event=v;try{T=b.call(this)}finally{this.event=null}return T},g=function(v){var b,T;return h.call((b=(T=v.dataTransfer)!=null?T.types:void 0)!=null?b:[],"Files")>=0},m=function(v){var b;return(b=v.clipboardData)?h.call(b.types,"Files")>=0&&b.types.length===1&&b.files.length>=1:void 0},_=function(v){var b;return(b=v.clipboardData)?h.call(b.types,"text/plain")>=0&&b.types.length===1:void 0},y=function(v){var b;return b=[],v.altKey&&b.push("alt"),v.shiftKey&&b.push("shift"),b.push(v.key),b},E=function(v){return{x:v.clientX,y:v.clientY}},d}(r.InputController)}.call(this),function(){var i,o,s,a,u,c,h,p,d=function(m,_){return function(){return m.apply(_,arguments)}},g=function(m,_){function E(){this.constructor=m}for(var w in _)y.call(_,w)&&(m[w]=_[w]);return E.prototype=_.prototype,m.prototype=new E,m.__super__=_.prototype,m},y={}.hasOwnProperty;o=r.defer,s=r.handleEvent,c=r.makeElement,p=r.tagName,h=r.config,u=h.lang,i=h.css,a=h.keyNames,r.AttachmentEditorController=function(m){function _(w,v,b,T){this.attachmentPiece=w,this.element=v,this.container=b,this.options=T!=null?T:{},this.didBlurCaption=d(this.didBlurCaption,this),this.didChangeCaption=d(this.didChangeCaption,this),this.didInputCaption=d(this.didInputCaption,this),this.didKeyDownCaption=d(this.didKeyDownCaption,this),this.didClickActionButton=d(this.didClickActionButton,this),this.didClickToolbar=d(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,p(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var E;return g(_,m),E=function(w){return function(){var v;return v=w.apply(this,arguments),v.do(),this.undos==null&&(this.undos=[]),this.undos.push(v.undo)}},_.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},_.prototype.uninstall=function(){var w,v;for(this.savePendingCaption();v=this.undos.pop();)v();return(w=this.delegate)!=null?w.didUninstallAttachmentEditor(this):void 0},_.prototype.savePendingCaption=function(){var w,v,b;return this.pendingCaption!=null?(w=this.pendingCaption,this.pendingCaption=null,w?(v=this.delegate)!=null&&typeof v.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?v.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:w},this.attachment):void 0:(b=this.delegate)!=null&&typeof b.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?b.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},_.prototype.makeElementMutable=E(function(){return{do:function(w){return function(){return w.element.dataset.trixMutable=!0}}(this),undo:function(w){return function(){return delete w.element.dataset.trixMutable}}(this)}}),_.prototype.addToolbar=E(function(){var w;return w=c({tagName:"div",className:i.attachmentToolbar,data:{trixMutable:!0},childNodes:c({tagName:"div",className:"trix-button-row",childNodes:c({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:c({tagName:"button",className:"trix-button trix-button--remove",textContent:u.remove,attributes:{title:u.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&w.appendChild(c({tagName:"div",className:i.attachmentMetadataContainer,childNodes:c({tagName:"span",className:i.attachmentMetadata,childNodes:[c({tagName:"span",className:i.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),c({tagName:"span",className:i.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),s("click",{onElement:w,withCallback:this.didClickToolbar}),s("click",{onElement:w,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(v){return function(){return v.element.appendChild(w)}}(this),undo:function(){return function(){return r.removeNode(w)}}()}}),_.prototype.installCaptionEditor=E(function(){var w,v,b,T,I;return T=c({tagName:"textarea",className:i.attachmentCaptionEditor,attributes:{placeholder:u.captionPlaceholder},data:{trixMutable:!0}}),T.value=this.attachmentPiece.getCaption(),I=T.cloneNode(),I.classList.add("trix-autoresize-clone"),I.tabIndex=-1,w=function(){return I.value=T.value,T.style.height=I.scrollHeight+"px"},s("input",{onElement:T,withCallback:w}),s("input",{onElement:T,withCallback:this.didInputCaption}),s("keydown",{onElement:T,withCallback:this.didKeyDownCaption}),s("change",{onElement:T,withCallback:this.didChangeCaption}),s("blur",{onElement:T,withCallback:this.didBlurCaption}),b=this.element.querySelector("figcaption"),v=b.cloneNode(),{do:function(S){return function(){return b.style.display="none",v.appendChild(T),v.appendChild(I),v.classList.add(i.attachmentCaption+"--editing"),b.parentElement.insertBefore(v,b),w(),S.options.editCaption?o(function(){return T.focus()}):void 0}}(this),undo:function(){return r.removeNode(v),b.style.display=null}}}),_.prototype.didClickToolbar=function(w){return w.preventDefault(),w.stopPropagation()},_.prototype.didClickActionButton=function(w){var v;switch(w.target.getAttribute("data-trix-action")){case"remove":return(v=this.delegate)!=null?v.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},_.prototype.didKeyDownCaption=function(w){var v;return a[w.keyCode]==="return"?(w.preventDefault(),this.savePendingCaption(),(v=this.delegate)!=null&&typeof v.attachmentEditorDidRequestDeselectingAttachment=="function"?v.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},_.prototype.didInputCaption=function(w){return this.pendingCaption=w.target.value.replace(/\s/g," ").trim()},_.prototype.didChangeCaption=function(){return this.savePendingCaption()},_.prototype.didBlurCaption=function(){return this.savePendingCaption()},_}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(c,h){function p(){this.constructor=c}for(var d in h)u.call(h,d)&&(c[d]=h[d]);return p.prototype=h.prototype,c.prototype=new p,c.__super__=h.prototype,c},u={}.hasOwnProperty;s=r.makeElement,i=r.config.css,r.AttachmentView=function(c){function h(){h.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var p;return a(h,c),h.attachmentSelector="[data-trix-attachment]",h.prototype.createContentNodes=function(){return[]},h.prototype.createNodes=function(){var d,g,y,m,_,E,w;if(d=m=s({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(g=this.getHref())&&(m=s({tagName:"a",editable:!1,attributes:{href:g,tabindex:-1}}),d.appendChild(m)),this.attachment.hasContent())m.innerHTML=this.attachment.getContent();else for(w=this.createContentNodes(),y=0,_=w.length;_>y;y++)E=w[y],m.appendChild(E);return m.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=s({tagName:"progress",attributes:{class:i.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),d.appendChild(this.progressElement)),[p("left"),d,p("right")]},h.prototype.createCaptionElement=function(){var d,g,y,m,_,E,w;return y=s({tagName:"figcaption",className:i.attachmentCaption}),(d=this.attachmentPiece.getCaption())?(y.classList.add(i.attachmentCaption+"--edited"),y.textContent=d):(g=this.getCaptionConfig(),g.name&&(m=this.attachment.getFilename()),g.size&&(E=this.attachment.getFormattedFilesize()),m&&(_=s({tagName:"span",className:i.attachmentName,textContent:m}),y.appendChild(_)),E&&(m&&y.appendChild(document.createTextNode(" ")),w=s({tagName:"span",className:i.attachmentSize,textContent:E}),y.appendChild(w))),y},h.prototype.getClassName=function(){var d,g;return g=[i.attachment,i.attachment+"--"+this.attachment.getType()],(d=this.attachment.getExtension())&&g.push(i.attachment+"--"+d),g.join(" ")},h.prototype.getData=function(){var d,g;return g={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},d=this.attachmentPiece.attributes,d.isEmpty()||(g.trixAttributes=JSON.stringify(d)),this.attachment.isPending()&&(g.trixSerialize=!1),g},h.prototype.getHref=function(){return o(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},h.prototype.getCaptionConfig=function(){var d,g,y;return y=this.attachment.getType(),d=r.copyObject((g=r.config.attachments[y])!=null?g.caption:void 0),y==="file"&&(d.name=!0),d},h.prototype.findProgressElement=function(){var d;return(d=this.findElement())!=null?d.querySelector("progress"):void 0},p=function(d){return s({tagName:"span",textContent:r.ZERO_WIDTH_SPACE,data:{trixCursorTarget:d,trixSerialize:!1}})},h.prototype.attachmentDidChangeUploadProgress=function(){var d,g;return g=this.attachment.getUploadProgress(),(d=this.findProgressElement())!=null?d.value=g:void 0},h}(r.ObjectView),o=function(c,h){var p;return p=s("div"),p.innerHTML=c!=null?c:"",p.querySelector(h)}}.call(this),function(){var i,o=function(a,u){function c(){this.constructor=a}for(var h in u)s.call(u,h)&&(a[h]=u[h]);return c.prototype=u.prototype,a.prototype=new c,a.__super__=u.prototype,a},s={}.hasOwnProperty;i=r.makeElement,r.PreviewableAttachmentView=function(a){function u(){u.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return o(u,a),u.prototype.createContentNodes=function(){return this.image=i({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},u.prototype.createCaptionElement=function(){var c;return c=u.__super__.createCaptionElement.apply(this,arguments),c.textContent||c.setAttribute("data-trix-placeholder",r.config.lang.captionPlaceholder),c},u.prototype.refresh=function(c){var h;return c==null&&(c=(h=this.findElement())!=null?h.querySelector("img"):void 0),c?this.updateAttributesForImage(c):void 0},u.prototype.updateAttributesForImage=function(c){var h,p,d,g,y,m;return y=this.attachment.getURL(),p=this.attachment.getPreviewURL(),c.src=p||y,p===y?c.removeAttribute("data-trix-serialized-attributes"):(d=JSON.stringify({src:y}),c.setAttribute("data-trix-serialized-attributes",d)),m=this.attachment.getWidth(),h=this.attachment.getHeight(),m!=null&&(c.width=m),h!=null&&(c.height=h),g=["imageElement",this.attachment.id,c.src,c.width,c.height].join("/"),c.dataset.trixStoreKey=g},u.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},u}(r.AttachmentView)}.call(this),function(){var i,o,s,a=function(c,h){function p(){this.constructor=c}for(var d in h)u.call(h,d)&&(c[d]=h[d]);return p.prototype=h.prototype,c.prototype=new p,c.__super__=h.prototype,c},u={}.hasOwnProperty;s=r.makeElement,i=r.findInnerElement,o=r.getTextConfig,r.PieceView=function(c){function h(){var d;h.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),d=this.options,this.textConfig=d.textConfig,this.context=d.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var p;return a(h,c),h.prototype.createNodes=function(){var d,g,y,m,_,E;if(E=this.attachment?this.createAttachmentNodes():this.createStringNodes(),d=this.createElement()){for(y=i(d),g=0,m=E.length;m>g;g++)_=E[g],y.appendChild(_);E=[d]}return E},h.prototype.createAttachmentNodes=function(){var d,g;return d=this.attachment.isPreviewable()?r.PreviewableAttachmentView:r.AttachmentView,g=this.createChildView(d,this.piece.attachment,{piece:this.piece}),g.getNodes()},h.prototype.createStringNodes=function(){var d,g,y,m,_,E,w,v,b;if((w=this.textConfig)!=null&&w.plaintext)return[document.createTextNode(this.string)];for(E=[],v=this.string.split(`
`),y=g=0,m=v.length;m>g;y=++g)b=v[y],y>0&&(d=s("br"),E.push(d)),b.length&&(_=document.createTextNode(this.preserveSpaces(b)),E.push(_));return E},h.prototype.createElement=function(){var d,g,y,m,_,E,w,v,b;v={},E=this.attributes;for(m in E)if(b=E[m],(d=o(m))&&(d.tagName&&(_=s(d.tagName),y?(y.appendChild(_),y=_):g=y=_),d.styleProperty&&(v[d.styleProperty]=b),d.style)){w=d.style;for(m in w)b=w[m],v[m]=b}if(Object.keys(v).length){g==null&&(g=s("span"));for(m in v)b=v[m],g.style[m]=b}return g},h.prototype.createContainerElement=function(){var d,g,y,m,_;m=this.attributes;for(y in m)if(_=m[y],(g=o(y))&&g.groupTagName)return d={},d[y]=_,s(g.groupTagName,d)},p=r.NON_BREAKING_SPACE,h.prototype.preserveSpaces=function(d){return this.context.isLast&&(d=d.replace(/\ $/,p)),d=d.replace(/(\S)\ {3}(\S)/g,"$1 "+p+" $2").replace(/\ {2}/g,p+" ").replace(/\ {2}/g," "+p),(this.context.isFirst||this.context.followsWhitespace)&&(d=d.replace(/^\ /,p)),d},h}(r.ObjectView)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.TextView=function(s){function a(){a.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var u;return i(a,s),a.prototype.createNodes=function(){var c,h,p,d,g,y,m,_,E,w;for(y=[],_=r.ObjectGroup.groupObjects(this.getPieces()),d=_.length-1,p=h=0,g=_.length;g>h;p=++h)m=_[p],c={},p===0&&(c.isFirst=!0),p===d&&(c.isLast=!0),u(E)&&(c.followsWhitespace=!0),w=this.findOrCreateCachedChildView(r.PieceView,m,{textConfig:this.textConfig,context:c}),y.push.apply(y,w.getNodes()),E=m;return y},a.prototype.getPieces=function(){var c,h,p,d,g;for(d=this.text.getPieces(),g=[],c=0,h=d.length;h>c;c++)p=d[c],p.hasAttribute("blockBreak")||g.push(p);return g},u=function(c){return/\s$/.test(c!=null?c.toString():void 0)},a}(r.ObjectView)}.call(this),function(){var i,o,s,a=function(c,h){function p(){this.constructor=c}for(var d in h)u.call(h,d)&&(c[d]=h[d]);return p.prototype=h.prototype,c.prototype=new p,c.__super__=h.prototype,c},u={}.hasOwnProperty;s=r.makeElement,o=r.getBlockConfig,i=r.config.css,r.BlockView=function(c){function h(){h.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return a(h,c),h.prototype.createNodes=function(){var p,d,g,y,m,_,E,w,v,b,T;if(d=document.createComment("block"),E=[d],this.block.isEmpty()?E.push(s("br")):(b=(w=o(this.block.getLastAttribute()))!=null?w.text:void 0,T=this.findOrCreateCachedChildView(r.TextView,this.block.text,{textConfig:b}),E.push.apply(E,T.getNodes()),this.shouldAddExtraNewlineElement()&&E.push(s("br"))),this.attributes.length)return E;for(v=r.config.blockAttributes.default.tagName,this.block.isRTL()&&(p={dir:"rtl"}),g=s({tagName:v,attributes:p}),y=0,m=E.length;m>y;y++)_=E[y],g.appendChild(_);return[g]},h.prototype.createContainerElement=function(p){var d,g,y,m,_;return d=this.attributes[p],_=o(d).tagName,p===0&&this.block.isRTL()&&(g={dir:"rtl"}),d==="attachmentGallery"&&(m=this.block.getBlockBreakPosition(),y=i.attachmentGallery+" "+i.attachmentGallery+"--"+m),s({tagName:_,className:y,attributes:g})},h.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},h}(r.ObjectView)}.call(this),function(){var i,o,s=function(u,c){function h(){this.constructor=u}for(var p in c)a.call(c,p)&&(u[p]=c[p]);return h.prototype=c.prototype,u.prototype=new h,u.__super__=c.prototype,u},a={}.hasOwnProperty;i=r.defer,o=r.makeElement,r.DocumentView=function(u){function c(){c.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new r.ElementStore,this.setDocument(this.object)}var h,p,d;return s(c,u),c.render=function(g){var y,m;return y=o("div"),m=new this(g,{element:y}),m.render(),m.sync(),y},c.prototype.setDocument=function(g){return g.isEqualTo(this.document)?void 0:this.document=this.object=g},c.prototype.render=function(){var g,y,m,_,E,w,v;if(this.childViews=[],this.shadowElement=o("div"),!this.document.isEmpty()){for(E=r.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),w=[],g=0,y=E.length;y>g;g++)_=E[g],v=this.findOrCreateCachedChildView(r.BlockView,_),w.push(function(){var b,T,I,S;for(I=v.getNodes(),S=[],b=0,T=I.length;T>b;b++)m=I[b],S.push(this.shadowElement.appendChild(m));return S}.call(this));return w}},c.prototype.isSynced=function(){return h(this.shadowElement,this.element)},c.prototype.sync=function(){var g;for(g=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(g),this.didSync()},c.prototype.didSync=function(){return this.elementStore.reset(p(this.element)),i(function(g){return function(){return g.garbageCollectCachedViews()}}(this))},c.prototype.createDocumentFragmentForSync=function(){var g,y,m,_,E,w,v,b,T,I;for(y=document.createDocumentFragment(),b=this.shadowElement.childNodes,m=0,E=b.length;E>m;m++)v=b[m],y.appendChild(v.cloneNode(!0));for(T=p(y),_=0,w=T.length;w>_;_++)g=T[_],(I=this.elementStore.remove(g))&&g.parentNode.replaceChild(I,g);return y},p=function(g){return g.querySelectorAll("[data-trix-store-key]")},h=function(g,y){return d(g.innerHTML)===d(y.innerHTML)},d=function(g){return g.replace(/&nbsp;/g," ")},c}(r.ObjectView)}.call(this),function(){var i,o,s,a,u,c=function(d,g){return function(){return d.apply(g,arguments)}},h=function(d,g){function y(){this.constructor=d}for(var m in g)p.call(g,m)&&(d[m]=g[m]);return y.prototype=g.prototype,d.prototype=new y,d.__super__=g.prototype,d},p={}.hasOwnProperty;s=r.findClosestElementFromNode,a=r.handleEvent,u=r.innerElementIsActive,o=r.defer,i=r.AttachmentView.attachmentSelector,r.CompositionController=function(d){function g(y,m){this.element=y,this.composition=m,this.didClickAttachment=c(this.didClickAttachment,this),this.didBlur=c(this.didBlur,this),this.didFocus=c(this.didFocus,this),this.documentView=new r.DocumentView(this.composition.document,{element:this.element}),a("focus",{onElement:this.element,withCallback:this.didFocus}),a("blur",{onElement:this.element,withCallback:this.didBlur}),a("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),a("mousedown",{onElement:this.element,matchingSelector:i,withCallback:this.didClickAttachment}),a("click",{onElement:this.element,matchingSelector:"a"+i,preventDefault:!0})}return h(g,d),g.prototype.didFocus=function(){var y,m,_;return y=function(E){return function(){var w;return E.focused?void 0:(E.focused=!0,(w=E.delegate)!=null&&typeof w.compositionControllerDidFocus=="function"?w.compositionControllerDidFocus():void 0)}}(this),(m=(_=this.blurPromise)!=null?_.then(y):void 0)!=null?m:y()},g.prototype.didBlur=function(){return this.blurPromise=new Promise(function(y){return function(m){return o(function(){var _;return u(y.element)||(y.focused=null,(_=y.delegate)!=null&&typeof _.compositionControllerDidBlur=="function"&&_.compositionControllerDidBlur()),y.blurPromise=null,m()})}}(this))},g.prototype.didClickAttachment=function(y,m){var _,E,w;return _=this.findAttachmentForElement(m),E=s(y.target,{matchingSelector:"figcaption"})!=null,(w=this.delegate)!=null&&typeof w.compositionControllerDidSelectAttachment=="function"?w.compositionControllerDidSelectAttachment(_,{editCaption:E}):void 0},g.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},g.prototype.render=function(){var y,m,_;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((y=this.delegate)!=null&&typeof y.compositionControllerWillSyncDocumentView=="function"&&y.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(m=this.delegate)!=null&&typeof m.compositionControllerDidSyncDocumentView=="function"&&m.compositionControllerDidSyncDocumentView()),(_=this.delegate)!=null&&typeof _.compositionControllerDidRender=="function"?_.compositionControllerDidRender():void 0},g.prototype.rerenderViewForObject=function(y){return this.invalidateViewForObject(y),this.render()},g.prototype.invalidateViewForObject=function(y){return this.documentView.invalidateViewForObject(y)},g.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},g.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},g.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},g.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},g.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},g.prototype.installAttachmentEditorForAttachment=function(y,m){var _,E,w;if(((w=this.attachmentEditor)!=null?w.attachment:void 0)!==y&&(E=this.documentView.findElementForObject(y)))return this.uninstallAttachmentEditor(),_=this.composition.document.getAttachmentPieceForAttachment(y),this.attachmentEditor=new r.AttachmentEditorController(_,E,this.element,m),this.attachmentEditor.delegate=this},g.prototype.uninstallAttachmentEditor=function(){var y;return(y=this.attachmentEditor)!=null?y.uninstall():void 0},g.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},g.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(y,m){var _;return(_=this.delegate)!=null&&typeof _.compositionControllerWillUpdateAttachment=="function"&&_.compositionControllerWillUpdateAttachment(m),this.composition.updateAttributesForAttachment(y,m)},g.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(y,m){var _;return(_=this.delegate)!=null&&typeof _.compositionControllerWillUpdateAttachment=="function"&&_.compositionControllerWillUpdateAttachment(m),this.composition.removeAttributeForAttachment(y,m)},g.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(y){var m;return(m=this.delegate)!=null&&typeof m.compositionControllerDidRequestRemovalOfAttachment=="function"?m.compositionControllerDidRequestRemovalOfAttachment(y):void 0},g.prototype.attachmentEditorDidRequestDeselectingAttachment=function(y){var m;return(m=this.delegate)!=null&&typeof m.compositionControllerDidRequestDeselectingAttachment=="function"?m.compositionControllerDidRequestDeselectingAttachment(y):void 0},g.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},g.prototype.findAttachmentForElement=function(y){return this.composition.document.getAttachmentById(parseInt(y.dataset.trixId,10))},g}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(h,p){return function(){return h.apply(p,arguments)}},u=function(h,p){function d(){this.constructor=h}for(var g in p)c.call(p,g)&&(h[g]=p[g]);return d.prototype=p.prototype,h.prototype=new d,h.__super__=p.prototype,h},c={}.hasOwnProperty;o=r.handleEvent,s=r.triggerEvent,i=r.findClosestElementFromNode,r.ToolbarController=function(h){function p(S){this.element=S,this.didKeyDownDialogInput=a(this.didKeyDownDialogInput,this),this.didClickDialogButton=a(this.didClickDialogButton,this),this.didClickAttributeButton=a(this.didClickAttributeButton,this),this.didClickActionButton=a(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),o("mousedown",{onElement:this.element,matchingSelector:d,withCallback:this.didClickActionButton}),o("mousedown",{onElement:this.element,matchingSelector:y,withCallback:this.didClickAttributeButton}),o("click",{onElement:this.element,matchingSelector:I,preventDefault:!0}),o("click",{onElement:this.element,matchingSelector:m,withCallback:this.didClickDialogButton}),o("keydown",{onElement:this.element,matchingSelector:_,withCallback:this.didKeyDownDialogInput})}var d,g,y,m,_,E,w,v,b,T,I;return u(p,h),y="[data-trix-attribute]",d="[data-trix-action]",I=y+", "+d,E="[data-trix-dialog]",g=E+"[data-trix-active]",m=E+" [data-trix-method]",_=E+" [data-trix-input]",p.prototype.didClickActionButton=function(S,C){var D,N,P;return(N=this.delegate)!=null&&N.toolbarDidClickButton(),S.preventDefault(),D=w(C),this.getDialog(D)?this.toggleDialog(D):(P=this.delegate)!=null?P.toolbarDidInvokeAction(D):void 0},p.prototype.didClickAttributeButton=function(S,C){var D,N,P;return(N=this.delegate)!=null&&N.toolbarDidClickButton(),S.preventDefault(),D=v(C),this.getDialog(D)?this.toggleDialog(D):(P=this.delegate)!=null&&P.toolbarDidToggleAttribute(D),this.refreshAttributeButtons()},p.prototype.didClickDialogButton=function(S,C){var D,N;return D=i(C,{matchingSelector:E}),N=C.getAttribute("data-trix-method"),this[N].call(this,D)},p.prototype.didKeyDownDialogInput=function(S,C){var D,N;return S.keyCode===13&&(S.preventDefault(),D=C.getAttribute("name"),N=this.getDialog(D),this.setAttribute(N)),S.keyCode===27?(S.preventDefault(),this.hideDialog()):void 0},p.prototype.updateActions=function(S){return this.actions=S,this.refreshActionButtons()},p.prototype.refreshActionButtons=function(){return this.eachActionButton(function(S){return function(C,D){return C.disabled=S.actions[D]===!1}}(this))},p.prototype.eachActionButton=function(S){var C,D,N,P,L;for(P=this.element.querySelectorAll(d),L=[],D=0,N=P.length;N>D;D++)C=P[D],L.push(S(C,w(C)));return L},p.prototype.updateAttributes=function(S){return this.attributes=S,this.refreshAttributeButtons()},p.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(S){return function(C,D){return C.disabled=S.attributes[D]===!1,S.attributes[D]||S.dialogIsVisible(D)?(C.setAttribute("data-trix-active",""),C.classList.add("trix-active")):(C.removeAttribute("data-trix-active"),C.classList.remove("trix-active"))}}(this))},p.prototype.eachAttributeButton=function(S){var C,D,N,P,L;for(P=this.element.querySelectorAll(y),L=[],D=0,N=P.length;N>D;D++)C=P[D],L.push(S(C,v(C)));return L},p.prototype.applyKeyboardCommand=function(S){var C,D,N,P,L,x,M;for(L=JSON.stringify(S.sort()),M=this.element.querySelectorAll("[data-trix-key]"),P=0,x=M.length;x>P;P++)if(C=M[P],N=C.getAttribute("data-trix-key").split("+"),D=JSON.stringify(N.sort()),D===L)return s("mousedown",{onElement:C}),!0;return!1},p.prototype.dialogIsVisible=function(S){var C;return(C=this.getDialog(S))?C.hasAttribute("data-trix-active"):void 0},p.prototype.toggleDialog=function(S){return this.dialogIsVisible(S)?this.hideDialog():this.showDialog(S)},p.prototype.showDialog=function(S){var C,D,N,P,L,x,M,k,R,B;for(this.hideDialog(),(M=this.delegate)!=null&&M.toolbarWillShowDialog(),N=this.getDialog(S),N.setAttribute("data-trix-active",""),N.classList.add("trix-active"),k=N.querySelectorAll("input[disabled]"),P=0,x=k.length;x>P;P++)D=k[P],D.removeAttribute("disabled");return(C=v(N))&&(L=T(N,S))&&(L.value=(R=this.attributes[C])!=null?R:"",L.select()),(B=this.delegate)!=null?B.toolbarDidShowDialog(S):void 0},p.prototype.setAttribute=function(S){var C,D,N;return C=v(S),D=T(S,C),D.willValidate&&!D.checkValidity()?(D.setAttribute("data-trix-validate",""),D.classList.add("trix-validate"),D.focus()):((N=this.delegate)!=null&&N.toolbarDidUpdateAttribute(C,D.value),this.hideDialog())},p.prototype.removeAttribute=function(S){var C,D;return C=v(S),(D=this.delegate)!=null&&D.toolbarDidRemoveAttribute(C),this.hideDialog()},p.prototype.hideDialog=function(){var S,C;return(S=this.element.querySelector(g))?(S.removeAttribute("data-trix-active"),S.classList.remove("trix-active"),this.resetDialogInputs(),(C=this.delegate)!=null?C.toolbarDidHideDialog(b(S)):void 0):void 0},p.prototype.resetDialogInputs=function(){var S,C,D,N,P;for(N=this.element.querySelectorAll(_),P=[],S=0,D=N.length;D>S;S++)C=N[S],C.setAttribute("disabled","disabled"),C.removeAttribute("data-trix-validate"),P.push(C.classList.remove("trix-validate"));return P},p.prototype.getDialog=function(S){return this.element.querySelector("[data-trix-dialog="+S+"]")},T=function(S,C){return C==null&&(C=v(S)),S.querySelector("[data-trix-input][name='"+C+"']")},w=function(S){return S.getAttribute("data-trix-action")},v=function(S){var C;return(C=S.getAttribute("data-trix-attribute"))!=null?C:S.getAttribute("data-trix-dialog-attribute")},b=function(S){return S.getAttribute("data-trix-dialog")},p}(r.BasicObject)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ImagePreloadOperation=function(s){function a(u){this.url=u}return i(a,s),a.prototype.perform=function(u){var c;return c=new Image,c.onload=function(h){return function(){return c.width=h.width=c.naturalWidth,c.height=h.height=c.naturalHeight,u(!0,c)}}(this),c.onerror=function(){return u(!1)},c.src=this.url},a}(r.Operation)}.call(this),function(){var i=function(a,u){return function(){return a.apply(u,arguments)}},o=function(a,u){function c(){this.constructor=a}for(var h in u)s.call(u,h)&&(a[h]=u[h]);return c.prototype=u.prototype,a.prototype=new c,a.__super__=u.prototype,a},s={}.hasOwnProperty;r.Attachment=function(a){function u(c){c==null&&(c={}),this.releaseFile=i(this.releaseFile,this),u.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(c),this.didChangeAttributes()}return o(u,a),u.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,u.attachmentForFile=function(c){var h,p;return p=this.attributesForFile(c),h=new this(p),h.setFile(c),h},u.attributesForFile=function(c){return new r.Hash({filename:c.name,filesize:c.size,contentType:c.type})},u.fromJSON=function(c){return new this(c)},u.prototype.getAttribute=function(c){return this.attributes.get(c)},u.prototype.hasAttribute=function(c){return this.attributes.has(c)},u.prototype.getAttributes=function(){return this.attributes.toObject()},u.prototype.setAttributes=function(c){var h,p,d;return c==null&&(c={}),h=this.attributes.merge(c),this.attributes.isEqualTo(h)?void 0:(this.attributes=h,this.didChangeAttributes(),(p=this.previewDelegate)!=null&&typeof p.attachmentDidChangeAttributes=="function"&&p.attachmentDidChangeAttributes(this),(d=this.delegate)!=null&&typeof d.attachmentDidChangeAttributes=="function"?d.attachmentDidChangeAttributes(this):void 0)},u.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},u.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},u.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},u.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},u.prototype.getURL=function(){return this.attributes.get("url")},u.prototype.getHref=function(){return this.attributes.get("href")},u.prototype.getFilename=function(){var c;return(c=this.attributes.get("filename"))!=null?c:""},u.prototype.getFilesize=function(){return this.attributes.get("filesize")},u.prototype.getFormattedFilesize=function(){var c;return c=this.attributes.get("filesize"),typeof c=="number"?r.config.fileSize.formatter(c):""},u.prototype.getExtension=function(){var c;return(c=this.getFilename().match(/\.(\w+)$/))!=null?c[1].toLowerCase():void 0},u.prototype.getContentType=function(){return this.attributes.get("contentType")},u.prototype.hasContent=function(){return this.attributes.has("content")},u.prototype.getContent=function(){return this.attributes.get("content")},u.prototype.getWidth=function(){return this.attributes.get("width")},u.prototype.getHeight=function(){return this.attributes.get("height")},u.prototype.getFile=function(){return this.file},u.prototype.setFile=function(c){return this.file=c,this.isPreviewable()?this.preloadFile():void 0},u.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},u.prototype.getUploadProgress=function(){var c;return(c=this.uploadProgress)!=null?c:0},u.prototype.setUploadProgress=function(c){var h;return this.uploadProgress!==c?(this.uploadProgress=c,(h=this.uploadProgressDelegate)!=null&&typeof h.attachmentDidChangeUploadProgress=="function"?h.attachmentDidChangeUploadProgress(this):void 0):void 0},u.prototype.toJSON=function(){return this.getAttributes()},u.prototype.getCacheKey=function(){return[u.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},u.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},u.prototype.setPreviewURL=function(c){var h,p;return c!==this.getPreviewURL()?(this.previewURL=c,(h=this.previewDelegate)!=null&&typeof h.attachmentDidChangeAttributes=="function"&&h.attachmentDidChangeAttributes(this),(p=this.delegate)!=null&&typeof p.attachmentDidChangePreviewURL=="function"?p.attachmentDidChangePreviewURL(this):void 0):void 0},u.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},u.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},u.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},u.prototype.preload=function(c,h){var p;return c&&c!==this.getPreviewURL()?(this.preloadingURL=c,p=new r.ImagePreloadOperation(c),p.then(function(d){return function(g){var y,m;return m=g.width,y=g.height,d.getWidth()&&d.getHeight()||d.setAttributes({width:m,height:y}),d.preloadingURL=null,d.setPreviewURL(c),typeof h=="function"?h():void 0}}(this)).catch(function(d){return function(){return d.preloadingURL=null,typeof h=="function"?h():void 0}}(this))):void 0},u}(r.Object)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Piece=function(s){function a(u,c){c==null&&(c={}),a.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(c)}return i(a,s),a.types={},a.registerType=function(u,c){return c.type=u,this.types[u]=c},a.fromJSON=function(u){var c;return(c=this.types[u.type])?c.fromJSON(u):void 0},a.prototype.copyWithAttributes=function(u){return new this.constructor(this.getValue(),u)},a.prototype.copyWithAdditionalAttributes=function(u){return this.copyWithAttributes(this.attributes.merge(u))},a.prototype.copyWithoutAttribute=function(u){return this.copyWithAttributes(this.attributes.remove(u))},a.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},a.prototype.getAttribute=function(u){return this.attributes.get(u)},a.prototype.getAttributesHash=function(){return this.attributes},a.prototype.getAttributes=function(){return this.attributes.toObject()},a.prototype.getCommonAttributes=function(){var u,c,h;return(h=pieceList.getPieceAtIndex(0))?(u=h.attributes,c=u.getKeys(),pieceList.eachPiece(function(p){return c=u.getKeysCommonToHash(p.attributes),u=u.slice(c)}),u.toObject()):{}},a.prototype.hasAttribute=function(u){return this.attributes.has(u)},a.prototype.hasSameStringValueAsPiece=function(u){return u!=null&&this.toString()===u.toString()},a.prototype.hasSameAttributesAsPiece=function(u){return u!=null&&(this.attributes===u.attributes||this.attributes.isEqualTo(u.attributes))},a.prototype.isBlockBreak=function(){return!1},a.prototype.isEqualTo=function(u){return a.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(u)&&this.hasSameStringValueAsPiece(u)&&this.hasSameAttributesAsPiece(u)},a.prototype.isEmpty=function(){return this.length===0},a.prototype.isSerializable=function(){return!0},a.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},a.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},a.prototype.canBeGrouped=function(){return this.hasAttribute("href")},a.prototype.canBeGroupedWith=function(u){return this.getAttribute("href")===u.getAttribute("href")},a.prototype.getLength=function(){return this.length},a.prototype.canBeConsolidatedWith=function(){return!1},a}(r.Object)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Piece.registerType("attachment",r.AttachmentPiece=function(s){function a(u){this.attachment=u,a.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return i(a,s),a.fromJSON=function(u){return new this(r.Attachment.fromJSON(u.attachment),u.attributes)},a.permittedAttributes=["caption","presentation"],a.prototype.ensureAttachmentExclusivelyHasAttribute=function(u){return this.hasAttribute(u)?(this.attachment.hasAttribute(u)||this.attachment.setAttributes(this.attributes.slice(u)),this.attributes=this.attributes.remove(u)):void 0},a.prototype.removeProhibitedAttributes=function(){var u;return u=this.attributes.slice(this.constructor.permittedAttributes),u.isEqualTo(this.attributes)?void 0:this.attributes=u},a.prototype.getValue=function(){return this.attachment},a.prototype.isSerializable=function(){return!this.attachment.isPending()},a.prototype.getCaption=function(){var u;return(u=this.attributes.get("caption"))!=null?u:""},a.prototype.isEqualTo=function(u){var c;return a.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(u!=null&&(c=u.attachment)!=null?c.id:void 0)},a.prototype.toString=function(){return r.OBJECT_REPLACEMENT_CHARACTER},a.prototype.toJSON=function(){var u;return u=a.__super__.toJSON.apply(this,arguments),u.attachment=this.attachment,u},a.prototype.getCacheKey=function(){return[a.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},a.prototype.toConsole=function(){return JSON.stringify(this.toString())},a}(r.Piece))}.call(this),function(){var i,o=function(a,u){function c(){this.constructor=a}for(var h in u)s.call(u,h)&&(a[h]=u[h]);return c.prototype=u.prototype,a.prototype=new c,a.__super__=u.prototype,a},s={}.hasOwnProperty;i=r.normalizeNewlines,r.Piece.registerType("string",r.StringPiece=function(a){function u(c){u.__super__.constructor.apply(this,arguments),this.string=i(c),this.length=this.string.length}return o(u,a),u.fromJSON=function(c){return new this(c.string,c.attributes)},u.prototype.getValue=function(){return this.string},u.prototype.toString=function(){return this.string.toString()},u.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},u.prototype.toJSON=function(){var c;return c=u.__super__.toJSON.apply(this,arguments),c.string=this.string,c},u.prototype.canBeConsolidatedWith=function(c){return c!=null&&this.hasSameConstructorAs(c)&&this.hasSameAttributesAsPiece(c)},u.prototype.consolidateWith=function(c){return new this.constructor(this.toString()+c.toString(),this.attributes)},u.prototype.splitAtOffset=function(c){var h,p;return c===0?(h=null,p=this):c===this.length?(h=this,p=null):(h=new this.constructor(this.string.slice(0,c),this.attributes),p=new this.constructor(this.string.slice(c),this.attributes)),[h,p]},u.prototype.toConsole=function(){var c;return c=this.string,c.length>15&&(c=c.slice(0,14)+"\u2026"),JSON.stringify(c.toString())},u}(r.Piece))}.call(this),function(){var i,o=function(u,c){function h(){this.constructor=u}for(var p in c)s.call(c,p)&&(u[p]=c[p]);return h.prototype=c.prototype,u.prototype=new h,u.__super__=c.prototype,u},s={}.hasOwnProperty,a=[].slice;i=r.spliceArray,r.SplittableList=function(u){function c(g){g==null&&(g=[]),c.__super__.constructor.apply(this,arguments),this.objects=g.slice(0),this.length=this.objects.length}var h,p,d;return o(c,u),c.box=function(g){return g instanceof this?g:new this(g)},c.prototype.indexOf=function(g){return this.objects.indexOf(g)},c.prototype.splice=function(){var g;return g=1<=arguments.length?a.call(arguments,0):[],new this.constructor(i.apply(null,[this.objects].concat(a.call(g))))},c.prototype.eachObject=function(g){var y,m,_,E,w,v;for(w=this.objects,v=[],m=y=0,_=w.length;_>y;m=++y)E=w[m],v.push(g(E,m));return v},c.prototype.insertObjectAtIndex=function(g,y){return this.splice(y,0,g)},c.prototype.insertSplittableListAtIndex=function(g,y){return this.splice.apply(this,[y,0].concat(a.call(g.objects)))},c.prototype.insertSplittableListAtPosition=function(g,y){var m,_,E;return E=this.splitObjectAtPosition(y),_=E[0],m=E[1],new this.constructor(_).insertSplittableListAtIndex(g,m)},c.prototype.editObjectAtIndex=function(g,y){return this.replaceObjectAtIndex(y(this.objects[g]),g)},c.prototype.replaceObjectAtIndex=function(g,y){return this.splice(y,1,g)},c.prototype.removeObjectAtIndex=function(g){return this.splice(g,1)},c.prototype.getObjectAtIndex=function(g){return this.objects[g]},c.prototype.getSplittableListInRange=function(g){var y,m,_,E;return _=this.splitObjectsAtRange(g),m=_[0],y=_[1],E=_[2],new this.constructor(m.slice(y,E+1))},c.prototype.selectSplittableList=function(g){var y,m;return m=function(){var _,E,w,v;for(w=this.objects,v=[],_=0,E=w.length;E>_;_++)y=w[_],g(y)&&v.push(y);return v}.call(this),new this.constructor(m)},c.prototype.removeObjectsInRange=function(g){var y,m,_,E;return _=this.splitObjectsAtRange(g),m=_[0],y=_[1],E=_[2],new this.constructor(m).splice(y,E-y+1)},c.prototype.transformObjectsInRange=function(g,y){var m,_,E,w,v,b,T;return v=this.splitObjectsAtRange(g),w=v[0],_=v[1],b=v[2],T=function(){var I,S,C;for(C=[],m=I=0,S=w.length;S>I;m=++I)E=w[m],C.push(m>=_&&b>=m?y(E):E);return C}(),new this.constructor(T)},c.prototype.splitObjectsAtRange=function(g){var y,m,_,E,w,v;return E=this.splitObjectAtPosition(d(g)),m=E[0],y=E[1],_=E[2],w=new this.constructor(m).splitObjectAtPosition(h(g)+_),m=w[0],v=w[1],[m,y,v-1]},c.prototype.getObjectAtPosition=function(g){var y,m;return m=this.findIndexAndOffsetAtPosition(g),y=m.index,m.offset,this.objects[y]},c.prototype.splitObjectAtPosition=function(g){var y,m,_,E,w,v,b,T,I,S;return v=this.findIndexAndOffsetAtPosition(g),y=v.index,w=v.offset,E=this.objects.slice(0),y!=null?w===0?(I=y,S=0):(_=this.getObjectAtIndex(y),b=_.splitAtOffset(w),m=b[0],T=b[1],E.splice(y,1,m,T),I=y+1,S=m.getLength()-w):(I=E.length,S=0),[E,I,S]},c.prototype.consolidate=function(){var g,y,m,_,E,w;for(_=[],E=this.objects[0],w=this.objects.slice(1),g=0,y=w.length;y>g;g++)m=w[g],typeof E.canBeConsolidatedWith=="function"&&E.canBeConsolidatedWith(m)?E=E.consolidateWith(m):(_.push(E),E=m);return E!=null&&_.push(E),new this.constructor(_)},c.prototype.consolidateFromIndexToIndex=function(g,y){var m,_,E;return _=this.objects.slice(0),E=_.slice(g,y+1),m=new this.constructor(E).consolidate().toArray(),this.splice.apply(this,[g,E.length].concat(a.call(m)))},c.prototype.findIndexAndOffsetAtPosition=function(g){var y,m,_,E,w,v,b;for(y=0,b=this.objects,_=m=0,E=b.length;E>m;_=++m){if(v=b[_],w=y+v.getLength(),g>=y&&w>g)return{index:_,offset:g-y};y=w}return{index:null,offset:null}},c.prototype.findPositionAtIndexAndOffset=function(g,y){var m,_,E,w,v,b;for(v=0,b=this.objects,m=_=0,E=b.length;E>_;m=++_)if(w=b[m],g>m)v+=w.getLength();else if(m===g){v+=y;break}return v},c.prototype.getEndPosition=function(){var g,y;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var m,_,E;for(y=0,E=this.objects,m=0,_=E.length;_>m;m++)g=E[m],y+=g.getLength();return y}.call(this)},c.prototype.toString=function(){return this.objects.join("")},c.prototype.toArray=function(){return this.objects.slice(0)},c.prototype.toJSON=function(){return this.toArray()},c.prototype.isEqualTo=function(g){return c.__super__.isEqualTo.apply(this,arguments)||p(this.objects,g!=null?g.objects:void 0)},p=function(g,y){var m,_,E,w,v;if(y==null&&(y=[]),g.length!==y.length)return!1;for(v=!0,_=m=0,E=g.length;E>m;_=++m)w=g[_],v&&!w.isEqualTo(y[_])&&(v=!1);return v},c.prototype.contentsForInspection=function(){var g;return{objects:"["+function(){var y,m,_,E;for(_=this.objects,E=[],y=0,m=_.length;m>y;y++)g=_[y],E.push(g.inspect());return E}.call(this).join(", ")+"]"}},d=function(g){return g[0]},h=function(g){return g[1]},c}(r.Object)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Text=function(s){function a(u){var c;u==null&&(u=[]),a.__super__.constructor.apply(this,arguments),this.pieceList=new r.SplittableList(function(){var h,p,d;for(d=[],h=0,p=u.length;p>h;h++)c=u[h],c.isEmpty()||d.push(c);return d}())}return i(a,s),a.textForAttachmentWithAttributes=function(u,c){var h;return h=new r.AttachmentPiece(u,c),new this([h])},a.textForStringWithAttributes=function(u,c){var h;return h=new r.StringPiece(u,c),new this([h])},a.fromJSON=function(u){var c,h;return h=function(){var p,d,g;for(g=[],p=0,d=u.length;d>p;p++)c=u[p],g.push(r.Piece.fromJSON(c));return g}(),new this(h)},a.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},a.prototype.copyWithPieceList=function(u){return new this.constructor(u.consolidate().toArray())},a.prototype.copyUsingObjectMap=function(u){var c,h;return h=function(){var p,d,g,y,m;for(g=this.getPieces(),m=[],p=0,d=g.length;d>p;p++)c=g[p],m.push((y=u.find(c))!=null?y:c);return m}.call(this),new this.constructor(h)},a.prototype.appendText=function(u){return this.insertTextAtPosition(u,this.getLength())},a.prototype.insertTextAtPosition=function(u,c){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(u.pieceList,c))},a.prototype.removeTextAtRange=function(u){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(u))},a.prototype.replaceTextAtRange=function(u,c){return this.removeTextAtRange(c).insertTextAtPosition(u,c[0])},a.prototype.moveTextFromRangeToPosition=function(u,c){var h,p;if(!(u[0]<=c&&c<=u[1]))return p=this.getTextAtRange(u),h=p.getLength(),u[0]<c&&(c-=h),this.removeTextAtRange(u).insertTextAtPosition(p,c)},a.prototype.addAttributeAtRange=function(u,c,h){var p;return p={},p[u]=c,this.addAttributesAtRange(p,h)},a.prototype.addAttributesAtRange=function(u,c){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(c,function(h){return h.copyWithAdditionalAttributes(u)}))},a.prototype.removeAttributeAtRange=function(u,c){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(c,function(h){return h.copyWithoutAttribute(u)}))},a.prototype.setAttributesAtRange=function(u,c){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(c,function(h){return h.copyWithAttributes(u)}))},a.prototype.getAttributesAtPosition=function(u){var c,h;return(c=(h=this.pieceList.getObjectAtPosition(u))!=null?h.getAttributes():void 0)!=null?c:{}},a.prototype.getCommonAttributes=function(){var u,c;return u=function(){var h,p,d,g;for(d=this.pieceList.toArray(),g=[],h=0,p=d.length;p>h;h++)c=d[h],g.push(c.getAttributes());return g}.call(this),r.Hash.fromCommonAttributesOfObjects(u).toObject()},a.prototype.getCommonAttributesAtRange=function(u){var c;return(c=this.getTextAtRange(u).getCommonAttributes())!=null?c:{}},a.prototype.getExpandedRangeForAttributeAtOffset=function(u,c){var h,p,d;for(h=d=c,p=this.getLength();h>0&&this.getCommonAttributesAtRange([h-1,d])[u];)h--;for(;p>d&&this.getCommonAttributesAtRange([c,d+1])[u];)d++;return[h,d]},a.prototype.getTextAtRange=function(u){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(u))},a.prototype.getStringAtRange=function(u){return this.pieceList.getSplittableListInRange(u).toString()},a.prototype.getStringAtPosition=function(u){return this.getStringAtRange([u,u+1])},a.prototype.startsWithString=function(u){return this.getStringAtRange([0,u.length])===u},a.prototype.endsWithString=function(u){var c;return c=this.getLength(),this.getStringAtRange([c-u.length,c])===u},a.prototype.getAttachmentPieces=function(){var u,c,h,p,d;for(p=this.pieceList.toArray(),d=[],u=0,c=p.length;c>u;u++)h=p[u],h.attachment!=null&&d.push(h);return d},a.prototype.getAttachments=function(){var u,c,h,p,d;for(p=this.getAttachmentPieces(),d=[],u=0,c=p.length;c>u;u++)h=p[u],d.push(h.attachment);return d},a.prototype.getAttachmentAndPositionById=function(u){var c,h,p,d,g,y;for(d=0,g=this.pieceList.toArray(),c=0,h=g.length;h>c;c++){if(p=g[c],((y=p.attachment)!=null?y.id:void 0)===u)return{attachment:p.attachment,position:d};d+=p.length}return{attachment:null,position:null}},a.prototype.getAttachmentById=function(u){var c,h;return h=this.getAttachmentAndPositionById(u),c=h.attachment,h.position,c},a.prototype.getRangeOfAttachment=function(u){var c,h;return h=this.getAttachmentAndPositionById(u.id),u=h.attachment,c=h.position,u!=null?[c,c+1]:void 0},a.prototype.updateAttributesForAttachment=function(u,c){var h;return(h=this.getRangeOfAttachment(c))?this.addAttributesAtRange(u,h):this},a.prototype.getLength=function(){return this.pieceList.getEndPosition()},a.prototype.isEmpty=function(){return this.getLength()===0},a.prototype.isEqualTo=function(u){var c;return a.__super__.isEqualTo.apply(this,arguments)||(u!=null&&(c=u.pieceList)!=null?c.isEqualTo(this.pieceList):void 0)},a.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},a.prototype.eachPiece=function(u){return this.pieceList.eachObject(u)},a.prototype.getPieces=function(){return this.pieceList.toArray()},a.prototype.getPieceAtPosition=function(u){return this.pieceList.getObjectAtPosition(u)},a.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},a.prototype.toSerializableText=function(){var u;return u=this.pieceList.selectSplittableList(function(c){return c.isSerializable()}),this.copyWithPieceList(u)},a.prototype.toString=function(){return this.pieceList.toString()},a.prototype.toJSON=function(){return this.pieceList.toJSON()},a.prototype.toConsole=function(){var u;return JSON.stringify(function(){var c,h,p,d;for(p=this.pieceList.toArray(),d=[],c=0,h=p.length;h>c;c++)u=p[c],d.push(JSON.parse(u.toConsole()));return d}.call(this))},a.prototype.getDirection=function(){return r.getDirection(this.toString())},a.prototype.isRTL=function(){return this.getDirection()==="rtl"},a}(r.Object)}.call(this),function(){var i,o,s,a,u=function(d,g){function y(){this.constructor=d}for(var m in g)c.call(g,m)&&(d[m]=g[m]);return y.prototype=g.prototype,d.prototype=new y,d.__super__=g.prototype,d},c={}.hasOwnProperty,h=[].indexOf||function(d){for(var g=0,y=this.length;y>g;g++)if(g in this&&this[g]===d)return g;return-1},p=[].slice;i=r.arraysAreEqual,a=r.spliceArray,o=r.getBlockConfig,r.getBlockAttributeNames,s=r.getListAttributeNames,r.Block=function(d){function g(S,C){S==null&&(S=new r.Text),C==null&&(C=[]),g.__super__.constructor.apply(this,arguments),this.text=m(S),this.attributes=C}var y,m,_,E,w,v,b,T,I;return u(g,d),g.fromJSON=function(S){var C;return C=r.Text.fromJSON(S.text),new this(C,S.attributes)},g.prototype.isEmpty=function(){return this.text.isBlockBreak()},g.prototype.isEqualTo=function(S){return g.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(S!=null?S.text:void 0)&&i(this.attributes,S!=null?S.attributes:void 0)},g.prototype.copyWithText=function(S){return new this.constructor(S,this.attributes)},g.prototype.copyWithoutText=function(){return this.copyWithText(null)},g.prototype.copyWithAttributes=function(S){return new this.constructor(this.text,S)},g.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},g.prototype.copyUsingObjectMap=function(S){var C;return this.copyWithText((C=S.find(this.text))?C:this.text.copyUsingObjectMap(S))},g.prototype.addAttribute=function(S){var C;return C=this.attributes.concat(E(S)),this.copyWithAttributes(C)},g.prototype.removeAttribute=function(S){var C,D;return D=o(S).listAttribute,C=v(v(this.attributes,S),D),this.copyWithAttributes(C)},g.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},g.prototype.getLastAttribute=function(){return w(this.attributes)},g.prototype.getAttributes=function(){return this.attributes.slice(0)},g.prototype.getAttributeLevel=function(){return this.attributes.length},g.prototype.getAttributeAtLevel=function(S){return this.attributes[S-1]},g.prototype.hasAttribute=function(S){return h.call(this.attributes,S)>=0},g.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},g.prototype.getLastNestableAttribute=function(){return w(this.getNestableAttributes())},g.prototype.getNestableAttributes=function(){var S,C,D,N,P;for(N=this.attributes,P=[],C=0,D=N.length;D>C;C++)S=N[C],o(S).nestable&&P.push(S);return P},g.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},g.prototype.decreaseNestingLevel=function(){var S;return(S=this.getLastNestableAttribute())?this.removeAttribute(S):this},g.prototype.increaseNestingLevel=function(){var S,C,D;return(S=this.getLastNestableAttribute())?(D=this.attributes.lastIndexOf(S),C=a.apply(null,[this.attributes,D+1,0].concat(p.call(E(S)))),this.copyWithAttributes(C)):this},g.prototype.getListItemAttributes=function(){var S,C,D,N,P;for(N=this.attributes,P=[],C=0,D=N.length;D>C;C++)S=N[C],o(S).listAttribute&&P.push(S);return P},g.prototype.isListItem=function(){var S;return(S=o(this.getLastAttribute()))!=null?S.listAttribute:void 0},g.prototype.isTerminalBlock=function(){var S;return(S=o(this.getLastAttribute()))!=null?S.terminal:void 0},g.prototype.breaksOnReturn=function(){var S;return(S=o(this.getLastAttribute()))!=null?S.breakOnReturn:void 0},g.prototype.findLineBreakInDirectionFromPosition=function(S,C){var D,N;return N=this.toString(),D=function(){switch(S){case"forward":return N.indexOf(`
`,C);case"backward":return N.slice(0,C).lastIndexOf(`
`)}}(),D!==-1?D:void 0},g.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},g.prototype.toString=function(){return this.text.toString()},g.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},g.prototype.getDirection=function(){return this.text.getDirection()},g.prototype.isRTL=function(){return this.text.isRTL()},g.prototype.getLength=function(){return this.text.getLength()},g.prototype.canBeConsolidatedWith=function(S){return!this.hasAttributes()&&!S.hasAttributes()&&this.getDirection()===S.getDirection()},g.prototype.consolidateWith=function(S){var C,D;return C=r.Text.textForStringWithAttributes(`
`),D=this.getTextWithoutBlockBreak().appendText(C),this.copyWithText(D.appendText(S.text))},g.prototype.splitAtOffset=function(S){var C,D;return S===0?(C=null,D=this):S===this.getLength()?(C=this,D=null):(C=this.copyWithText(this.text.getTextAtRange([0,S])),D=this.copyWithText(this.text.getTextAtRange([S,this.getLength()]))),[C,D]},g.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},g.prototype.getTextWithoutBlockBreak=function(){return b(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},g.prototype.canBeGrouped=function(S){return this.attributes[S]},g.prototype.canBeGroupedWith=function(S,C){var D,N,P,L;return P=S.getAttributes(),N=P[C],D=this.attributes[C],!(D!==N||o(D).group===!1&&(L=P[C+1],h.call(s(),L)<0)||this.getDirection()!==S.getDirection()&&!S.isEmpty())},m=function(S){return S=I(S),S=y(S)},I=function(S){var C,D,N,P,L,x;return P=!1,x=S.getPieces(),D=2<=x.length?p.call(x,0,C=x.length-1):(C=0,[]),N=x[C++],N==null?S:(D=function(){var M,k,R;for(R=[],M=0,k=D.length;k>M;M++)L=D[M],L.isBlockBreak()?(P=!0,R.push(T(L))):R.push(L);return R}(),P?new r.Text(p.call(D).concat([N])):S)},_=r.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),y=function(S){return b(S)?S:S.appendText(_)},b=function(S){var C,D;return D=S.getLength(),D===0?!1:(C=S.getTextAtRange([D-1,D]),C.isBlockBreak())},T=function(S){return S.copyWithoutAttribute("blockBreak")},E=function(S){var C;return C=o(S).listAttribute,C!=null?[C,S]:[S]},w=function(S){return S.slice(-1)[0]},v=function(S,C){var D;return D=S.lastIndexOf(C),D===-1?S:a(S,D,1)},g}(r.Object)}.call(this),function(){var i,o,s,a=function(p,d){function g(){this.constructor=p}for(var y in d)u.call(d,y)&&(p[y]=d[y]);return g.prototype=d.prototype,p.prototype=new g,p.__super__=d.prototype,p},u={}.hasOwnProperty,c=[].indexOf||function(p){for(var d=0,g=this.length;g>d;d++)if(d in this&&this[d]===p)return d;return-1},h=[].slice;o=r.tagName,s=r.walkTree,i=r.nodeIsAttachmentElement,r.HTMLSanitizer=function(p){function d(E,w){var v;v=w!=null?w:{},this.allowedAttributes=v.allowedAttributes,this.forbiddenProtocols=v.forbiddenProtocols,this.forbiddenElements=v.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=g),this.forbiddenProtocols==null&&(this.forbiddenProtocols=m),this.forbiddenElements==null&&(this.forbiddenElements=y),this.body=_(E)}var g,y,m,_;return a(d,p),g="style href src width height class".split(" "),m="javascript:".split(" "),y="script iframe".split(" "),d.sanitize=function(E,w){var v;return v=new this(E,w),v.sanitize(),v},d.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},d.prototype.getHTML=function(){return this.body.innerHTML},d.prototype.getBody=function(){return this.body},d.prototype.sanitizeElements=function(){var E,w,v,b,T;for(T=s(this.body),b=[];T.nextNode();)switch(v=T.currentNode,v.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(v)?b.push(v):this.sanitizeElement(v);break;case Node.COMMENT_NODE:b.push(v)}for(E=0,w=b.length;w>E;E++)v=b[E],r.removeNode(v);return this.body},d.prototype.sanitizeElement=function(E){var w,v,b,T,I;for(E.hasAttribute("href")&&(T=E.protocol,c.call(this.forbiddenProtocols,T)>=0&&E.removeAttribute("href")),I=h.call(E.attributes),w=0,v=I.length;v>w;w++)b=I[w].name,c.call(this.allowedAttributes,b)>=0||b.indexOf("data-trix")===0||E.removeAttribute(b);return E},d.prototype.normalizeListElementNesting=function(){var E,w,v,b,T;for(T=h.call(this.body.querySelectorAll("ul,ol")),E=0,w=T.length;w>E;E++)v=T[E],(b=v.previousElementSibling)&&o(b)==="li"&&b.appendChild(v);return this.body},d.prototype.elementIsRemovable=function(E){return(E!=null?E.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(E)||this.elementIsntSerializable(E):void 0},d.prototype.elementIsForbidden=function(E){var w;return w=o(E),c.call(this.forbiddenElements,w)>=0},d.prototype.elementIsntSerializable=function(E){return E.getAttribute("data-trix-serialize")==="false"&&!i(E)},_=function(E){var w,v,b,T,I;for(E==null&&(E=""),E=E.replace(/<\/html[^>]*>[^]*$/i,"</html>"),w=document.implementation.createHTMLDocument(""),w.documentElement.innerHTML=E,I=w.head.querySelectorAll("style"),b=0,T=I.length;T>b;b++)v=I[b],w.body.appendChild(v);return w.body},d}(r.BasicObject)}.call(this),function(){var i,o,s,a,u,c,h,p,d,g,y,m=function(w,v){function b(){this.constructor=w}for(var T in v)_.call(v,T)&&(w[T]=v[T]);return b.prototype=v.prototype,w.prototype=new b,w.__super__=v.prototype,w},_={}.hasOwnProperty,E=[].indexOf||function(w){for(var v=0,b=this.length;b>v;v++)if(v in this&&this[v]===w)return v;return-1};i=r.arraysAreEqual,c=r.makeElement,g=r.tagName,u=r.getBlockTagNames,y=r.walkTree,a=r.findClosestElementFromNode,s=r.elementContainsNode,h=r.nodeIsAttachmentElement,p=r.normalizeSpaces,o=r.breakableWhitespacePattern,d=r.squishBreakableWhitespace,r.HTMLParser=function(w){function v(R,B){this.html=R,this.referenceElement=(B!=null?B:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var b,T,I,S,C,D,N,P,L,x,M,k;return m(v,w),v.parse=function(R,B){var $;return $=new this(R,B),$.parse(),$},v.prototype.getDocument=function(){return r.Document.fromJSON(this.blocks)},v.prototype.parse=function(){var R,B;try{for(this.createHiddenContainer(),R=r.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=R,B=y(this.containerElement,{usingFilter:N});B.nextNode();)this.processNode(B.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},v.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=c({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},v.prototype.removeHiddenContainer=function(){return r.removeNode(this.containerElement)},N=function(R){return g(R)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},v.prototype.processNode=function(R){switch(R.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(R))return this.appendBlockForTextNode(R),this.processTextNode(R);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(R),this.processElement(R)}},v.prototype.appendBlockForTextNode=function(R){var B,$,H;return $=R.parentNode,$===this.currentBlockElement&&this.isBlockElement(R.previousSibling)?this.appendStringWithAttributes(`
`):$!==this.containerElement&&!this.isBlockElement($)||(B=this.getBlockAttributes($),i(B,(H=this.currentBlock)!=null?H.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(B,$),this.currentBlockElement=$)},v.prototype.appendBlockForElement=function(R){var B,$,H,j;if(H=this.isBlockElement(R),$=s(this.currentBlockElement,R),H&&!this.isBlockElement(R.firstChild)){if((!this.isInsignificantTextNode(R.firstChild)||!this.isBlockElement(R.firstElementChild))&&(B=this.getBlockAttributes(R),R.firstChild))return $&&i(B,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(B,R),this.currentBlockElement=R)}else if(this.currentBlockElement&&!$&&!H)return(j=this.findParentBlockElement(R))?this.appendBlockForElement(j):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},v.prototype.findParentBlockElement=function(R){var B;for(B=R.parentElement;B&&B!==this.containerElement;){if(this.isBlockElement(B)&&E.call(this.blockElements,B)>=0)return B;B=B.parentElement}return null},v.prototype.processTextNode=function(R){var B,$;return $=R.data,T(R.parentNode)||($=d($),M((B=R.previousSibling)!=null?B.textContent:void 0)&&($=C($))),this.appendStringWithAttributes($,this.getTextAttributes(R.parentNode))},v.prototype.processElement=function(R){var B,$,H,j,X;if(h(R))return B=P(R,"attachment"),Object.keys(B).length&&(j=this.getTextAttributes(R),this.appendAttachmentWithAttributes(B,j),R.innerHTML=""),this.processedElements.push(R);switch(g(R)){case"br":return this.isExtraBR(R)||this.isBlockElement(R.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(R)),this.processedElements.push(R);case"img":B={url:R.getAttribute("src"),contentType:"image"},H=S(R);for($ in H)X=H[$],B[$]=X;return this.appendAttachmentWithAttributes(B,this.getTextAttributes(R)),this.processedElements.push(R);case"tr":if(R.parentNode.firstChild!==R)return this.appendStringWithAttributes(`
`);break;case"td":if(R.parentNode.firstChild!==R)return this.appendStringWithAttributes(" | ")}},v.prototype.appendBlockForAttributesWithElement=function(R,B){var $;return this.blockElements.push(B),$=b(R),this.blocks.push($),$},v.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},v.prototype.appendStringWithAttributes=function(R,B){return this.appendPiece(x(R,B))},v.prototype.appendAttachmentWithAttributes=function(R,B){return this.appendPiece(L(R,B))},v.prototype.appendPiece=function(R){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(R)},v.prototype.appendStringToTextAtIndex=function(R,B){var $,H;return H=this.blocks[B].text,$=H[H.length-1],($!=null?$.type:void 0)==="string"?$.string+=R:H.push(x(R))},v.prototype.prependStringToTextAtIndex=function(R,B){var $,H;return H=this.blocks[B].text,$=H[0],($!=null?$.type:void 0)==="string"?$.string=R+$.string:H.unshift(x(R))},x=function(R,B){var $;return B==null&&(B={}),$="string",R=p(R),{string:R,attributes:B,type:$}},L=function(R,B){var $;return B==null&&(B={}),$="attachment",{attachment:R,attributes:B,type:$}},b=function(R){var B;return R==null&&(R={}),B=[],{text:B,attributes:R}},v.prototype.getTextAttributes=function(R){var B,$,H,j,X,ft,at,ht,vt,ct,bt,wt;H={},vt=r.config.textAttributes;for(B in vt)if(X=vt[B],X.tagName&&a(R,{matchingSelector:X.tagName,untilNode:this.containerElement}))H[B]=!0;else if(X.parser){if(wt=X.parser(R)){for($=!1,ct=this.findBlockElementAncestors(R),ft=0,ht=ct.length;ht>ft;ft++)if(j=ct[ft],X.parser(j)===wt){$=!0;break}$||(H[B]=wt)}}else X.styleProperty&&(wt=R.style[X.styleProperty])&&(H[B]=wt);if(h(R)){bt=P(R,"attributes");for(at in bt)wt=bt[at],H[at]=wt}return H},v.prototype.getBlockAttributes=function(R){var B,$,H,j;for($=[];R&&R!==this.containerElement;){j=r.config.blockAttributes;for(B in j)H=j[B],H.parse!==!1&&g(R)===H.tagName&&((typeof H.test=="function"?H.test(R):void 0)||!H.test)&&($.push(B),H.listAttribute&&$.push(H.listAttribute));R=R.parentNode}return $.reverse()},v.prototype.findBlockElementAncestors=function(R){var B,$;for(B=[];R&&R!==this.containerElement;)$=g(R),E.call(u(),$)>=0&&B.push(R),R=R.parentNode;return B},P=function(R,B){try{return JSON.parse(R.getAttribute("data-trix-"+B))}catch{return{}}},S=function(R){var B,$,H;return H=R.getAttribute("width"),$=R.getAttribute("height"),B={},H&&(B.width=parseInt(H,10)),$&&(B.height=parseInt($,10)),B},v.prototype.isBlockElement=function(R){var B;if((R!=null?R.nodeType:void 0)===Node.ELEMENT_NODE&&!h(R)&&!a(R,{matchingSelector:"td",untilNode:this.containerElement}))return B=g(R),E.call(u(),B)>=0||window.getComputedStyle(R).display==="block"},v.prototype.isInsignificantTextNode=function(R){var B,$,H;if((R!=null?R.nodeType:void 0)===Node.TEXT_NODE&&k(R.data)&&($=R.parentNode,H=R.previousSibling,B=R.nextSibling,(!D($.previousSibling)||this.isBlockElement($.previousSibling))&&!T($)))return!H||this.isBlockElement(H)||!B||this.isBlockElement(B)},v.prototype.isExtraBR=function(R){return g(R)==="br"&&this.isBlockElement(R.parentNode)&&R.parentNode.lastChild===R},T=function(R){var B;return B=window.getComputedStyle(R).whiteSpace,B==="pre"||B==="pre-wrap"||B==="pre-line"},D=function(R){return R&&!M(R.textContent)},v.prototype.translateBlockElementMarginsToNewlines=function(){var R,B,$,H,j,X,ft;for(R=this.getMarginOfDefaultBlockElement(),X=this.blocks,ft=[],$=B=0,H=X.length;H>B;$=++B)X[$],(j=this.getMarginOfBlockElementAtIndex($))&&(j.top>2*R.top&&this.prependStringToTextAtIndex(`
`,$),ft.push(j.bottom>2*R.bottom?this.appendStringToTextAtIndex(`
`,$):void 0));return ft},v.prototype.getMarginOfBlockElementAtIndex=function(R){var B,$;return!(B=this.blockElements[R])||!B.textContent||($=g(B),E.call(u(),$)>=0||E.call(this.processedElements,B)>=0)?void 0:I(B)},v.prototype.getMarginOfDefaultBlockElement=function(){var R;return R=c(r.config.blockAttributes.default.tagName),this.containerElement.appendChild(R),I(R)},I=function(R){var B;return B=window.getComputedStyle(R),B.display==="block"?{top:parseInt(B.marginTop),bottom:parseInt(B.marginBottom)}:void 0},C=function(R){return R.replace(RegExp("^"+o.source+"+"),"")},k=function(R){return RegExp("^"+o.source+"*$").test(R)},M=function(R){return/\s$/.test(R)},v}(r.BasicObject)}.call(this),function(){var i,o,s,a,u=function(d,g){function y(){this.constructor=d}for(var m in g)c.call(g,m)&&(d[m]=g[m]);return y.prototype=g.prototype,d.prototype=new y,d.__super__=g.prototype,d},c={}.hasOwnProperty,h=[].slice,p=[].indexOf||function(d){for(var g=0,y=this.length;y>g;g++)if(g in this&&this[g]===d)return g;return-1};i=r.arraysAreEqual,s=r.normalizeRange,a=r.rangeIsCollapsed,o=r.getBlockConfig,r.Document=function(d){function g(m){m==null&&(m=[]),g.__super__.constructor.apply(this,arguments),m.length===0&&(m=[new r.Block]),this.blockList=r.SplittableList.box(m)}var y;return u(g,d),g.fromJSON=function(m){var _,E;return E=function(){var w,v,b;for(b=[],w=0,v=m.length;v>w;w++)_=m[w],b.push(r.Block.fromJSON(_));return b}(),new this(E)},g.fromHTML=function(m,_){return r.HTMLParser.parse(m,_).getDocument()},g.fromString=function(m,_){var E;return E=r.Text.textForStringWithAttributes(m,_),new this([new r.Block(E)])},g.prototype.isEmpty=function(){var m;return this.blockList.length===1&&(m=this.getBlockAtIndex(0),m.isEmpty()&&!m.hasAttributes())},g.prototype.copy=function(m){var _;return m==null&&(m={}),_=m.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(_)},g.prototype.copyUsingObjectsFromDocument=function(m){var _;return _=new r.ObjectMap(m.getObjects()),this.copyUsingObjectMap(_)},g.prototype.copyUsingObjectMap=function(m){var _,E,w;return E=function(){var v,b,T,I;for(T=this.getBlocks(),I=[],v=0,b=T.length;b>v;v++)_=T[v],I.push((w=m.find(_))?w:_.copyUsingObjectMap(m));return I}.call(this),new this.constructor(E)},g.prototype.copyWithBaseBlockAttributes=function(m){var _,E,w;return m==null&&(m=[]),w=function(){var v,b,T,I;for(T=this.getBlocks(),I=[],v=0,b=T.length;b>v;v++)E=T[v],_=m.concat(E.getAttributes()),I.push(E.copyWithAttributes(_));return I}.call(this),new this.constructor(w)},g.prototype.replaceBlock=function(m,_){var E;return E=this.blockList.indexOf(m),E===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(_,E))},g.prototype.insertDocumentAtRange=function(m,_){var E,w,v,b,T,I,S;return w=m.blockList,T=(_=s(_))[0],I=this.locationFromPosition(T),v=I.index,b=I.offset,S=this,E=this.getBlockAtPosition(T),a(_)&&E.isEmpty()&&!E.hasAttributes()?S=new this.constructor(S.blockList.removeObjectAtIndex(v)):E.getBlockBreakPosition()===b&&T++,S=S.removeTextAtRange(_),new this.constructor(S.blockList.insertSplittableListAtPosition(w,T))},g.prototype.mergeDocumentAtRange=function(m,_){var E,w,v,b,T,I,S,C,D,N,P,L;return P=(_=s(_))[0],N=this.locationFromPosition(P),w=this.getBlockAtIndex(N.index).getAttributes(),E=m.getBaseBlockAttributes(),L=w.slice(-E.length),i(E,L)?(S=w.slice(0,-E.length),I=m.copyWithBaseBlockAttributes(S)):I=m.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(w),v=I.getBlockCount(),b=I.getBlockAtIndex(0),i(w,b.getAttributes())?(T=b.getTextWithoutBlockBreak(),D=this.insertTextAtRange(T,_),v>1&&(I=new this.constructor(I.getBlocks().slice(1)),C=P+T.getLength(),D=D.insertDocumentAtRange(I,C))):D=this.insertDocumentAtRange(I,_),D},g.prototype.insertTextAtRange=function(m,_){var E,w,v,b,T;return T=(_=s(_))[0],b=this.locationFromPosition(T),w=b.index,v=b.offset,E=this.removeTextAtRange(_),new this.constructor(E.blockList.editObjectAtIndex(w,function(I){return I.copyWithText(I.text.insertTextAtPosition(m,v))}))},g.prototype.removeTextAtRange=function(m){var _,E,w,v,b,T,I,S,C,D,N,P,L,x,M,k,R,B,$,H,j;return D=m=s(m),S=D[0],B=D[1],a(m)?this:(N=this.locationRangeFromRange(m),T=N[0],k=N[1],b=T.index,I=T.offset,v=this.getBlockAtIndex(b),M=k.index,R=k.offset,x=this.getBlockAtIndex(M),P=B-S===1&&v.getBlockBreakPosition()===I&&x.getBlockBreakPosition()!==R&&x.text.getStringAtPosition(R)===`
`,P?w=this.blockList.editObjectAtIndex(M,function(X){return X.copyWithText(X.text.removeTextAtRange([R,R+1]))}):(C=v.text.getTextAtRange([0,I]),$=x.text.getTextAtRange([R,x.getLength()]),H=C.appendText($),L=b!==M&&I===0,j=L&&v.getAttributeLevel()>=x.getAttributeLevel(),E=j?x.copyWithText(H):v.copyWithText(H),_=M+1-b,w=this.blockList.splice(b,_,E)),new this.constructor(w))},g.prototype.moveTextFromRangeToPosition=function(m,_){var E,w,v,b,T,I,S,C,D,N;return I=m=s(m),D=I[0],v=I[1],_>=D&&v>=_?this:(w=this.getDocumentAtRange(m),C=this.removeTextAtRange(m),T=_>D,T&&(_-=w.getLength()),S=w.getBlocks(),b=S[0],E=2<=S.length?h.call(S,1):[],E.length===0?(N=b.getTextWithoutBlockBreak(),T&&(_+=1)):N=b.text,C=C.insertTextAtRange(N,_),E.length===0?C:(w=new this.constructor(E),_+=N.getLength(),C.insertDocumentAtRange(w,_)))},g.prototype.addAttributeAtRange=function(m,_,E){var w;return w=this.blockList,this.eachBlockAtRange(E,function(v,b,T){return w=w.editObjectAtIndex(T,function(){return o(m)?v.addAttribute(m,_):b[0]===b[1]?v:v.copyWithText(v.text.addAttributeAtRange(m,_,b))})}),new this.constructor(w)},g.prototype.addAttribute=function(m,_){var E;return E=this.blockList,this.eachBlock(function(w,v){return E=E.editObjectAtIndex(v,function(){return w.addAttribute(m,_)})}),new this.constructor(E)},g.prototype.removeAttributeAtRange=function(m,_){var E;return E=this.blockList,this.eachBlockAtRange(_,function(w,v,b){return o(m)?E=E.editObjectAtIndex(b,function(){return w.removeAttribute(m)}):v[0]!==v[1]?E=E.editObjectAtIndex(b,function(){return w.copyWithText(w.text.removeAttributeAtRange(m,v))}):void 0}),new this.constructor(E)},g.prototype.updateAttributesForAttachment=function(m,_){var E,w,v;return w=this.getRangeOfAttachment(_)[0],E=this.locationFromPosition(w).index,v=this.getTextAtIndex(E),new this.constructor(this.blockList.editObjectAtIndex(E,function(b){return b.copyWithText(v.updateAttributesForAttachment(m,_))}))},g.prototype.removeAttributeForAttachment=function(m,_){var E;return E=this.getRangeOfAttachment(_),this.removeAttributeAtRange(m,E)},g.prototype.insertBlockBreakAtRange=function(m){var _,E,w,v;return v=(m=s(m))[0],w=this.locationFromPosition(v).offset,E=this.removeTextAtRange(m),w===0&&(_=[new r.Block]),new this.constructor(E.blockList.insertSplittableListAtPosition(new r.SplittableList(_),v))},g.prototype.applyBlockAttributeAtRange=function(m,_,E){var w,v,b,T;return b=this.expandRangeToLineBreaksAndSplitBlocks(E),v=b.document,E=b.range,w=o(m),w.listAttribute?(v=v.removeLastListAttributeAtRange(E,{exceptAttributeName:m}),T=v.convertLineBreaksToBlockBreaksInRange(E),v=T.document,E=T.range):v=w.exclusive?v.removeBlockAttributesAtRange(E):w.terminal?v.removeLastTerminalAttributeAtRange(E):v.consolidateBlocksAtRange(E),v.addAttributeAtRange(m,_,E)},g.prototype.removeLastListAttributeAtRange=function(m,_){var E;return _==null&&(_={}),E=this.blockList,this.eachBlockAtRange(m,function(w,v,b){var T;if((T=w.getLastAttribute())&&o(T).listAttribute&&T!==_.exceptAttributeName)return E=E.editObjectAtIndex(b,function(){return w.removeAttribute(T)})}),new this.constructor(E)},g.prototype.removeLastTerminalAttributeAtRange=function(m){var _;return _=this.blockList,this.eachBlockAtRange(m,function(E,w,v){var b;if((b=E.getLastAttribute())&&o(b).terminal)return _=_.editObjectAtIndex(v,function(){return E.removeAttribute(b)})}),new this.constructor(_)},g.prototype.removeBlockAttributesAtRange=function(m){var _;return _=this.blockList,this.eachBlockAtRange(m,function(E,w,v){return E.hasAttributes()?_=_.editObjectAtIndex(v,function(){return E.copyWithoutAttributes()}):void 0}),new this.constructor(_)},g.prototype.expandRangeToLineBreaksAndSplitBlocks=function(m){var _,E,w,v,b,T,I,S,C;return T=m=s(m),C=T[0],v=T[1],S=this.locationFromPosition(C),w=this.locationFromPosition(v),_=this,I=_.getBlockAtIndex(S.index),(S.offset=I.findLineBreakInDirectionFromPosition("backward",S.offset))!=null&&(b=_.positionFromLocation(S),_=_.insertBlockBreakAtRange([b,b+1]),w.index+=1,w.offset-=_.getBlockAtIndex(S.index).getLength(),S.index+=1),S.offset=0,w.offset===0&&w.index>S.index?(w.index-=1,w.offset=_.getBlockAtIndex(w.index).getBlockBreakPosition()):(E=_.getBlockAtIndex(w.index),E.text.getStringAtRange([w.offset-1,w.offset])===`
`?w.offset-=1:w.offset=E.findLineBreakInDirectionFromPosition("forward",w.offset),w.offset!==E.getBlockBreakPosition()&&(b=_.positionFromLocation(w),_=_.insertBlockBreakAtRange([b,b+1]))),C=_.positionFromLocation(S),v=_.positionFromLocation(w),m=s([C,v]),{document:_,range:m}},g.prototype.convertLineBreaksToBlockBreaksInRange=function(m){var _,E,w;return E=(m=s(m))[0],w=this.getStringAtRange(m).slice(0,-1),_=this,w.replace(/.*?\n/g,function(v){return E+=v.length,_=_.insertBlockBreakAtRange([E-1,E])}),{document:_,range:m}},g.prototype.consolidateBlocksAtRange=function(m){var _,E,w,v,b;return w=m=s(m),b=w[0],E=w[1],v=this.locationFromPosition(b).index,_=this.locationFromPosition(E).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(v,_))},g.prototype.getDocumentAtRange=function(m){var _;return m=s(m),_=this.blockList.getSplittableListInRange(m).toArray(),new this.constructor(_)},g.prototype.getStringAtRange=function(m){var _,E,w;return w=m=s(m),E=w[w.length-1],E!==this.getLength()&&(_=-1),this.getDocumentAtRange(m).toString().slice(0,_)},g.prototype.getBlockAtIndex=function(m){return this.blockList.getObjectAtIndex(m)},g.prototype.getBlockAtPosition=function(m){var _;return _=this.locationFromPosition(m).index,this.getBlockAtIndex(_)},g.prototype.getTextAtIndex=function(m){var _;return(_=this.getBlockAtIndex(m))!=null?_.text:void 0},g.prototype.getTextAtPosition=function(m){var _;return _=this.locationFromPosition(m).index,this.getTextAtIndex(_)},g.prototype.getPieceAtPosition=function(m){var _,E,w;return w=this.locationFromPosition(m),_=w.index,E=w.offset,this.getTextAtIndex(_).getPieceAtPosition(E)},g.prototype.getCharacterAtPosition=function(m){var _,E,w;return w=this.locationFromPosition(m),_=w.index,E=w.offset,this.getTextAtIndex(_).getStringAtRange([E,E+1])},g.prototype.getLength=function(){return this.blockList.getEndPosition()},g.prototype.getBlocks=function(){return this.blockList.toArray()},g.prototype.getBlockCount=function(){return this.blockList.length},g.prototype.getEditCount=function(){return this.editCount},g.prototype.eachBlock=function(m){return this.blockList.eachObject(m)},g.prototype.eachBlockAtRange=function(m,_){var E,w,v,b,T,I,S,C,D,N,P,L;if(I=m=s(m),P=I[0],v=I[1],N=this.locationFromPosition(P),w=this.locationFromPosition(v),N.index===w.index)return E=this.getBlockAtIndex(N.index),L=[N.offset,w.offset],_(E,L,N.index);for(D=[],T=b=S=N.index,C=w.index;C>=S?C>=b:b>=C;T=C>=S?++b:--b)(E=this.getBlockAtIndex(T))?(L=function(){switch(T){case N.index:return[N.offset,E.text.getLength()];case w.index:return[0,w.offset];default:return[0,E.text.getLength()]}}(),D.push(_(E,L,T))):D.push(void 0);return D},g.prototype.getCommonAttributesAtRange=function(m){var _,E,w;return E=(m=s(m))[0],a(m)?this.getCommonAttributesAtPosition(E):(w=[],_=[],this.eachBlockAtRange(m,function(v,b){return b[0]!==b[1]?(w.push(v.text.getCommonAttributesAtRange(b)),_.push(y(v))):void 0}),r.Hash.fromCommonAttributesOfObjects(w).merge(r.Hash.fromCommonAttributesOfObjects(_)).toObject())},g.prototype.getCommonAttributesAtPosition=function(m){var _,E,w,v,b,T,I,S,C,D;if(C=this.locationFromPosition(m),b=C.index,S=C.offset,w=this.getBlockAtIndex(b),!w)return{};v=y(w),_=w.text.getAttributesAtPosition(S),E=w.text.getAttributesAtPosition(S-1),T=function(){var N,P;N=r.config.textAttributes,P=[];for(I in N)D=N[I],D.inheritable&&P.push(I);return P}();for(I in E)D=E[I],(D===_[I]||p.call(T,I)>=0)&&(v[I]=D);return v},g.prototype.getRangeOfCommonAttributeAtPosition=function(m,_){var E,w,v,b,T,I,S,C,D;return T=this.locationFromPosition(_),v=T.index,b=T.offset,D=this.getTextAtIndex(v),I=D.getExpandedRangeForAttributeAtOffset(m,b),C=I[0],w=I[1],S=this.positionFromLocation({index:v,offset:C}),E=this.positionFromLocation({index:v,offset:w}),s([S,E])},g.prototype.getBaseBlockAttributes=function(){var m,_,E,w,v,b,T;for(m=this.getBlockAtIndex(0).getAttributes(),E=w=1,T=this.getBlockCount();T>=1?T>w:w>T;E=T>=1?++w:--w)_=this.getBlockAtIndex(E).getAttributes(),b=Math.min(m.length,_.length),m=function(){var I,S,C;for(C=[],v=I=0,S=b;(S>=0?S>I:I>S)&&_[v]===m[v];v=S>=0?++I:--I)C.push(_[v]);return C}();return m},y=function(m){var _,E;return E={},(_=m.getLastAttribute())&&(E[_]=!0),E},g.prototype.getAttachmentById=function(m){var _,E,w,v;for(v=this.getAttachments(),E=0,w=v.length;w>E;E++)if(_=v[E],_.id===m)return _},g.prototype.getAttachmentPieces=function(){var m;return m=[],this.blockList.eachObject(function(_){var E;return E=_.text,m=m.concat(E.getAttachmentPieces())}),m},g.prototype.getAttachments=function(){var m,_,E,w,v;for(w=this.getAttachmentPieces(),v=[],m=0,_=w.length;_>m;m++)E=w[m],v.push(E.attachment);return v},g.prototype.getRangeOfAttachment=function(m){var _,E,w,v,b,T,I;for(v=0,b=this.blockList.toArray(),E=_=0,w=b.length;w>_;E=++_){if(T=b[E].text,I=T.getRangeOfAttachment(m))return s([v+I[0],v+I[1]]);v+=T.getLength()}},g.prototype.getLocationRangeOfAttachment=function(m){var _;return _=this.getRangeOfAttachment(m),this.locationRangeFromRange(_)},g.prototype.getAttachmentPieceForAttachment=function(m){var _,E,w,v;for(v=this.getAttachmentPieces(),_=0,E=v.length;E>_;_++)if(w=v[_],w.attachment===m)return w},g.prototype.findRangesForBlockAttribute=function(m){var _,E,w,v,b,T,I;for(b=0,T=[],I=this.getBlocks(),E=0,w=I.length;w>E;E++)_=I[E],v=_.getLength(),_.hasAttribute(m)&&T.push([b,b+v]),b+=v;return T},g.prototype.findRangesForTextAttribute=function(m,_){var E,w,v,b,T,I,S,C,D,N;for(N=(_!=null?_:{}).withValue,I=0,S=[],C=[],b=function(P){return N!=null?P.getAttribute(m)===N:P.hasAttribute(m)},D=this.getPieces(),E=0,w=D.length;w>E;E++)T=D[E],v=T.getLength(),b(T)&&(S[1]===I?S[1]=I+v:C.push(S=[I,I+v])),I+=v;return C},g.prototype.locationFromPosition=function(m){var _,E;return E=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,m)),E.index!=null?E:(_=this.getBlocks(),{index:_.length-1,offset:_[_.length-1].getLength()})},g.prototype.positionFromLocation=function(m){return this.blockList.findPositionAtIndexAndOffset(m.index,m.offset)},g.prototype.locationRangeFromPosition=function(m){return s(this.locationFromPosition(m))},g.prototype.locationRangeFromRange=function(m){var _,E,w,v;if(m=s(m))return v=m[0],E=m[1],w=this.locationFromPosition(v),_=this.locationFromPosition(E),s([w,_])},g.prototype.rangeFromLocationRange=function(m){var _,E;return m=s(m),_=this.positionFromLocation(m[0]),a(m)||(E=this.positionFromLocation(m[1])),s([_,E])},g.prototype.isEqualTo=function(m){return this.blockList.isEqualTo(m!=null?m.blockList:void 0)},g.prototype.getTexts=function(){var m,_,E,w,v;for(w=this.getBlocks(),v=[],_=0,E=w.length;E>_;_++)m=w[_],v.push(m.text);return v},g.prototype.getPieces=function(){var m,_,E,w,v;for(E=[],w=this.getTexts(),m=0,_=w.length;_>m;m++)v=w[m],E.push.apply(E,v.getPieces());return E},g.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},g.prototype.toSerializableDocument=function(){var m;return m=[],this.blockList.eachObject(function(_){return m.push(_.copyWithText(_.text.toSerializableText()))}),new this.constructor(m)},g.prototype.toString=function(){return this.blockList.toString()},g.prototype.toJSON=function(){return this.blockList.toJSON()},g.prototype.toConsole=function(){var m;return JSON.stringify(function(){var _,E,w,v;for(w=this.blockList.toArray(),v=[],_=0,E=w.length;E>_;_++)m=w[_],v.push(JSON.parse(m.text.toConsole()));return v}.call(this))},g}(r.Object)}.call(this),function(){r.LineBreakInsertion=function(){function i(o){var s;this.composition=o,this.document=this.composition.document,s=this.composition.getSelectedRange(),this.startPosition=s[0],this.endPosition=s[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return i.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},i.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},i.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},i.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},i.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},i}()}.call(this),function(){var i,o,s,a,u,c,h,p,d,g,y=function(_,E){function w(){this.constructor=_}for(var v in E)m.call(E,v)&&(_[v]=E[v]);return w.prototype=E.prototype,_.prototype=new w,_.__super__=E.prototype,_},m={}.hasOwnProperty;c=r.normalizeRange,d=r.rangesAreEqual,p=r.rangeIsCollapsed,h=r.objectsAreEqual,i=r.arrayStartsWith,g=r.summarizeArrayChange,s=r.getAllAttributeNames,a=r.getBlockConfig,u=r.getTextConfig,o=r.extend,r.Composition=function(_){function E(){this.document=new r.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var w;return y(E,_),E.prototype.setDocument=function(v){var b;return v.isEqualTo(this.document)?void 0:(this.document=v,this.refreshAttachments(),this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidChangeDocument=="function"?b.compositionDidChangeDocument(v):void 0)},E.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},E.prototype.loadSnapshot=function(v){var b,T,I,S;return b=v.document,S=v.selectedRange,(T=this.delegate)!=null&&typeof T.compositionWillLoadSnapshot=="function"&&T.compositionWillLoadSnapshot(),this.setDocument(b!=null?b:new r.Document),this.setSelection(S!=null?S:[0,0]),(I=this.delegate)!=null&&typeof I.compositionDidLoadSnapshot=="function"?I.compositionDidLoadSnapshot():void 0},E.prototype.insertText=function(v,b){var T,I,S,C;return C=(b!=null?b:{updatePosition:!0}).updatePosition,I=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(v,I)),S=I[0],T=S+v.getLength(),C&&this.setSelection(T),this.notifyDelegateOfInsertionAtRange([S,T])},E.prototype.insertBlock=function(v){var b;return v==null&&(v=new r.Block),b=new r.Document([v]),this.insertDocument(b)},E.prototype.insertDocument=function(v){var b,T,I;return v==null&&(v=new r.Document),T=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(v,T)),I=T[0],b=I+v.getLength(),this.setSelection(b),this.notifyDelegateOfInsertionAtRange([I,b])},E.prototype.insertString=function(v,b){var T,I;return T=this.getCurrentTextAttributes(),I=r.Text.textForStringWithAttributes(v,T),this.insertText(I,b)},E.prototype.insertBlockBreak=function(){var v,b,T;return b=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(b)),T=b[0],v=T+1,this.setSelection(v),this.notifyDelegateOfInsertionAtRange([T,v])},E.prototype.insertLineBreak=function(){var v,b;return b=new r.LineBreakInsertion(this),b.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(b.startPosition)):b.shouldPrependListItem()?(v=new r.Document([b.block.copyWithoutText()]),this.insertDocument(v)):b.shouldInsertBlockBreak()?this.insertBlockBreak():b.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():b.shouldBreakFormattedBlock()?this.breakFormattedBlock(b):this.insertString(`
`)},E.prototype.insertHTML=function(v){var b,T,I,S;return b=r.Document.fromHTML(v),I=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(b,I)),S=I[0],T=S+b.getLength()-1,this.setSelection(T),this.notifyDelegateOfInsertionAtRange([S,T])},E.prototype.replaceHTML=function(v){var b,T,I;return b=r.Document.fromHTML(v).copyUsingObjectsFromDocument(this.document),T=this.getLocationRange({strict:!1}),I=this.document.rangeFromLocationRange(T),this.setDocument(b),this.setSelection(I)},E.prototype.insertFile=function(v){return this.insertFiles([v])},E.prototype.insertFiles=function(v){var b,T,I,S,C,D;for(T=[],S=0,C=v.length;C>S;S++)I=v[S],(D=this.delegate)!=null&&D.compositionShouldAcceptFile(I)&&(b=r.Attachment.attachmentForFile(I),T.push(b));return this.insertAttachments(T)},E.prototype.insertAttachment=function(v){return this.insertAttachments([v])},E.prototype.insertAttachments=function(v){var b,T,I,S,C,D,N,P,L;for(P=new r.Text,S=0,C=v.length;C>S;S++)b=v[S],L=b.getType(),D=(N=r.config.attachments[L])!=null?N.presentation:void 0,I=this.getCurrentTextAttributes(),D&&(I.presentation=D),T=r.Text.textForAttachmentWithAttributes(b,I),P=P.appendText(T);return this.insertText(P)},E.prototype.shouldManageDeletingInDirection=function(v){var b;if(b=this.getLocationRange(),p(b)){if(v==="backward"&&b[0].offset===0||this.shouldManageMovingCursorInDirection(v))return!0}else if(b[0].index!==b[1].index)return!0;return!1},E.prototype.deleteInDirection=function(v,b){var T,I,S,C,D,N,P,L;return C=(b!=null?b:{}).length,D=this.getLocationRange(),N=this.getSelectedRange(),P=p(N),P?S=v==="backward"&&D[0].offset===0:L=D[0].index!==D[1].index,S&&this.canDecreaseBlockAttributeLevel()&&(I=this.getBlock(),I.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(N[0]),I.isEmpty())?!1:(P&&(N=this.getExpandedRangeInDirection(v,{length:C}),v==="backward"&&(T=this.getAttachmentAtRange(N))),T?(this.editAttachment(T),!1):(this.setDocument(this.document.removeTextAtRange(N)),this.setSelection(N[0]),S||L?!1:void 0))},E.prototype.moveTextFromRange=function(v){var b;return b=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(v,b)),this.setSelection(b)},E.prototype.removeAttachment=function(v){var b;return(b=this.document.getRangeOfAttachment(v))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(b)),this.setSelection(b[0])):void 0},E.prototype.removeLastBlockAttribute=function(){var v,b,T,I;return T=this.getSelectedRange(),I=T[0],b=T[1],v=this.document.getBlockAtPosition(b),this.removeCurrentAttribute(v.getLastAttribute()),this.setSelection(I)},w=" ",E.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(w)},E.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+w.length]),this.getSelectedRange()):void 0},E.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},E.prototype.hasCurrentAttribute=function(v){var b;return b=this.currentAttributes[v],b!=null&&b!==!1},E.prototype.toggleCurrentAttribute=function(v){var b;return(b=!this.currentAttributes[v])?this.setCurrentAttribute(v,b):this.removeCurrentAttribute(v)},E.prototype.canSetCurrentAttribute=function(v){return a(v)?this.canSetCurrentBlockAttribute(v):this.canSetCurrentTextAttribute(v)},E.prototype.canSetCurrentTextAttribute=function(){var v,b,T,I,S;if(b=this.getSelectedDocument()){for(S=b.getAttachments(),T=0,I=S.length;I>T;T++)if(v=S[T],!v.hasContent())return!1;return!0}},E.prototype.canSetCurrentBlockAttribute=function(){var v;if(v=this.getBlock())return!v.isTerminalBlock()},E.prototype.setCurrentAttribute=function(v,b){return a(v)?this.setBlockAttribute(v,b):(this.setTextAttribute(v,b),this.currentAttributes[v]=b,this.notifyDelegateOfCurrentAttributesChange())},E.prototype.setTextAttribute=function(v,b){var T,I,S,C;if(I=this.getSelectedRange())return S=I[0],T=I[1],S!==T?this.setDocument(this.document.addAttributeAtRange(v,b,I)):v==="href"?(C=r.Text.textForStringWithAttributes(b,{href:b}),this.insertText(C)):void 0},E.prototype.setBlockAttribute=function(v,b){var T;if(T=this.getSelectedRange())return this.canSetCurrentAttribute(v)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(v,b,T)),this.setSelection(T)):void 0},E.prototype.removeCurrentAttribute=function(v){return a(v)?(this.removeBlockAttribute(v),this.updateCurrentAttributes()):(this.removeTextAttribute(v),delete this.currentAttributes[v],this.notifyDelegateOfCurrentAttributesChange())},E.prototype.removeTextAttribute=function(v){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(v,b))},E.prototype.removeBlockAttribute=function(v){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(v,b))},E.prototype.canDecreaseNestingLevel=function(){var v;return((v=this.getBlock())!=null?v.getNestingLevel():void 0)>0},E.prototype.canIncreaseNestingLevel=function(){var v,b,T;if(v=this.getBlock())return(T=a(v.getLastNestableAttribute()))!=null&&T.listAttribute?(b=this.getPreviousBlock())?i(b.getListItemAttributes(),v.getListItemAttributes()):void 0:v.getNestingLevel()>0},E.prototype.decreaseNestingLevel=function(){var v;if(v=this.getBlock())return this.setDocument(this.document.replaceBlock(v,v.decreaseNestingLevel()))},E.prototype.increaseNestingLevel=function(){var v;if(v=this.getBlock())return this.setDocument(this.document.replaceBlock(v,v.increaseNestingLevel()))},E.prototype.canDecreaseBlockAttributeLevel=function(){var v;return((v=this.getBlock())!=null?v.getAttributeLevel():void 0)>0},E.prototype.decreaseBlockAttributeLevel=function(){var v,b;return(v=(b=this.getBlock())!=null?b.getLastAttribute():void 0)?this.removeCurrentAttribute(v):void 0},E.prototype.decreaseListLevel=function(){var v,b,T,I,S,C;for(C=this.getSelectedRange()[0],S=this.document.locationFromPosition(C).index,T=S,v=this.getBlock().getAttributeLevel();(b=this.document.getBlockAtIndex(T+1))&&b.isListItem()&&b.getAttributeLevel()>v;)T++;return C=this.document.positionFromLocation({index:S,offset:0}),I=this.document.positionFromLocation({index:T,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([C,I]))},E.prototype.updateCurrentAttributes=function(){var v,b,T,I,S,C;if(C=this.getSelectedRange({ignoreLock:!0})){for(b=this.document.getCommonAttributesAtRange(C),S=s(),T=0,I=S.length;I>T;T++)v=S[T],b[v]||this.canSetCurrentAttribute(v)||(b[v]=!1);if(!h(b,this.currentAttributes))return this.currentAttributes=b,this.notifyDelegateOfCurrentAttributesChange()}},E.prototype.getCurrentAttributes=function(){return o.call({},this.currentAttributes)},E.prototype.getCurrentTextAttributes=function(){var v,b,T,I;v={},T=this.currentAttributes;for(b in T)I=T[b],I!==!1&&u(b)&&(v[b]=I);return v},E.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},E.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},E.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},E.proxyMethod("getSelectionManager().getPointRange"),E.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),E.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),E.proxyMethod("getSelectionManager().locationIsCursorTarget"),E.proxyMethod("getSelectionManager().selectionIsExpanded"),E.proxyMethod("delegate?.getSelectionManager"),E.prototype.setSelection=function(v){var b,T;return b=this.document.locationRangeFromRange(v),(T=this.delegate)!=null?T.compositionDidRequestChangingSelectionToLocationRange(b):void 0},E.prototype.getSelectedRange=function(){var v;return(v=this.getLocationRange())?this.document.rangeFromLocationRange(v):void 0},E.prototype.setSelectedRange=function(v){var b;return b=this.document.locationRangeFromRange(v),this.getSelectionManager().setLocationRange(b)},E.prototype.getPosition=function(){var v;return(v=this.getLocationRange())?this.document.positionFromLocation(v[0]):void 0},E.prototype.getLocationRange=function(v){var b,T;return(b=(T=this.targetLocationRange)!=null?T:this.getSelectionManager().getLocationRange(v))!=null?b:c({index:0,offset:0})},E.prototype.withTargetLocationRange=function(v,b){var T;this.targetLocationRange=v;try{T=b()}finally{this.targetLocationRange=null}return T},E.prototype.withTargetRange=function(v,b){var T;return T=this.document.locationRangeFromRange(v),this.withTargetLocationRange(T,b)},E.prototype.withTargetDOMRange=function(v,b){var T;return T=this.createLocationRangeFromDOMRange(v,{strict:!1}),this.withTargetLocationRange(T,b)},E.prototype.getExpandedRangeInDirection=function(v,b){var T,I,S,C;return I=(b!=null?b:{}).length,S=this.getSelectedRange(),C=S[0],T=S[1],v==="backward"?I?C-=I:C=this.translateUTF16PositionFromOffset(C,-1):I?T+=I:T=this.translateUTF16PositionFromOffset(T,1),c([C,T])},E.prototype.shouldManageMovingCursorInDirection=function(v){var b;return this.editingAttachment?!0:(b=this.getExpandedRangeInDirection(v),this.getAttachmentAtRange(b)!=null)},E.prototype.moveCursorInDirection=function(v){var b,T,I,S;return this.editingAttachment?I=this.document.getRangeOfAttachment(this.editingAttachment):(S=this.getSelectedRange(),I=this.getExpandedRangeInDirection(v),T=!d(S,I)),this.setSelectedRange(v==="backward"?I[0]:I[1]),T&&(b=this.getAttachmentAtRange(I))?this.editAttachment(b):void 0},E.prototype.expandSelectionInDirection=function(v,b){var T,I;return T=(b!=null?b:{}).length,I=this.getExpandedRangeInDirection(v,{length:T}),this.setSelectedRange(I)},E.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},E.prototype.expandSelectionAroundCommonAttribute=function(v){var b,T;return b=this.getPosition(),T=this.document.getRangeOfCommonAttributeAtPosition(v,b),this.setSelectedRange(T)},E.prototype.selectionContainsAttachments=function(){var v;return((v=this.getSelectedAttachments())!=null?v.length:void 0)>0},E.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},E.prototype.positionIsCursorTarget=function(v){var b;return(b=this.document.locationFromPosition(v))?this.locationIsCursorTarget(b):void 0},E.prototype.positionIsBlockBreak=function(v){var b;return(b=this.document.getPieceAtPosition(v))!=null?b.isBlockBreak():void 0},E.prototype.getSelectedDocument=function(){var v;return(v=this.getSelectedRange())?this.document.getDocumentAtRange(v):void 0},E.prototype.getSelectedAttachments=function(){var v;return(v=this.getSelectedDocument())!=null?v.getAttachments():void 0},E.prototype.getAttachments=function(){return this.attachments.slice(0)},E.prototype.refreshAttachments=function(){var v,b,T,I,S,C,D,N,P,L,x,M;for(T=this.document.getAttachments(),N=g(this.attachments,T),v=N.added,x=N.removed,this.attachments=T,I=0,C=x.length;C>I;I++)b=x[I],b.delegate=null,(P=this.delegate)!=null&&typeof P.compositionDidRemoveAttachment=="function"&&P.compositionDidRemoveAttachment(b);for(M=[],S=0,D=v.length;D>S;S++)b=v[S],b.delegate=this,M.push((L=this.delegate)!=null&&typeof L.compositionDidAddAttachment=="function"?L.compositionDidAddAttachment(b):void 0);return M},E.prototype.attachmentDidChangeAttributes=function(v){var b;return this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidEditAttachment=="function"?b.compositionDidEditAttachment(v):void 0},E.prototype.attachmentDidChangePreviewURL=function(v){var b;return this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidChangeAttachmentPreviewURL=="function"?b.compositionDidChangeAttachmentPreviewURL(v):void 0},E.prototype.editAttachment=function(v,b){var T;if(v!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=v,(T=this.delegate)!=null&&typeof T.compositionDidStartEditingAttachment=="function"?T.compositionDidStartEditingAttachment(this.editingAttachment,b):void 0},E.prototype.stopEditingAttachment=function(){var v;if(this.editingAttachment)return(v=this.delegate)!=null&&typeof v.compositionDidStopEditingAttachment=="function"&&v.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},E.prototype.updateAttributesForAttachment=function(v,b){return this.setDocument(this.document.updateAttributesForAttachment(v,b))},E.prototype.removeAttributeForAttachment=function(v,b){return this.setDocument(this.document.removeAttributeForAttachment(v,b))},E.prototype.breakFormattedBlock=function(v){var b,T,I,S,C;return T=v.document,b=v.block,S=v.startPosition,C=[S-1,S],b.getBlockBreakPosition()===v.startLocation.offset?(b.breaksOnReturn()&&v.nextCharacter===`
`?S+=1:T=T.removeTextAtRange(C),C=[S,S]):v.nextCharacter===`
`?v.previousCharacter===`
`?C=[S-1,S+1]:(C=[S,S+1],S+=1):v.startLocation.offset-1!==0&&(S+=1),I=new r.Document([b.removeLastAttribute().copyWithoutText()]),this.setDocument(T.insertDocumentAtRange(I,C)),this.setSelection(S)},E.prototype.getPreviousBlock=function(){var v,b;return(b=this.getLocationRange())&&(v=b[0].index,v>0)?this.document.getBlockAtIndex(v-1):void 0},E.prototype.getBlock=function(){var v;return(v=this.getLocationRange())?this.document.getBlockAtIndex(v[0].index):void 0},E.prototype.getAttachmentAtRange=function(v){var b;return b=this.document.getDocumentAtRange(v),b.toString()===r.OBJECT_REPLACEMENT_CHARACTER+`
`?b.getAttachments()[0]:void 0},E.prototype.notifyDelegateOfCurrentAttributesChange=function(){var v;return(v=this.delegate)!=null&&typeof v.compositionDidChangeCurrentAttributes=="function"?v.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},E.prototype.notifyDelegateOfInsertionAtRange=function(v){var b;return(b=this.delegate)!=null&&typeof b.compositionDidPerformInsertionAtRange=="function"?b.compositionDidPerformInsertionAtRange(v):void 0},E.prototype.translateUTF16PositionFromOffset=function(v,b){var T,I;return I=this.document.toUTF16String(),T=I.offsetFromUCS2Offset(v),I.offsetToUCS2Offset(T+b)},E}(r.BasicObject)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.UndoManager=function(s){function a(c){this.composition=c,this.undoEntries=[],this.redoEntries=[]}var u;return i(a,s),a.prototype.recordUndoEntry=function(c,h){var p,d,g,y,m;return y=h!=null?h:{},d=y.context,p=y.consolidatable,g=this.undoEntries.slice(-1)[0],p&&u(g,c,d)?void 0:(m=this.createEntry({description:c,context:d}),this.undoEntries.push(m),this.redoEntries=[])},a.prototype.undo=function(){var c,h;return(h=this.undoEntries.pop())?(c=this.createEntry(h),this.redoEntries.push(c),this.composition.loadSnapshot(h.snapshot)):void 0},a.prototype.redo=function(){var c,h;return(c=this.redoEntries.pop())?(h=this.createEntry(c),this.undoEntries.push(h),this.composition.loadSnapshot(c.snapshot)):void 0},a.prototype.canUndo=function(){return this.undoEntries.length>0},a.prototype.canRedo=function(){return this.redoEntries.length>0},a.prototype.createEntry=function(c){var h,p,d;return d=c!=null?c:{},p=d.description,h=d.context,{description:p!=null?p.toString():void 0,context:JSON.stringify(h),snapshot:this.composition.getSnapshot()}},u=function(c,h,p){return(c!=null?c.description:void 0)===(h!=null?h.toString():void 0)&&(c!=null?c.context:void 0)===JSON.stringify(p)},a}(r.BasicObject)}.call(this),function(){var i;r.attachmentGalleryFilter=function(o){var s;return s=new i(o),s.perform(),s.getSnapshot()},i=function(){function o(c){this.document=c.document,this.selectedRange=c.selectedRange}var s,a,u;return s="attachmentGallery",a="presentation",u="gallery",o.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},o.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},o.prototype.removeBlockAttribute=function(){var c,h,p,d,g;for(d=this.findRangesOfBlocks(),g=[],c=0,h=d.length;h>c;c++)p=d[c],g.push(this.document=this.document.removeAttributeAtRange(s,p));return g},o.prototype.applyBlockAttribute=function(){var c,h,p,d,g,y;for(p=0,g=this.findRangesOfPieces(),y=[],c=0,h=g.length;h>c;c++)d=g[c],d[1]-d[0]>1&&(d[0]+=p,d[1]+=p,this.document.getCharacterAtPosition(d[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[1]),d[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),d[1]++,p++),d[0]!==0&&this.document.getCharacterAtPosition(d[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[0]),d[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),d[0]++,p++),y.push(this.document=this.document.applyBlockAttributeAtRange(s,!0,d)));return y},o.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(s)},o.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(a,{withValue:u})},o.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},o}()}.call(this),function(){var i=function(o,s){return function(){return o.apply(s,arguments)}};r.Editor=function(){function o(a,u,c){this.composition=a,this.selectionManager=u,this.element=c,this.insertFiles=i(this.insertFiles,this),this.undoManager=new r.UndoManager(this.composition),this.filters=s.slice(0)}var s;return s=[r.attachmentGalleryFilter],o.prototype.loadDocument=function(a){return this.loadSnapshot({document:a,selectedRange:[0,0]})},o.prototype.loadHTML=function(a){return a==null&&(a=""),this.loadDocument(r.Document.fromHTML(a,{referenceElement:this.element}))},o.prototype.loadJSON=function(a){var u,c;return u=a.document,c=a.selectedRange,u=r.Document.fromJSON(u),this.loadSnapshot({document:u,selectedRange:c})},o.prototype.loadSnapshot=function(a){return this.undoManager=new r.UndoManager(this.composition),this.composition.loadSnapshot(a)},o.prototype.getDocument=function(){return this.composition.document},o.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},o.prototype.getSnapshot=function(){return this.composition.getSnapshot()},o.prototype.toJSON=function(){return this.getSnapshot()},o.prototype.deleteInDirection=function(a){return this.composition.deleteInDirection(a)},o.prototype.insertAttachment=function(a){return this.composition.insertAttachment(a)},o.prototype.insertAttachments=function(a){return this.composition.insertAttachments(a)},o.prototype.insertDocument=function(a){return this.composition.insertDocument(a)},o.prototype.insertFile=function(a){return this.composition.insertFile(a)},o.prototype.insertFiles=function(a){return this.composition.insertFiles(a)},o.prototype.insertHTML=function(a){return this.composition.insertHTML(a)},o.prototype.insertString=function(a){return this.composition.insertString(a)},o.prototype.insertText=function(a){return this.composition.insertText(a)},o.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},o.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},o.prototype.getPosition=function(){return this.composition.getPosition()},o.prototype.getClientRectAtPosition=function(a){var u;return u=this.getDocument().locationRangeFromRange([a,a+1]),this.selectionManager.getClientRectAtLocationRange(u)},o.prototype.expandSelectionInDirection=function(a){return this.composition.expandSelectionInDirection(a)},o.prototype.moveCursorInDirection=function(a){return this.composition.moveCursorInDirection(a)},o.prototype.setSelectedRange=function(a){return this.composition.setSelectedRange(a)},o.prototype.activateAttribute=function(a,u){return u==null&&(u=!0),this.composition.setCurrentAttribute(a,u)},o.prototype.attributeIsActive=function(a){return this.composition.hasCurrentAttribute(a)},o.prototype.canActivateAttribute=function(a){return this.composition.canSetCurrentAttribute(a)},o.prototype.deactivateAttribute=function(a){return this.composition.removeCurrentAttribute(a)},o.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},o.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},o.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},o.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},o.prototype.canRedo=function(){return this.undoManager.canRedo()},o.prototype.canUndo=function(){return this.undoManager.canUndo()},o.prototype.recordUndoEntry=function(a,u){var c,h,p;return p=u!=null?u:{},h=p.context,c=p.consolidatable,this.undoManager.recordUndoEntry(a,{context:h,consolidatable:c})},o.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},o.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},o}()}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ManagedAttachment=function(s){function a(u,c){var h;this.attachmentManager=u,this.attachment=c,h=this.attachment,this.id=h.id,this.file=h.file}return i(a,s),a.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},a.proxyMethod("attachment.getAttribute"),a.proxyMethod("attachment.hasAttribute"),a.proxyMethod("attachment.setAttribute"),a.proxyMethod("attachment.getAttributes"),a.proxyMethod("attachment.setAttributes"),a.proxyMethod("attachment.isPending"),a.proxyMethod("attachment.isPreviewable"),a.proxyMethod("attachment.getURL"),a.proxyMethod("attachment.getHref"),a.proxyMethod("attachment.getFilename"),a.proxyMethod("attachment.getFilesize"),a.proxyMethod("attachment.getFormattedFilesize"),a.proxyMethod("attachment.getExtension"),a.proxyMethod("attachment.getContentType"),a.proxyMethod("attachment.getFile"),a.proxyMethod("attachment.setFile"),a.proxyMethod("attachment.releaseFile"),a.proxyMethod("attachment.getUploadProgress"),a.proxyMethod("attachment.setUploadProgress"),a}(r.BasicObject)}.call(this),function(){var i=function(s,a){function u(){this.constructor=s}for(var c in a)o.call(a,c)&&(s[c]=a[c]);return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.AttachmentManager=function(s){function a(u){var c,h,p;for(u==null&&(u=[]),this.managedAttachments={},h=0,p=u.length;p>h;h++)c=u[h],this.manageAttachment(c)}return i(a,s),a.prototype.getAttachments=function(){var u,c,h,p;h=this.managedAttachments,p=[];for(c in h)u=h[c],p.push(u);return p},a.prototype.manageAttachment=function(u){var c,h;return(c=this.managedAttachments)[h=u.id]!=null?c[h]:c[h]=new r.ManagedAttachment(this,u)},a.prototype.attachmentIsManaged=function(u){return u.id in this.managedAttachments},a.prototype.requestRemovalOfAttachment=function(u){var c;return this.attachmentIsManaged(u)&&(c=this.delegate)!=null&&typeof c.attachmentManagerDidRequestRemovalOfAttachment=="function"?c.attachmentManagerDidRequestRemovalOfAttachment(u):void 0},a.prototype.unmanageAttachment=function(u){var c;return c=this.managedAttachments[u.id],delete this.managedAttachments[u.id],c},a}(r.BasicObject)}.call(this),function(){var i,o,s,a,u,c,h,p,d,g,y;i=r.elementContainsNode,o=r.findChildIndexOfNode,u=r.nodeIsBlockStart,c=r.nodeIsBlockStartComment,a=r.nodeIsBlockContainer,h=r.nodeIsCursorTarget,p=r.nodeIsEmptyTextNode,d=r.nodeIsTextNode,s=r.nodeIsAttachmentElement,g=r.tagName,y=r.walkTree,r.LocationMapper=function(){function m(b){this.element=b}var _,E,w,v;return m.prototype.findLocationFromContainerAndOffset=function(b,T,I){var S,C,D,N,P,L,x;for(L=(I!=null?I:{strict:!0}).strict,C=0,D=!1,N={index:0,offset:0},(S=this.findAttachmentElementParentForNode(b))&&(b=S.parentNode,T=o(S)),x=y(this.element,{usingFilter:w});x.nextNode();){if(P=x.currentNode,P===b&&d(b)){h(P)||(N.offset+=T);break}if(P.parentNode===b){if(C++===T)break}else if(!i(b,P)&&C>0)break;u(P,{strict:L})?(D&&N.index++,N.offset=0,D=!0):N.offset+=E(P)}return N},m.prototype.findContainerAndOffsetFromLocation=function(b){var T,I,S,C,D;if(b.index===0&&b.offset===0){for(T=this.element,C=0;T.firstChild;)if(T=T.firstChild,a(T)){C=1;break}return[T,C]}if(D=this.findNodeAndOffsetFromLocation(b),I=D[0],S=D[1],I){if(d(I))E(I)===0?(T=I.parentNode.parentNode,C=o(I.parentNode),h(I,{name:"right"})&&C++):(T=I,C=b.offset-S);else{if(T=I.parentNode,!u(I.previousSibling)&&!a(T))for(;I===T.lastChild&&(I=T,T=T.parentNode,!a(T)););C=o(I),b.offset!==0&&C++}return[T,C]}},m.prototype.findNodeAndOffsetFromLocation=function(b){var T,I,S,C,D,N,P,L;for(P=0,L=this.getSignificantNodesForIndex(b.index),I=0,S=L.length;S>I;I++){if(T=L[I],C=E(T),b.offset<=P+C)if(d(T)){if(D=T,N=P,b.offset===N&&h(D))break}else D||(D=T,N=P);if(P+=C,P>b.offset)break}return[D,N]},m.prototype.findAttachmentElementParentForNode=function(b){for(;b&&b!==this.element;){if(s(b))return b;b=b.parentNode}},m.prototype.getSignificantNodesForIndex=function(b){var T,I,S,C,D;for(S=[],D=y(this.element,{usingFilter:_}),C=!1;D.nextNode();)if(I=D.currentNode,c(I)){if(typeof T<"u"&&T!==null?T++:T=0,T===b)C=!0;else if(C)break}else C&&S.push(I);return S},E=function(b){var T;return b.nodeType===Node.TEXT_NODE?h(b)?0:(T=b.textContent,T.length):g(b)==="br"||s(b)?1:0},_=function(b){return v(b)===NodeFilter.FILTER_ACCEPT?w(b):NodeFilter.FILTER_REJECT},v=function(b){return p(b)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},w=function(b){return s(b.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m}()}.call(this),function(){var i,o,s=[].slice;i=r.getDOMRange,o=r.setDOMRange,r.PointMapper=function(){function a(){}return a.prototype.createDOMRangeFromPoint=function(u){var c,h,p,d,g,y,m,_;if(m=u.x,_=u.y,document.caretPositionFromPoint)return g=document.caretPositionFromPoint(m,_),p=g.offsetNode,h=g.offset,c=document.createRange(),c.setStart(p,h),c;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(m,_);if(document.body.createTextRange){d=i();try{y=document.body.createTextRange(),y.moveToPoint(m,_),y.select()}catch{}return c=i(),o(d),c}},a.prototype.getClientRectsForDOMRange=function(u){var c,h,p;return h=s.call(u.getClientRects()),p=h[0],c=h[h.length-1],[p,c]},a}()}.call(this),function(){var i,o=function(c,h){return function(){return c.apply(h,arguments)}},s=function(c,h){function p(){this.constructor=c}for(var d in h)a.call(h,d)&&(c[d]=h[d]);return p.prototype=h.prototype,c.prototype=new p,c.__super__=h.prototype,c},a={}.hasOwnProperty,u=[].indexOf||function(c){for(var h=0,p=this.length;p>h;h++)if(h in this&&this[h]===c)return h;return-1};i=r.getDOMRange,r.SelectionChangeObserver=function(c){function h(){this.run=o(this.run,this),this.update=o(this.update,this),this.selectionManagers=[]}var p;return s(h,c),h.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},h.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},h.prototype.registerSelectionManager=function(d){return u.call(this.selectionManagers,d)<0?(this.selectionManagers.push(d),this.start()):void 0},h.prototype.unregisterSelectionManager=function(d){var g;return this.selectionManagers=function(){var y,m,_,E;for(_=this.selectionManagers,E=[],y=0,m=_.length;m>y;y++)g=_[y],g!==d&&E.push(g);return E}.call(this),this.selectionManagers.length===0?this.stop():void 0},h.prototype.notifySelectionManagersOfSelectionChange=function(){var d,g,y,m,_;for(y=this.selectionManagers,m=[],d=0,g=y.length;g>d;d++)_=y[d],m.push(_.selectionDidChange());return m},h.prototype.update=function(){var d;return d=i(),p(d,this.domRange)?void 0:(this.domRange=d,this.notifySelectionManagersOfSelectionChange())},h.prototype.reset=function(){return this.domRange=null,this.update()},h.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},p=function(d,g){return(d!=null?d.startContainer:void 0)===(g!=null?g.startContainer:void 0)&&(d!=null?d.startOffset:void 0)===(g!=null?g.startOffset:void 0)&&(d!=null?d.endContainer:void 0)===(g!=null?g.endContainer:void 0)&&(d!=null?d.endOffset:void 0)===(g!=null?g.endOffset:void 0)},h}(r.BasicObject),r.selectionChangeObserver==null&&(r.selectionChangeObserver=new r.SelectionChangeObserver)}.call(this),function(){var i,o,s,a,u,c,h,p,d,g,y=function(E,w){return function(){return E.apply(w,arguments)}},m=function(E,w){function v(){this.constructor=E}for(var b in w)_.call(w,b)&&(E[b]=w[b]);return v.prototype=w.prototype,E.prototype=new v,E.__super__=w.prototype,E},_={}.hasOwnProperty;s=r.getDOMSelection,o=r.getDOMRange,g=r.setDOMRange,i=r.elementContainsNode,c=r.nodeIsCursorTarget,u=r.innerElementIsActive,a=r.handleEvent,h=r.normalizeRange,p=r.rangeIsCollapsed,d=r.rangesAreEqual,r.SelectionManager=function(E){function w(v){this.element=v,this.selectionDidChange=y(this.selectionDidChange,this),this.didMouseDown=y(this.didMouseDown,this),this.locationMapper=new r.LocationMapper(this.element),this.pointMapper=new r.PointMapper,this.lockCount=0,a("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return m(w,E),w.prototype.getLocationRange=function(v){var b;return v==null&&(v={}),v.strict===!1?this.createLocationRangeFromDOMRange(o(),{strict:!1}):v.ignoreLock?this.currentLocationRange:(b=this.lockedLocationRange)!=null?b:this.currentLocationRange},w.prototype.setLocationRange=function(v){var b;if(!this.lockedLocationRange)return v=h(v),(b=this.createDOMRangeFromLocationRange(v))?(g(b),this.updateCurrentLocationRange(v)):void 0},w.prototype.setLocationRangeFromPointRange=function(v){var b,T;return v=h(v),T=this.getLocationAtPoint(v[0]),b=this.getLocationAtPoint(v[1]),this.setLocationRange([T,b])},w.prototype.getClientRectAtLocationRange=function(v){var b;return(b=this.createDOMRangeFromLocationRange(v))?this.getClientRectsForDOMRange(b)[1]:void 0},w.prototype.locationIsCursorTarget=function(v){var b,T;return T=this.findNodeAndOffsetFromLocation(v),b=T[0],T[1],c(b)},w.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},w.prototype.unlock=function(){var v;return--this.lockCount===0&&(v=this.lockedLocationRange,this.lockedLocationRange=null,v!=null)?this.setLocationRange(v):void 0},w.prototype.clearSelection=function(){var v;return(v=s())!=null?v.removeAllRanges():void 0},w.prototype.selectionIsCollapsed=function(){var v;return((v=o())!=null?v.collapsed:void 0)===!0},w.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},w.prototype.createLocationRangeFromDOMRange=function(v,b){var T,I;if(v!=null&&this.domRangeWithinElement(v)&&(I=this.findLocationFromContainerAndOffset(v.startContainer,v.startOffset,b)))return v.collapsed||(T=this.findLocationFromContainerAndOffset(v.endContainer,v.endOffset,b)),h([I,T])},w.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),w.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),w.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),w.proxyMethod("pointMapper.createDOMRangeFromPoint"),w.proxyMethod("pointMapper.getClientRectsForDOMRange"),w.prototype.didMouseDown=function(){return this.pauseTemporarily()},w.prototype.pauseTemporarily=function(){var v,b,T,I;return this.paused=!0,b=function(S){return function(){var C,D,N;for(S.paused=!1,clearTimeout(I),D=0,N=T.length;N>D;D++)C=T[D],C.destroy();return i(document,S.element)?S.selectionDidChange():void 0}}(this),I=setTimeout(b,200),T=function(){var S,C,D,N;for(D=["mousemove","keydown"],N=[],S=0,C=D.length;C>S;S++)v=D[S],N.push(a(v,{onElement:document,withCallback:b}));return N}()},w.prototype.selectionDidChange=function(){return this.paused||u(this.element)?void 0:this.updateCurrentLocationRange()},w.prototype.updateCurrentLocationRange=function(v){var b;return(v!=null?v:v=this.createLocationRangeFromDOMRange(o()))&&!d(v,this.currentLocationRange)?(this.currentLocationRange=v,(b=this.delegate)!=null&&typeof b.locationRangeDidChange=="function"?b.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},w.prototype.createDOMRangeFromLocationRange=function(v){var b,T,I,S;return I=this.findContainerAndOffsetFromLocation(v[0]),T=p(v)?I:(S=this.findContainerAndOffsetFromLocation(v[1]))!=null?S:I,I!=null&&T!=null?(b=document.createRange(),b.setStart.apply(b,I),b.setEnd.apply(b,T),b):void 0},w.prototype.getLocationAtPoint=function(v){var b,T;return(b=this.createDOMRangeFromPoint(v))&&(T=this.createLocationRangeFromDOMRange(b))!=null?T[0]:void 0},w.prototype.domRangeWithinElement=function(v){return v.collapsed?i(this.element,v.startContainer):i(this.element,v.startContainer)&&i(this.element,v.endContainer)},w}(r.BasicObject)}.call(this),function(){var i,o,s,a,u=function(p,d){function g(){this.constructor=p}for(var y in d)c.call(d,y)&&(p[y]=d[y]);return g.prototype=d.prototype,p.prototype=new g,p.__super__=d.prototype,p},c={}.hasOwnProperty,h=[].slice;s=r.rangeIsCollapsed,a=r.rangesAreEqual,o=r.objectsAreEqual,i=r.getBlockConfig,r.EditorController=function(p){function d(y){var m,_;this.editorElement=y.editorElement,m=y.document,_=y.html,this.selectionManager=new r.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new r.Composition,this.composition.delegate=this,this.attachmentManager=new r.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new r["Level"+r.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new r.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new r.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new r.Editor(this.composition,this.selectionManager,this.editorElement),m!=null?this.editor.loadDocument(m):this.editor.loadHTML(_)}var g;return u(d,p),d.prototype.registerSelectionManager=function(){return r.selectionChangeObserver.registerSelectionManager(this.selectionManager)},d.prototype.unregisterSelectionManager=function(){return r.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},d.prototype.render=function(){return this.compositionController.render()},d.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},d.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},d.prototype.compositionDidChangeCurrentAttributes=function(y){return this.currentAttributes=y,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},d.prototype.compositionDidPerformInsertionAtRange=function(y){return this.pasting?this.pastedRange=y:void 0},d.prototype.compositionShouldAcceptFile=function(y){return this.notifyEditorElement("file-accept",{file:y})},d.prototype.compositionDidAddAttachment=function(y){var m;return m=this.attachmentManager.manageAttachment(y),this.notifyEditorElement("attachment-add",{attachment:m})},d.prototype.compositionDidEditAttachment=function(y){var m;return this.compositionController.rerenderViewForObject(y),m=this.attachmentManager.manageAttachment(y),this.notifyEditorElement("attachment-edit",{attachment:m}),this.notifyEditorElement("change")},d.prototype.compositionDidChangeAttachmentPreviewURL=function(y){return this.compositionController.invalidateViewForObject(y),this.notifyEditorElement("change")},d.prototype.compositionDidRemoveAttachment=function(y){var m;return m=this.attachmentManager.unmanageAttachment(y),this.notifyEditorElement("attachment-remove",{attachment:m})},d.prototype.compositionDidStartEditingAttachment=function(y,m){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(y),this.compositionController.installAttachmentEditorForAttachment(y,m),this.selectionManager.setLocationRange(this.attachmentLocationRange)},d.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},d.prototype.compositionDidRequestChangingSelectionToLocationRange=function(y){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=y,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},d.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},d.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},d.prototype.getSelectionManager=function(){return this.selectionManager},d.proxyMethod("getSelectionManager().setLocationRange"),d.proxyMethod("getSelectionManager().getLocationRange"),d.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(y){return this.removeAttachment(y)},d.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},d.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},d.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},d.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},d.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},d.prototype.compositionControllerDidSelectAttachment=function(y,m){return this.toolbarController.hideDialog(),this.composition.editAttachment(y,m)},d.prototype.compositionControllerDidRequestDeselectingAttachment=function(y){var m,_;return m=(_=this.attachmentLocationRange)!=null?_:this.composition.document.getLocationRangeOfAttachment(y),this.selectionManager.setLocationRange(m[1])},d.prototype.compositionControllerWillUpdateAttachment=function(y){return this.editor.recordUndoEntry("Edit Attachment",{context:y.id,consolidatable:!0})},d.prototype.compositionControllerDidRequestRemovalOfAttachment=function(y){return this.removeAttachment(y)},d.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},d.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},d.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},d.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},d.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},d.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},d.prototype.inputControllerWillPerformFormatting=function(y){return this.recordFormattingUndoEntry(y)},d.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},d.prototype.inputControllerWillPaste=function(y){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:y})},d.prototype.inputControllerDidPaste=function(y){return y.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:y})},d.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},d.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},d.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},d.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},d.prototype.inputControllerDidReceiveKeyboardCommand=function(y){return this.toolbarController.applyKeyboardCommand(y)},d.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},d.prototype.inputControllerDidReceiveDragOverPoint=function(y){return this.selectionManager.setLocationRangeFromPointRange(y)},d.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},d.prototype.locationRangeDidChange=function(y){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!a(this.attachmentLocationRange,y)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},d.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},d.prototype.toolbarDidInvokeAction=function(y){return this.invokeAction(y)},d.prototype.toolbarDidToggleAttribute=function(y){return this.recordFormattingUndoEntry(y),this.composition.toggleCurrentAttribute(y),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidUpdateAttribute=function(y,m){return this.recordFormattingUndoEntry(y),this.composition.setCurrentAttribute(y,m),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidRemoveAttribute=function(y){return this.recordFormattingUndoEntry(y),this.composition.removeCurrentAttribute(y),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},d.prototype.toolbarDidShowDialog=function(y){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:y})},d.prototype.toolbarDidHideDialog=function(y){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:y})},d.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},d.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},d.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return r.config.input.pickFiles(this.editor.insertFiles)}}},d.prototype.canInvokeAction=function(y){var m,_;return this.actionIsExternal(y)?!0:!!((m=this.actions[y])!=null&&(_=m.test)!=null&&_.call(this))},d.prototype.invokeAction=function(y){var m,_;return this.actionIsExternal(y)?this.notifyEditorElement("action-invoke",{actionName:y}):(m=this.actions[y])!=null&&(_=m.perform)!=null?_.call(this):void 0},d.prototype.actionIsExternal=function(y){return/^x-./.test(y)},d.prototype.getCurrentActions=function(){var y,m;m={};for(y in this.actions)m[y]=this.canInvokeAction(y);return m},d.prototype.updateCurrentActions=function(){var y;return y=this.getCurrentActions(),o(y,this.currentActions)?void 0:(this.currentActions=y,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},d.prototype.runEditorFilters=function(){var y,m,_,E,w,v,b,T;for(T=this.composition.getSnapshot(),w=this.editor.filters,_=0,E=w.length;E>_;_++)m=w[_],y=T.document,b=T.selectedRange,T=(v=m.call(this.editor,T))!=null?v:{},T.document==null&&(T.document=y),T.selectedRange==null&&(T.selectedRange=b);return g(T,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(T)},g=function(y,m){return a(y.selectedRange,m.selectedRange)&&y.document.isEqualTo(m.document)},d.prototype.updateInputElement=function(){var y,m;return y=this.compositionController.getSerializableElement(),m=r.serializeToContentType(y,"text/html"),this.editorElement.setInputElementValue(m)},d.prototype.notifyEditorElement=function(y,m){switch(y){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(y,m)},d.prototype.removeAttachment=function(y){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(y),this.render()},d.prototype.recordFormattingUndoEntry=function(y){var m,_;return m=i(y),_=this.selectionManager.getLocationRange(),m||!s(_)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},d.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},d.prototype.getUndoContext=function(){var y;return y=1<=arguments.length?h.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(h.call(y))},d.prototype.getLocationContext=function(){var y;return y=this.selectionManager.getLocationRange(),s(y)?y[0].index:y},d.prototype.getTimeContext=function(){return r.config.undoInterval>0?Math.floor(new Date().getTime()/r.config.undoInterval):0},d.prototype.isFocused=function(){var y;return this.editorElement===((y=this.editorElement.ownerDocument)!=null?y.activeElement:void 0)},d.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},d}(r.Controller)}.call(this),function(){var i,o,s,a,u,c,h,p=[].indexOf||function(d){for(var g=0,y=this.length;y>g;g++)if(g in this&&this[g]===d)return g;return-1};o=r.browser,c=r.makeElement,h=r.triggerEvent,a=r.handleEvent,u=r.handleEventOnce,s=r.findClosestElementFromNode,i=r.AttachmentView.attachmentSelector,r.registerElement("trix-editor",function(){var d,g,y,m,_,E,w,v,b;return w=0,g=function(T){return!document.querySelector(":focus")&&T.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===T?T.focus():void 0},v=function(T){return T.hasAttribute("contenteditable")?void 0:(T.setAttribute("contenteditable",""),u("focus",{onElement:T,withCallback:function(){return y(T)}}))},y=function(T){return _(T),b(T)},_=function(T){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),a("mscontrolselect",{onElement:T,preventDefault:!0})):void 0},b=function(){var T;return(typeof document.queryCommandSupported=="function"?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&(T=r.config.blockAttributes.default.tagName,T==="div"||T==="p")?document.execCommand("DefaultParagraphSeparator",!1,T):void 0},d=function(T){return T.hasAttribute("role")?void 0:T.setAttribute("role","textbox")},E=function(T){var I;if(!T.hasAttribute("aria-label")&&!T.hasAttribute("aria-labelledby"))return(I=function(){var S,C,D;return D=function(){var N,P,L,x;for(L=T.labels,x=[],N=0,P=L.length;P>N;N++)S=L[N],S.contains(T)||x.push(S.textContent);return x}(),(C=D.join(" "))?T.setAttribute("aria-label",C):T.removeAttribute("aria-label")})(),a("focus",{onElement:T,withCallback:I})},m=function(){return o.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+i+` figcaption textarea {
  resize: none;
}

%t `+i+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+i+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+m.display+` !important;
  width: `+m.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++w),this.trixId)}},labels:{get:function(){var T,I,S;return I=[],this.id&&this.ownerDocument&&I.push.apply(I,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(T=s(this,{matchingSelector:"label"}))&&((S=T.control)===this||S===null)&&I.push(T),I}},toolbarElement:{get:function(){var T,I,S;return this.hasAttribute("toolbar")?(I=this.ownerDocument)!=null?I.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(S="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",S),T=c("trix-toolbar",{id:S}),this.parentNode.insertBefore(T,this),T):void 0}},inputElement:{get:function(){var T,I,S;return this.hasAttribute("input")?(S=this.ownerDocument)!=null?S.getElementById(this.getAttribute("input")):void 0:this.parentNode?(I="trix-input-"+this.trixId,this.setAttribute("input",I),T=c("input",{type:"hidden",id:I}),this.parentNode.insertBefore(T,this.nextElementSibling),T):void 0}},editor:{get:function(){var T;return(T=this.editorController)!=null?T.editor:void 0}},name:{get:function(){var T;return(T=this.inputElement)!=null?T.name:void 0}},value:{get:function(){var T;return(T=this.inputElement)!=null?T.value:void 0},set:function(T){var I;return this.defaultValue=T,(I=this.editor)!=null?I.loadHTML(this.defaultValue):void 0}},notify:function(T,I){return this.editorController?h("trix-"+T,{onElement:this,attributes:I}):void 0},setInputElementValue:function(T){var I;return(I=this.inputElement)!=null?I.value=T:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(v(this),d(this),E(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(h("trix-before-initialize",{onElement:this}),this.editorController=new r.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(T){return function(){return h("trix-initialize",{onElement:T})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),g(this))},disconnect:function(){var T;return(T=this.editorController)!=null&&T.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(T){var I;if(!T.defaultPrevented&&T.target===((I=this.inputElement)!=null?I.form:void 0))return this.reset()},clickBubbled:function(T){var I;if(!(T.defaultPrevented||this.contains(T.target)||!(I=s(T.target,{matchingSelector:"label"}))||p.call(this.labels,I)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),typeof e=="object"&&e.exports?e.exports=r:typeof define=="function"&&define.amd&&define(r)}.call(t)}),OL=Ns((t,e)=>{/*! choices.js v10.1.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i():typeof define=="function"&&define.amd?define([],i):typeof t=="object"?t.Choices=i():r.Choices=i()})(window,function(){return function(){var n={282:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.clearChoices=a.activateChoices=a.filterChoices=a.addChoice=void 0;var c=u(883),h=function(y){var m=y.value,_=y.label,E=y.id,w=y.groupId,v=y.disabled,b=y.elementId,T=y.customProperties,I=y.placeholder,S=y.keyCode;return{type:c.ACTION_TYPES.ADD_CHOICE,value:m,label:_,id:E,groupId:w,disabled:v,elementId:b,customProperties:T,placeholder:I,keyCode:S}};a.addChoice=h;var p=function(y){return{type:c.ACTION_TYPES.FILTER_CHOICES,results:y}};a.filterChoices=p;var d=function(y){return y===void 0&&(y=!0),{type:c.ACTION_TYPES.ACTIVATE_CHOICES,active:y}};a.activateChoices=d;var g=function(){return{type:c.ACTION_TYPES.CLEAR_CHOICES}};a.clearChoices=g},783:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.addGroup=void 0;var c=u(883),h=function(p){var d=p.value,g=p.id,y=p.active,m=p.disabled;return{type:c.ACTION_TYPES.ADD_GROUP,value:d,id:g,active:y,disabled:m}};a.addGroup=h},464:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.highlightItem=a.removeItem=a.addItem=void 0;var c=u(883),h=function(g){var y=g.value,m=g.label,_=g.id,E=g.choiceId,w=g.groupId,v=g.customProperties,b=g.placeholder,T=g.keyCode;return{type:c.ACTION_TYPES.ADD_ITEM,value:y,label:m,id:_,choiceId:E,groupId:w,customProperties:v,placeholder:b,keyCode:T}};a.addItem=h;var p=function(g,y){return{type:c.ACTION_TYPES.REMOVE_ITEM,id:g,choiceId:y}};a.removeItem=p;var d=function(g,y){return{type:c.ACTION_TYPES.HIGHLIGHT_ITEM,id:g,highlighted:y}};a.highlightItem=d},137:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.setIsLoading=a.resetTo=a.clearAll=void 0;var c=u(883),h=function(){return{type:c.ACTION_TYPES.CLEAR_ALL}};a.clearAll=h;var p=function(g){return{type:c.ACTION_TYPES.RESET_TO,state:g}};a.resetTo=p;var d=function(g){return{type:c.ACTION_TYPES.SET_IS_LOADING,isLoading:g}};a.setIsLoading=d},373:function(s,a,u){var c=this&&this.__spreadArray||function(P,L,x){if(x||arguments.length===2)for(var M=0,k=L.length,R;M<k;M++)(R||!(M in L))&&(R||(R=Array.prototype.slice.call(L,0,M)),R[M]=L[M]);return P.concat(R||Array.prototype.slice.call(L))},h=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(a,"__esModule",{value:!0});var p=h(u(996)),d=h(u(221)),g=u(282),y=u(783),m=u(464),_=u(137),E=u(520),w=u(883),v=u(789),b=u(799),T=u(655),I=h(u(744)),S=h(u(686)),C="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,D={},N=function(){function P(L,x){var M=this;L===void 0&&(L="[data-choice]"),x===void 0&&(x={}),x.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=p.default.all([v.DEFAULT_CONFIG,P.defaults.options,x],{arrayMerge:function(X,ft){return c([],ft,!0)}});var k=(0,b.diff)(this.config,v.DEFAULT_CONFIG);k.length&&console.warn("Unknown config option(s) passed",k.join(", "));var R=typeof L=="string"?document.querySelector(L):L;if(!(R instanceof HTMLInputElement||R instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=R.type===w.TEXT_TYPE,this._isSelectOneElement=R.type===w.SELECT_ONE_TYPE,this._isSelectMultipleElement=R.type===w.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),x.addItemFilter&&typeof x.addItemFilter!="function"){var B=x.addItemFilter instanceof RegExp?x.addItemFilter:new RegExp(x.addItemFilter);this.config.addItemFilter=B.test.bind(B)}if(this._isTextElement?this.passedElement=new E.WrappedInput({element:R,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new E.WrappedSelect({element:R,classNames:this.config.classNames,template:function(X){return M._templates.option(X)}}),this.initialised=!1,this._store=new I.default,this._initialState=T.defaultState,this._currentState=T.defaultState,this._prevState=T.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,b.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var $=window.getComputedStyle(this.passedElement.element).direction,H=window.getComputedStyle(document.documentElement).direction;$!==H&&(this._direction=$)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var j=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(j)}if(this.passedElement.options&&this.passedElement.options.forEach(function(X){M._presetChoices.push({value:X.value,label:X.innerHTML,selected:!!X.selected,disabled:X.disabled||X.parentNode.disabled,placeholder:X.value===""||X.hasAttribute("placeholder"),customProperties:X.dataset["custom-properties"]})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:L}),this.initialised=!0;return}this.init()}return Object.defineProperty(P,"defaults",{get:function(){return Object.preventExtensions({get options(){return D},get templates(){return S.default}})},enumerable:!1,configurable:!0}),P.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var L=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");L&&this.disable(),this.initialised=!0;var x=this.config.callbackOnInit;x&&typeof x=="function"&&x.call(this)}},P.prototype.destroy=function(){!this.initialised||(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=S.default,this.initialised=!1)},P.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},P.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},P.prototype.highlightItem=function(L,x){if(x===void 0&&(x=!0),!L||!L.id)return this;var M=L.id,k=L.groupId,R=k===void 0?-1:k,B=L.value,$=B===void 0?"":B,H=L.label,j=H===void 0?"":H,X=R>=0?this._store.getGroupById(R):null;return this._store.dispatch((0,m.highlightItem)(M,!0)),x&&this.passedElement.triggerEvent(w.EVENTS.highlightItem,{id:M,value:$,label:j,groupValue:X&&X.value?X.value:null}),this},P.prototype.unhighlightItem=function(L){if(!L||!L.id)return this;var x=L.id,M=L.groupId,k=M===void 0?-1:M,R=L.value,B=R===void 0?"":R,$=L.label,H=$===void 0?"":$,j=k>=0?this._store.getGroupById(k):null;return this._store.dispatch((0,m.highlightItem)(x,!1)),this.passedElement.triggerEvent(w.EVENTS.highlightItem,{id:x,value:B,label:H,groupValue:j&&j.value?j.value:null}),this},P.prototype.highlightAll=function(){var L=this;return this._store.items.forEach(function(x){return L.highlightItem(x)}),this},P.prototype.unhighlightAll=function(){var L=this;return this._store.items.forEach(function(x){return L.unhighlightItem(x)}),this},P.prototype.removeActiveItemsByValue=function(L){var x=this;return this._store.activeItems.filter(function(M){return M.value===L}).forEach(function(M){return x._removeItem(M)}),this},P.prototype.removeActiveItems=function(L){var x=this;return this._store.activeItems.filter(function(M){var k=M.id;return k!==L}).forEach(function(M){return x._removeItem(M)}),this},P.prototype.removeHighlightedItems=function(L){var x=this;return L===void 0&&(L=!1),this._store.highlightedActiveItems.forEach(function(M){x._removeItem(M),L&&x._triggerChange(M.value)}),this},P.prototype.showDropdown=function(L){var x=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){x.dropdown.show(),x.containerOuter.open(x.dropdown.distanceFromTopWindow),!L&&x._canSearch&&x.input.focus(),x.passedElement.triggerEvent(w.EVENTS.showDropdown,{})}),this)},P.prototype.hideDropdown=function(L){var x=this;return this.dropdown.isActive?(requestAnimationFrame(function(){x.dropdown.hide(),x.containerOuter.close(),!L&&x._canSearch&&(x.input.removeActiveDescendant(),x.input.blur()),x.passedElement.triggerEvent(w.EVENTS.hideDropdown,{})}),this):this},P.prototype.getValue=function(L){L===void 0&&(L=!1);var x=this._store.activeItems.reduce(function(M,k){var R=L?k.value:k;return M.push(R),M},[]);return this._isSelectOneElement?x[0]:x},P.prototype.setValue=function(L){var x=this;return this.initialised?(L.forEach(function(M){return x._setChoiceOrItem(M)}),this):this},P.prototype.setChoiceByValue=function(L){var x=this;if(!this.initialised||this._isTextElement)return this;var M=Array.isArray(L)?L:[L];return M.forEach(function(k){return x._findAndSelectChoiceByValue(k)}),this},P.prototype.setChoices=function(L,x,M,k){var R=this;if(L===void 0&&(L=[]),x===void 0&&(x="value"),M===void 0&&(M="label"),k===void 0&&(k=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof x!="string"||!x)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(k&&this.clearChoices(),typeof L=="function"){var B=L(this);if(typeof Promise=="function"&&B instanceof Promise)return new Promise(function($){return requestAnimationFrame($)}).then(function(){return R._handleLoadingState(!0)}).then(function(){return B}).then(function($){return R.setChoices($,x,M,k)}).catch(function($){R.config.silent||console.error($)}).then(function(){return R._handleLoadingState(!1)}).then(function(){return R});if(!Array.isArray(B))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof B));return this.setChoices(B,x,M,!1)}if(!Array.isArray(L))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),L.forEach(function($){if($.choices)R._addGroup({id:$.id?parseInt("".concat($.id),10):null,group:$,valueKey:x,labelKey:M});else{var H=$;R._addChoice({value:H[x],label:H[M],isSelected:!!H.selected,isDisabled:!!H.disabled,placeholder:!!H.placeholder,customProperties:H.customProperties})}}),this._stopLoading(),this},P.prototype.clearChoices=function(){return this._store.dispatch((0,g.clearChoices)()),this},P.prototype.clearStore=function(){return this._store.dispatch((0,_.clearAll)()),this},P.prototype.clearInput=function(){var L=!this._isSelectOneElement;return this.input.clear(L),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,g.activateChoices)(!0))),this},P.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var L=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,x=this._isSelectElement,M=this._currentState.items!==this._prevState.items;!L||(x&&this._renderChoices(),M&&this._renderItems(),this._prevState=this._currentState)}},P.prototype._renderChoices=function(){var L=this,x=this._store,M=x.activeGroups,k=x.activeChoices,R=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return L.choiceList.scrollToTop()}),M.length>=1&&!this._isSearching){var B=k.filter(function(ft){return ft.placeholder===!0&&ft.groupId===-1});B.length>=1&&(R=this._createChoicesFragment(B,R)),R=this._createGroupsFragment(M,k,R)}else k.length>=1&&(R=this._createChoicesFragment(k,R));if(R.childNodes&&R.childNodes.length>0){var $=this._store.activeItems,H=this._canAddItem($,this.input.value);if(H.response)this.choiceList.append(R),this._highlightChoice();else{var j=this._getTemplate("notice",H.notice);this.choiceList.append(j)}}else{var X=void 0,j=void 0;this._isSearching?(j=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,X=this._getTemplate("notice",j,"no-results")):(j=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,X=this._getTemplate("notice",j,"no-choices")),this.choiceList.append(X)}},P.prototype._renderItems=function(){var L=this._store.activeItems||[];this.itemList.clear();var x=this._createItemsFragment(L);x.childNodes&&this.itemList.append(x)},P.prototype._createGroupsFragment=function(L,x,M){var k=this;M===void 0&&(M=document.createDocumentFragment());var R=function(B){return x.filter(function($){return k._isSelectOneElement?$.groupId===B.id:$.groupId===B.id&&(k.config.renderSelectedChoices==="always"||!$.selected)})};return this.config.shouldSort&&L.sort(this.config.sorter),L.forEach(function(B){var $=R(B);if($.length>=1){var H=k._getTemplate("choiceGroup",B);M.appendChild(H),k._createChoicesFragment($,M,!0)}}),M},P.prototype._createChoicesFragment=function(L,x,M){var k=this;x===void 0&&(x=document.createDocumentFragment()),M===void 0&&(M=!1);var R=this.config,B=R.renderSelectedChoices,$=R.searchResultLimit,H=R.renderChoiceLimit,j=this._isSearching?b.sortByScore:this.config.sorter,X=function(Rt){var Ot=B==="auto"?k._isSelectOneElement||!Rt.selected:!0;if(Ot){var ee=k._getTemplate("choice",Rt,k.config.itemSelectText);x.appendChild(ee)}},ft=L;B==="auto"&&!this._isSelectOneElement&&(ft=L.filter(function(Rt){return!Rt.selected}));var at=ft.reduce(function(Rt,Ot){return Ot.placeholder?Rt.placeholderChoices.push(Ot):Rt.normalChoices.push(Ot),Rt},{placeholderChoices:[],normalChoices:[]}),ht=at.placeholderChoices,vt=at.normalChoices;(this.config.shouldSort||this._isSearching)&&vt.sort(j);var ct=ft.length,bt=this._isSelectOneElement?c(c([],ht,!0),vt,!0):vt;this._isSearching?ct=$:H&&H>0&&!M&&(ct=H);for(var wt=0;wt<ct;wt+=1)bt[wt]&&X(bt[wt]);return x},P.prototype._createItemsFragment=function(L,x){var M=this;x===void 0&&(x=document.createDocumentFragment());var k=this.config,R=k.shouldSortItems,B=k.sorter,$=k.removeItemButton;R&&!this._isSelectOneElement&&L.sort(B),this._isTextElement?this.passedElement.value=L.map(function(j){var X=j.value;return X}).join(this.config.delimiter):this.passedElement.options=L;var H=function(j){var X=M._getTemplate("item",j,$);x.appendChild(X)};return L.forEach(H),x},P.prototype._triggerChange=function(L){L!=null&&this.passedElement.triggerEvent(w.EVENTS.change,{value:L})},P.prototype._selectPlaceholderChoice=function(L){this._addItem({value:L.value,label:L.label,choiceId:L.id,groupId:L.groupId,placeholder:L.placeholder}),this._triggerChange(L.value)},P.prototype._handleButtonAction=function(L,x){if(!(!L||!x||!this.config.removeItems||!this.config.removeItemButton)){var M=x.parentNode&&x.parentNode.dataset.id,k=M&&L.find(function(R){return R.id===parseInt(M,10)});!k||(this._removeItem(k),this._triggerChange(k.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},P.prototype._handleItemAction=function(L,x,M){var k=this;if(M===void 0&&(M=!1),!(!L||!x||!this.config.removeItems||this._isSelectOneElement)){var R=x.dataset.id;L.forEach(function(B){B.id===parseInt("".concat(R),10)&&!B.highlighted?k.highlightItem(B):!M&&B.highlighted&&k.unhighlightItem(B)}),this.input.focus()}},P.prototype._handleChoiceAction=function(L,x){if(!(!L||!x)){var M=x.dataset.id,k=M&&this._store.getChoiceById(M);if(!!k){var R=L[0]&&L[0].keyCode?L[0].keyCode:void 0,B=this.dropdown.isActive;if(k.keyCode=R,this.passedElement.triggerEvent(w.EVENTS.choice,{choice:k}),!k.selected&&!k.disabled){var $=this._canAddItem(L,k.value);$.response&&(this._addItem({value:k.value,label:k.label,choiceId:k.id,groupId:k.groupId,customProperties:k.customProperties,placeholder:k.placeholder,keyCode:k.keyCode}),this._triggerChange(k.value))}this.clearInput(),B&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},P.prototype._handleBackspace=function(L){if(!(!this.config.removeItems||!L)){var x=L[L.length-1],M=L.some(function(k){return k.highlighted});this.config.editItems&&!M&&x?(this.input.value=x.value,this.input.setWidth(),this._removeItem(x),this._triggerChange(x.value)):(M||this.highlightItem(x,!1),this.removeHighlightedItems(!0))}},P.prototype._startLoading=function(){this._store.dispatch((0,_.setIsLoading)(!0))},P.prototype._stopLoading=function(){this._store.dispatch((0,_.setIsLoading)(!1))},P.prototype._handleLoadingState=function(L){L===void 0&&(L=!0);var x=this.itemList.getChild(".".concat(this.config.classNames.placeholder));L?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?x?x.innerHTML=this.config.loadingText:(x=this._getTemplate("placeholder",this.config.loadingText),x&&this.itemList.append(x)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?x&&(x.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},P.prototype._handleSearch=function(L){if(!!this.input.isFocussed){var x=this._store.choices,M=this.config,k=M.searchFloor,R=M.searchChoices,B=x.some(function(H){return!H.active});if(L!==null&&typeof L<"u"&&L.length>=k){var $=R?this._searchChoices(L):0;this.passedElement.triggerEvent(w.EVENTS.search,{value:L,resultCount:$})}else B&&(this._isSearching=!1,this._store.dispatch((0,g.activateChoices)(!0)))}},P.prototype._canAddItem=function(L,x){var M=!0,k=typeof this.config.addItemText=="function"?this.config.addItemText(x):this.config.addItemText;if(!this._isSelectOneElement){var R=(0,b.existsInArray)(L,x);this.config.maxItemCount>0&&this.config.maxItemCount<=L.length&&(M=!1,k=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&R&&M&&(M=!1,k=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(x):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&M&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(x)&&(M=!1,k=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(x):this.config.customAddItemText)}return{response:M,notice:k}},P.prototype._searchChoices=function(L){var x=typeof L=="string"?L.trim():L,M=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(x.length<1&&x==="".concat(M," "))return 0;var k=this._store.searchableChoices,R=x,B=Object.assign(this.config.fuseOptions,{keys:c([],this.config.searchFields,!0),includeMatches:!0}),$=new d.default(k,B),H=$.search(R);return this._currentValue=x,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,g.filterChoices)(H)),H.length},P.prototype._addEventListeners=function(){var L=document.documentElement;L.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),L.addEventListener("click",this._onClick,{passive:!0}),L.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},P.prototype._removeEventListeners=function(){var L=document.documentElement;L.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),L.removeEventListener("click",this._onClick),L.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},P.prototype._onKeyDown=function(L){var x=L.keyCode,M=this._store.activeItems,k=this.input.isFocussed,R=this.dropdown.isActive,B=this.itemList.hasChildren(),$=String.fromCharCode(x),H=/[a-zA-Z0-9-_ ]/.test($),j=w.KEY_CODES.BACK_KEY,X=w.KEY_CODES.DELETE_KEY,ft=w.KEY_CODES.ENTER_KEY,at=w.KEY_CODES.A_KEY,ht=w.KEY_CODES.ESC_KEY,vt=w.KEY_CODES.UP_KEY,ct=w.KEY_CODES.DOWN_KEY,bt=w.KEY_CODES.PAGE_UP_KEY,wt=w.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!R&&H&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=$.toLowerCase())),x){case at:return this._onSelectKey(L,B);case ft:return this._onEnterKey(L,M,R);case ht:return this._onEscapeKey(R);case vt:case bt:case ct:case wt:return this._onDirectionKey(L,R);case X:case j:return this._onDeleteKey(L,M,k)}},P.prototype._onKeyUp=function(L){var x=L.target,M=L.keyCode,k=this.input.value,R=this._store.activeItems,B=this._canAddItem(R,k),$=w.KEY_CODES.BACK_KEY,H=w.KEY_CODES.DELETE_KEY;if(this._isTextElement){var j=B.notice&&k;if(j){var X=this._getTemplate("notice",B.notice);this.dropdown.element.innerHTML=X.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var ft=M===$||M===H,at=ft&&x&&!x.value,ht=!this._isTextElement&&this._isSearching,vt=this._canSearch&&B.response;at&&ht?(this._isSearching=!1,this._store.dispatch((0,g.activateChoices)(!0))):vt&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},P.prototype._onSelectKey=function(L,x){var M=L.ctrlKey,k=L.metaKey,R=M||k;if(R&&x){this._canSearch=!1;var B=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;B&&this.highlightAll()}},P.prototype._onEnterKey=function(L,x,M){var k=L.target,R=w.KEY_CODES.ENTER_KEY,B=k&&k.hasAttribute("data-button");if(this._isTextElement&&k&&k.value){var $=this.input.value,H=this._canAddItem(x,$);H.response&&(this.hideDropdown(!0),this._addItem({value:$}),this._triggerChange($),this.clearInput())}if(B&&(this._handleButtonAction(x,k),L.preventDefault()),M){var j=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));j&&(x[0]&&(x[0].keyCode=R),this._handleChoiceAction(x,j)),L.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),L.preventDefault())},P.prototype._onEscapeKey=function(L){L&&(this.hideDropdown(!0),this.containerOuter.focus())},P.prototype._onDirectionKey=function(L,x){var M=L.keyCode,k=L.metaKey,R=w.KEY_CODES.DOWN_KEY,B=w.KEY_CODES.PAGE_UP_KEY,$=w.KEY_CODES.PAGE_DOWN_KEY;if(x||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var H=M===R||M===$?1:-1,j=k||M===$||M===B,X="[data-choice-selectable]",ft=void 0;if(j)H>0?ft=this.dropdown.element.querySelector("".concat(X,":last-of-type")):ft=this.dropdown.element.querySelector(X);else{var at=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));at?ft=(0,b.getAdjacentEl)(at,X,H):ft=this.dropdown.element.querySelector(X)}ft&&((0,b.isScrolledIntoView)(ft,this.choiceList.element,H)||this.choiceList.scrollToChildElement(ft,H),this._highlightChoice(ft)),L.preventDefault()}},P.prototype._onDeleteKey=function(L,x,M){var k=L.target;!this._isSelectOneElement&&!k.value&&M&&(this._handleBackspace(x),L.preventDefault())},P.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},P.prototype._onTouchEnd=function(L){var x=(L||L.touches[0]).target,M=this._wasTap&&this.containerOuter.element.contains(x);if(M){var k=x===this.containerOuter.element||x===this.containerInner.element;k&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),L.stopPropagation()}this._wasTap=!0},P.prototype._onMouseDown=function(L){var x=L.target;if(x instanceof HTMLElement){if(C&&this.choiceList.element.contains(x)){var M=this.choiceList.element.firstElementChild,k=this._direction==="ltr"?L.offsetX>=M.offsetWidth:L.offsetX<M.offsetLeft;this._isScrollingOnIe=k}if(x!==this.input.element){var R=x.closest("[data-button],[data-item],[data-choice]");if(R instanceof HTMLElement){var B=L.shiftKey,$=this._store.activeItems,H=R.dataset;"button"in H?this._handleButtonAction($,R):"item"in H?this._handleItemAction($,R,B):"choice"in H&&this._handleChoiceAction($,R)}L.preventDefault()}}},P.prototype._onMouseOver=function(L){var x=L.target;x instanceof HTMLElement&&"choice"in x.dataset&&this._highlightChoice(x)},P.prototype._onClick=function(L){var x=L.target,M=this.containerOuter.element.contains(x);if(M)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&x!==this.input.element&&!this.dropdown.element.contains(x)&&this.hideDropdown();else{var k=this._store.highlightedActiveItems.length>0;k&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},P.prototype._onFocus=function(L){var x,M=this,k=L.target,R=k&&this.containerOuter.element.contains(k);if(!!R){var B=(x={},x[w.TEXT_TYPE]=function(){k===M.input.element&&M.containerOuter.addFocusState()},x[w.SELECT_ONE_TYPE]=function(){M.containerOuter.addFocusState(),k===M.input.element&&M.showDropdown(!0)},x[w.SELECT_MULTIPLE_TYPE]=function(){k===M.input.element&&(M.showDropdown(!0),M.containerOuter.addFocusState())},x);B[this.passedElement.element.type]()}},P.prototype._onBlur=function(L){var x,M=this,k=L.target,R=k&&this.containerOuter.element.contains(k);if(R&&!this._isScrollingOnIe){var B=this._store.activeItems,$=B.some(function(j){return j.highlighted}),H=(x={},x[w.TEXT_TYPE]=function(){k===M.input.element&&(M.containerOuter.removeFocusState(),$&&M.unhighlightAll(),M.hideDropdown(!0))},x[w.SELECT_ONE_TYPE]=function(){M.containerOuter.removeFocusState(),(k===M.input.element||k===M.containerOuter.element&&!M._canSearch)&&M.hideDropdown(!0)},x[w.SELECT_MULTIPLE_TYPE]=function(){k===M.input.element&&(M.containerOuter.removeFocusState(),M.hideDropdown(!0),$&&M.unhighlightAll())},x);H[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},P.prototype._onFormReset=function(){this._store.dispatch((0,_.resetTo)(this._initialState))},P.prototype._highlightChoice=function(L){var x=this;L===void 0&&(L=null);var M=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(!!M.length){var k=L,R=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));R.forEach(function(B){B.classList.remove(x.config.classNames.highlightedState),B.setAttribute("aria-selected","false")}),k?this._highlightPosition=M.indexOf(k):(M.length>this._highlightPosition?k=M[this._highlightPosition]:k=M[M.length-1],k||(k=M[0])),k.classList.add(this.config.classNames.highlightedState),k.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(w.EVENTS.highlightChoice,{el:k}),this.dropdown.isActive&&(this.input.setActiveDescendant(k.id),this.containerOuter.setActiveDescendant(k.id))}},P.prototype._addItem=function(L){var x=L.value,M=L.label,k=M===void 0?null:M,R=L.choiceId,B=R===void 0?-1:R,$=L.groupId,H=$===void 0?-1:$,j=L.customProperties,X=j===void 0?{}:j,ft=L.placeholder,at=ft===void 0?!1:ft,ht=L.keyCode,vt=ht===void 0?-1:ht,ct=typeof x=="string"?x.trim():x,bt=this._store.items,wt=k||ct,Rt=B||-1,Ot=H>=0?this._store.getGroupById(H):null,ee=bt?bt.length+1:1;this.config.prependValue&&(ct=this.config.prependValue+ct.toString()),this.config.appendValue&&(ct+=this.config.appendValue.toString()),this._store.dispatch((0,m.addItem)({value:ct,label:wt,id:ee,choiceId:Rt,groupId:H,customProperties:X,placeholder:at,keyCode:vt})),this._isSelectOneElement&&this.removeActiveItems(ee),this.passedElement.triggerEvent(w.EVENTS.addItem,{id:ee,value:ct,label:wt,customProperties:X,groupValue:Ot&&Ot.value?Ot.value:null,keyCode:vt})},P.prototype._removeItem=function(L){var x=L.id,M=L.value,k=L.label,R=L.customProperties,B=L.choiceId,$=L.groupId,H=$&&$>=0?this._store.getGroupById($):null;!x||!B||(this._store.dispatch((0,m.removeItem)(x,B)),this.passedElement.triggerEvent(w.EVENTS.removeItem,{id:x,value:M,label:k,customProperties:R,groupValue:H&&H.value?H.value:null}))},P.prototype._addChoice=function(L){var x=L.value,M=L.label,k=M===void 0?null:M,R=L.isSelected,B=R===void 0?!1:R,$=L.isDisabled,H=$===void 0?!1:$,j=L.groupId,X=j===void 0?-1:j,ft=L.customProperties,at=ft===void 0?{}:ft,ht=L.placeholder,vt=ht===void 0?!1:ht,ct=L.keyCode,bt=ct===void 0?-1:ct;if(!(typeof x>"u"||x===null)){var wt=this._store.choices,Rt=k||x,Ot=wt?wt.length+1:1,ee="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(Ot);this._store.dispatch((0,g.addChoice)({id:Ot,groupId:X,elementId:ee,value:x,label:Rt,disabled:H,customProperties:at,placeholder:vt,keyCode:bt})),B&&this._addItem({value:x,label:Rt,choiceId:Ot,customProperties:at,placeholder:vt,keyCode:bt})}},P.prototype._addGroup=function(L){var x=this,M=L.group,k=L.id,R=L.valueKey,B=R===void 0?"value":R,$=L.labelKey,H=$===void 0?"label":$,j=(0,b.isType)("Object",M)?M.choices:Array.from(M.getElementsByTagName("OPTION")),X=k||Math.floor(new Date().valueOf()*Math.random()),ft=M.disabled?M.disabled:!1;if(j){this._store.dispatch((0,y.addGroup)({value:M.label,id:X,active:!0,disabled:ft}));var at=function(ht){var vt=ht.disabled||ht.parentNode&&ht.parentNode.disabled;x._addChoice({value:ht[B],label:(0,b.isType)("Object",ht)?ht[H]:ht.innerHTML,isSelected:ht.selected,isDisabled:vt,groupId:X,customProperties:ht.customProperties,placeholder:ht.placeholder})};j.forEach(at)}else this._store.dispatch((0,y.addGroup)({value:M.label,id:M.id,active:!1,disabled:M.disabled}))},P.prototype._getTemplate=function(L){for(var x,M=[],k=1;k<arguments.length;k++)M[k-1]=arguments[k];return(x=this._templates[L]).call.apply(x,c([this,this.config],M,!1))},P.prototype._createTemplates=function(){var L=this.config.callbackOnCreateTemplates,x={};L&&typeof L=="function"&&(x=L.call(this,b.strToEl)),this._templates=(0,p.default)(S.default,x)},P.prototype._createElements=function(){this.containerOuter=new E.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new E.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new E.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new E.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new E.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new E.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},P.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},P.prototype._addPredefinedGroups=function(L){var x=this,M=this.passedElement.placeholderOption;M&&M.parentNode&&M.parentNode.tagName==="SELECT"&&this._addChoice({value:M.value,label:M.innerHTML,isSelected:M.selected,isDisabled:M.disabled,placeholder:!0}),L.forEach(function(k){return x._addGroup({group:k,id:k.id||null})})},P.prototype._addPredefinedChoices=function(L){var x=this;this.config.shouldSort&&L.sort(this.config.sorter);var M=L.some(function(R){return R.selected}),k=L.findIndex(function(R){return R.disabled===void 0||!R.disabled});L.forEach(function(R,B){var $=R.value,H=$===void 0?"":$,j=R.label,X=R.customProperties,ft=R.placeholder;if(x._isSelectElement)if(R.choices)x._addGroup({group:R,id:R.id||null});else{var at=x._isSelectOneElement&&!M&&B===k,ht=at?!0:R.selected,vt=R.disabled;x._addChoice({value:H,label:j,isSelected:!!ht,isDisabled:!!vt,placeholder:!!ft,customProperties:X})}else x._addChoice({value:H,label:j,isSelected:!!R.selected,isDisabled:!!R.disabled,placeholder:!!R.placeholder,customProperties:X})})},P.prototype._addPredefinedItems=function(L){var x=this;L.forEach(function(M){typeof M=="object"&&M.value&&x._addItem({value:M.value,label:M.label,choiceId:M.id,customProperties:M.customProperties,placeholder:M.placeholder}),typeof M=="string"&&x._addItem({value:M})})},P.prototype._setChoiceOrItem=function(L){var x=this,M=(0,b.getType)(L).toLowerCase(),k={object:function(){!L.value||(x._isTextElement?x._addItem({value:L.value,label:L.label,choiceId:L.id,customProperties:L.customProperties,placeholder:L.placeholder}):x._addChoice({value:L.value,label:L.label,isSelected:!0,isDisabled:!1,customProperties:L.customProperties,placeholder:L.placeholder}))},string:function(){x._isTextElement?x._addItem({value:L}):x._addChoice({value:L,label:L,isSelected:!0,isDisabled:!1})}};k[M]()},P.prototype._findAndSelectChoiceByValue=function(L){var x=this,M=this._store.choices,k=M.find(function(R){return x.config.valueComparer(R.value,L)});k&&!k.selected&&this._addItem({value:k.value,label:k.label,choiceId:k.id,groupId:k.groupId,customProperties:k.customProperties,placeholder:k.placeholder,keyCode:k.keyCode})},P.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var L=this.passedElement.placeholderOption;return L?L.text:null}var x=this.config,M=x.placeholder,k=x.placeholderValue,R=this.passedElement.element.dataset;if(M){if(k)return k;if(R.placeholder)return R.placeholder}return null},P}();a.default=N},613:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(799),h=u(883),p=function(){function d(g){var y=g.element,m=g.type,_=g.classNames,E=g.position;this.element=y,this.classNames=_,this.type=m,this.position=E,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return d.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},d.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.shouldFlip=function(g){if(typeof g!="number")return!1;var y=!1;return this.position==="auto"?y=!window.matchMedia("(min-height: ".concat(g+1,"px)")).matches:this.position==="top"&&(y=!0),y},d.prototype.setActiveDescendant=function(g){this.element.setAttribute("aria-activedescendant",g)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype.open=function(g){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(g)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},d.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},d.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},d.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},d.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},d.prototype.wrap=function(g){(0,c.wrap)(g,this.element)},d.prototype.unwrap=function(g){this.element.parentNode&&(this.element.parentNode.insertBefore(g,this.element),this.element.parentNode.removeChild(this.element))},d.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},d.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=p},217:function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function c(h){var p=h.element,d=h.type,g=h.classNames;this.element=p,this.classNames=g,this.type=d,this.isActive=!1}return Object.defineProperty(c.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),c.prototype.getChild=function(h){return this.element.querySelector(h)},c.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},c.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},c}();a.default=u},520:function(s,a,u){var c=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(a,"__esModule",{value:!0}),a.WrappedSelect=a.WrappedInput=a.List=a.Input=a.Container=a.Dropdown=void 0;var h=c(u(217));a.Dropdown=h.default;var p=c(u(613));a.Container=p.default;var d=c(u(11));a.Input=d.default;var g=c(u(624));a.List=g.default;var y=c(u(541));a.WrappedInput=y.default;var m=c(u(982));a.WrappedSelect=m.default},11:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(799),h=u(883),p=function(){function d(g){var y=g.element,m=g.type,_=g.classNames,E=g.preventPaste;this.element=y,this.type=m,this.classNames=_,this.preventPaste=E,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=y.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(d.prototype,"placeholder",{set:function(g){this.element.placeholder=g},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return(0,c.sanitise)(this.element.value)},set:function(g){this.element.value=g},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),d.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},d.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},d.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.blur=function(){this.isFocussed&&this.element.blur()},d.prototype.clear=function(g){return g===void 0&&(g=!0),this.element.value&&(this.element.value=""),g&&this.setWidth(),this},d.prototype.setWidth=function(){var g=this.element,y=g.style,m=g.value,_=g.placeholder;y.minWidth="".concat(_.length+1,"ch"),y.width="".concat(m.length+1,"ch")},d.prototype.setActiveDescendant=function(g){this.element.setAttribute("aria-activedescendant",g)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype._onInput=function(){this.type!==h.SELECT_ONE_TYPE&&this.setWidth()},d.prototype._onPaste=function(g){this.preventPaste&&g.preventDefault()},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=p},624:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(883),h=function(){function p(d){var g=d.element;this.element=g,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return p.prototype.clear=function(){this.element.innerHTML=""},p.prototype.append=function(d){this.element.appendChild(d)},p.prototype.getChild=function(d){return this.element.querySelector(d)},p.prototype.hasChildren=function(){return this.element.hasChildNodes()},p.prototype.scrollToTop=function(){this.element.scrollTop=0},p.prototype.scrollToChildElement=function(d,g){var y=this;if(!!d){var m=this.element.offsetHeight,_=this.element.scrollTop+m,E=d.offsetHeight,w=d.offsetTop+E,v=g>0?this.element.scrollTop+w-_:d.offsetTop;requestAnimationFrame(function(){y._animateScroll(v,g)})}},p.prototype._scrollDown=function(d,g,y){var m=(y-d)/g,_=m>1?m:1;this.element.scrollTop=d+_},p.prototype._scrollUp=function(d,g,y){var m=(d-y)/g,_=m>1?m:1;this.element.scrollTop=d-_},p.prototype._animateScroll=function(d,g){var y=this,m=c.SCROLLING_SPEED,_=this.element.scrollTop,E=!1;g>0?(this._scrollDown(_,m,d),_<d&&(E=!0)):(this._scrollUp(_,m,d),_>d&&(E=!0)),E&&requestAnimationFrame(function(){y._animateScroll(d,g)})},p}();a.default=h},730:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var c=u(799),h=function(){function p(d){var g=d.element,y=d.classNames;if(this.element=g,this.classNames=y,!(g instanceof HTMLInputElement)&&!(g instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(p.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.element.value},set:function(d){this.element.value=d},enumerable:!1,configurable:!0}),p.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var d=this.element.getAttribute("style");d&&this.element.setAttribute("data-choice-orig-style",d),this.element.setAttribute("data-choice","active")},p.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var d=this.element.getAttribute("data-choice-orig-style");d?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",d)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},p.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},p.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},p.prototype.triggerEvent=function(d,g){(0,c.dispatchEvent)(this.element,d,g)},p}();a.default=h},541:function(s,a,u){var c=this&&this.__extends||function(){var g=function(y,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(_[w]=E[w])},g(y,m)};return function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");g(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),h=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});var p=h(u(730)),d=function(g){c(y,g);function y(m){var _=m.element,E=m.classNames,w=m.delimiter,v=g.call(this,{element:_,classNames:E})||this;return v.delimiter=w,v}return Object.defineProperty(y.prototype,"value",{get:function(){return this.element.value},set:function(m){this.element.setAttribute("value",m),this.element.value=m},enumerable:!1,configurable:!0}),y}(p.default);a.default=d},982:function(s,a,u){var c=this&&this.__extends||function(){var g=function(y,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(_[w]=E[w])},g(y,m)};return function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");g(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),h=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});var p=h(u(730)),d=function(g){c(y,g);function y(m){var _=m.element,E=m.classNames,w=m.template,v=g.call(this,{element:_,classNames:E})||this;return v.template=w,v}return Object.defineProperty(y.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(m){var _=this,E=document.createDocumentFragment(),w=function(v){var b=_.template(v);E.appendChild(b)};m.forEach(function(v){return w(v)}),this.appendDocFragment(E)},enumerable:!1,configurable:!0}),y.prototype.appendDocFragment=function(m){this.element.innerHTML="",this.element.appendChild(m)},y}(p.default);a.default=d},883:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SCROLLING_SPEED=a.SELECT_MULTIPLE_TYPE=a.SELECT_ONE_TYPE=a.TEXT_TYPE=a.KEY_CODES=a.ACTION_TYPES=a.EVENTS=void 0,a.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},a.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},a.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},a.TEXT_TYPE="text",a.SELECT_ONE_TYPE="select-one",a.SELECT_MULTIPLE_TYPE="select-multiple",a.SCROLLING_SPEED=4},789:function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CONFIG=a.DEFAULT_CLASSNAMES=void 0;var c=u(799);a.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},a.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:c.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(h){return'Press Enter to add <b>"'.concat((0,c.sanitise)(h),'"</b>')},maxItemText:function(h){return"Only ".concat(h," values can be added")},valueComparer:function(h,p){return h===p},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:a.DEFAULT_CLASSNAMES}},18:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},978:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},948:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},359:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},285:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},533:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},187:function(s,a,u){var c=this&&this.__createBinding||(Object.create?function(p,d,g,y){y===void 0&&(y=g),Object.defineProperty(p,y,{enumerable:!0,get:function(){return d[g]}})}:function(p,d,g,y){y===void 0&&(y=g),p[y]=d[g]}),h=this&&this.__exportStar||function(p,d){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(d,g)&&c(d,p,g)};Object.defineProperty(a,"__esModule",{value:!0}),h(u(18),a),h(u(978),a),h(u(948),a),h(u(359),a),h(u(285),a),h(u(533),a),h(u(287),a),h(u(132),a),h(u(837),a),h(u(598),a),h(u(369),a),h(u(37),a),h(u(47),a),h(u(923),a),h(u(876),a)},287:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},132:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},837:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},598:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},37:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},369:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},47:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},923:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},876:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},799:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.diff=a.cloneObject=a.existsInArray=a.dispatchEvent=a.sortByScore=a.sortByAlpha=a.strToEl=a.sanitise=a.isScrolledIntoView=a.getAdjacentEl=a.wrap=a.isType=a.getType=a.generateId=a.generateChars=a.getRandomNumber=void 0;var u=function(S,C){return Math.floor(Math.random()*(C-S)+S)};a.getRandomNumber=u;var c=function(S){return Array.from({length:S},function(){return(0,a.getRandomNumber)(0,36).toString(36)}).join("")};a.generateChars=c;var h=function(S,C){var D=S.id||S.name&&"".concat(S.name,"-").concat((0,a.generateChars)(2))||(0,a.generateChars)(4);return D=D.replace(/(:|\.|\[|\]|,)/g,""),D="".concat(C,"-").concat(D),D};a.generateId=h;var p=function(S){return Object.prototype.toString.call(S).slice(8,-1)};a.getType=p;var d=function(S,C){return C!=null&&(0,a.getType)(C)===S};a.isType=d;var g=function(S,C){return C===void 0&&(C=document.createElement("div")),S.parentNode&&(S.nextSibling?S.parentNode.insertBefore(C,S.nextSibling):S.parentNode.appendChild(C)),C.appendChild(S)};a.wrap=g;var y=function(S,C,D){D===void 0&&(D=1);for(var N="".concat(D>0?"next":"previous","ElementSibling"),P=S[N];P;){if(P.matches(C))return P;P=P[N]}return P};a.getAdjacentEl=y;var m=function(S,C,D){if(D===void 0&&(D=1),!S)return!1;var N;return D>0?N=C.scrollTop+C.offsetHeight>=S.offsetTop+S.offsetHeight:N=S.offsetTop>=C.scrollTop,N};a.isScrolledIntoView=m;var _=function(S){return typeof S!="string"?S:S.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};a.sanitise=_,a.strToEl=function(){var S=document.createElement("div");return function(C){var D=C.trim();S.innerHTML=D;for(var N=S.children[0];S.firstChild;)S.removeChild(S.firstChild);return N}}();var E=function(S,C){var D=S.value,N=S.label,P=N===void 0?D:N,L=C.value,x=C.label,M=x===void 0?L:x;return P.localeCompare(M,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};a.sortByAlpha=E;var w=function(S,C){var D=S.score,N=D===void 0?0:D,P=C.score,L=P===void 0?0:P;return N-L};a.sortByScore=w;var v=function(S,C,D){D===void 0&&(D=null);var N=new CustomEvent(C,{detail:D,bubbles:!0,cancelable:!0});return S.dispatchEvent(N)};a.dispatchEvent=v;var b=function(S,C,D){return D===void 0&&(D="value"),S.some(function(N){return typeof C=="string"?N[D]===C.trim():N[D]===C})};a.existsInArray=b;var T=function(S){return JSON.parse(JSON.stringify(S))};a.cloneObject=T;var I=function(S,C){var D=Object.keys(S).sort(),N=Object.keys(C).sort();return D.filter(function(P){return N.indexOf(P)<0})};a.diff=I},273:function(s,a){var u=this&&this.__spreadArray||function(h,p,d){if(d||arguments.length===2)for(var g=0,y=p.length,m;g<y;g++)(m||!(g in p))&&(m||(m=Array.prototype.slice.call(p,0,g)),m[g]=p[g]);return h.concat(m||Array.prototype.slice.call(p))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function c(h,p){switch(h===void 0&&(h=a.defaultState),p===void 0&&(p={}),p.type){case"ADD_CHOICE":{var d=p,g={id:d.id,elementId:d.elementId,groupId:d.groupId,value:d.value,label:d.label||d.value,disabled:d.disabled||!1,selected:!1,active:!0,score:9999,customProperties:d.customProperties,placeholder:d.placeholder||!1};return u(u([],h,!0),[g],!1)}case"ADD_ITEM":{var y=p;return y.choiceId>-1?h.map(function(w){var v=w;return v.id===parseInt("".concat(y.choiceId),10)&&(v.selected=!0),v}):h}case"REMOVE_ITEM":{var m=p;return m.choiceId&&m.choiceId>-1?h.map(function(w){var v=w;return v.id===parseInt("".concat(m.choiceId),10)&&(v.selected=!1),v}):h}case"FILTER_CHOICES":{var _=p;return h.map(function(w){var v=w;return v.active=_.results.some(function(b){var T=b.item,I=b.score;return T.id===v.id?(v.score=I,!0):!1}),v})}case"ACTIVATE_CHOICES":{var E=p;return h.map(function(w){var v=w;return v.active=E.active,v})}case"CLEAR_CHOICES":return a.defaultState;default:return h}}a.default=c},871:function(s,a){var u=this&&this.__spreadArray||function(h,p,d){if(d||arguments.length===2)for(var g=0,y=p.length,m;g<y;g++)(m||!(g in p))&&(m||(m=Array.prototype.slice.call(p,0,g)),m[g]=p[g]);return h.concat(m||Array.prototype.slice.call(p))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function c(h,p){switch(h===void 0&&(h=a.defaultState),p===void 0&&(p={}),p.type){case"ADD_GROUP":{var d=p;return u(u([],h,!0),[{id:d.id,value:d.value,active:d.active,disabled:d.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return h}}a.default=c},655:function(s,a,u){var c=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0;var h=u(857),p=c(u(52)),d=c(u(871)),g=c(u(273)),y=c(u(502)),m=u(799);a.defaultState={groups:[],items:[],choices:[],loading:!1};var _=(0,h.combineReducers)({items:p.default,groups:d.default,choices:g.default,loading:y.default}),E=function(w,v){var b=w;if(v.type==="CLEAR_ALL")b=a.defaultState;else if(v.type==="RESET_TO")return(0,m.cloneObject)(v.state);return _(b,v)};a.default=E},52:function(s,a){var u=this&&this.__spreadArray||function(h,p,d){if(d||arguments.length===2)for(var g=0,y=p.length,m;g<y;g++)(m||!(g in p))&&(m||(m=Array.prototype.slice.call(p,0,g)),m[g]=p[g]);return h.concat(m||Array.prototype.slice.call(p))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function c(h,p){switch(h===void 0&&(h=a.defaultState),p===void 0&&(p={}),p.type){case"ADD_ITEM":{var d=p,g=u(u([],h,!0),[{id:d.id,choiceId:d.choiceId,groupId:d.groupId,value:d.value,label:d.label,active:!0,highlighted:!1,customProperties:d.customProperties,placeholder:d.placeholder||!1,keyCode:null}],!1);return g.map(function(m){var _=m;return _.highlighted=!1,_})}case"REMOVE_ITEM":return h.map(function(m){var _=m;return _.id===p.id&&(_.active=!1),_});case"HIGHLIGHT_ITEM":{var y=p;return h.map(function(m){var _=m;return _.id===y.id&&(_.highlighted=y.highlighted),_})}default:return h}}a.default=c},502:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=!1;var u=function(c,h){switch(c===void 0&&(c=a.defaultState),h===void 0&&(h={}),h.type){case"SET_IS_LOADING":return h.isLoading;default:return c}};a.default=u},744:function(s,a,u){var c=this&&this.__spreadArray||function(y,m,_){if(_||arguments.length===2)for(var E=0,w=m.length,v;E<w;E++)(v||!(E in m))&&(v||(v=Array.prototype.slice.call(m,0,E)),v[E]=m[E]);return y.concat(v||Array.prototype.slice.call(m))},h=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0});var p=u(857),d=h(u(655)),g=function(){function y(){this._store=(0,p.createStore)(d.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return y.prototype.subscribe=function(m){this._store.subscribe(m)},y.prototype.dispatch=function(m){this._store.dispatch(m)},Object.defineProperty(y.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"activeItems",{get:function(){return this.items.filter(function(m){return m.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(m){return m.active&&m.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"activeChoices",{get:function(){return this.choices.filter(function(m){return m.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(m){return m.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(m){return m.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"placeholderChoice",{get:function(){return c([],this.choices,!0).reverse().find(function(m){return m.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"activeGroups",{get:function(){var m=this,_=m.groups,E=m.choices;return _.filter(function(w){var v=w.active===!0&&w.disabled===!1,b=E.some(function(T){return T.active===!0&&T.disabled===!1});return v&&b},[])},enumerable:!1,configurable:!0}),y.prototype.isLoading=function(){return this.state.loading},y.prototype.getChoiceById=function(m){return this.activeChoices.find(function(_){return _.id===parseInt(m,10)})},y.prototype.getGroupById=function(m){return this.groups.find(function(_){return _.id===m})},y}();a.default=g},686:function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var u={containerOuter:function(c,h,p,d,g,y,m){var _=c.classNames.containerOuter,E=Object.assign(document.createElement("div"),{className:_});return E.dataset.type=y,h&&(E.dir=h),d&&(E.tabIndex=0),p&&(E.setAttribute("role",g?"combobox":"listbox"),g&&E.setAttribute("aria-autocomplete","list")),E.setAttribute("aria-haspopup","true"),E.setAttribute("aria-expanded","false"),m&&E.setAttribute("aria-labeledby",m),E},containerInner:function(c){var h=c.classNames.containerInner;return Object.assign(document.createElement("div"),{className:h})},itemList:function(c,h){var p=c.classNames,d=p.list,g=p.listSingle,y=p.listItems;return Object.assign(document.createElement("div"),{className:"".concat(d," ").concat(h?g:y)})},placeholder:function(c,h){var p,d=c.allowHTML,g=c.classNames.placeholder;return Object.assign(document.createElement("div"),(p={className:g},p[d?"innerHTML":"innerText"]=h,p))},item:function(c,h,p){var d,g,y=c.allowHTML,m=c.classNames,_=m.item,E=m.button,w=m.highlightedState,v=m.itemSelectable,b=m.placeholder,T=h.id,I=h.value,S=h.label,C=h.customProperties,D=h.active,N=h.disabled,P=h.highlighted,L=h.placeholder,x=Object.assign(document.createElement("div"),(d={className:_},d[y?"innerHTML":"innerText"]=S,d));if(Object.assign(x.dataset,{item:"",id:T,value:I,customProperties:C}),D&&x.setAttribute("aria-selected","true"),N&&x.setAttribute("aria-disabled","true"),L&&x.classList.add(b),x.classList.add(P?w:v),p){N&&x.classList.remove(v),x.dataset.deletable="";var M="Remove item",k=Object.assign(document.createElement("button"),(g={type:"button",className:E},g[y?"innerHTML":"innerText"]=M,g));k.setAttribute("aria-label","".concat(M,": '").concat(I,"'")),k.dataset.button="",x.appendChild(k)}return x},choiceList:function(c,h){var p=c.classNames.list,d=Object.assign(document.createElement("div"),{className:p});return h||d.setAttribute("aria-multiselectable","true"),d.setAttribute("role","listbox"),d},choiceGroup:function(c,h){var p,d=c.allowHTML,g=c.classNames,y=g.group,m=g.groupHeading,_=g.itemDisabled,E=h.id,w=h.value,v=h.disabled,b=Object.assign(document.createElement("div"),{className:"".concat(y," ").concat(v?_:"")});return b.setAttribute("role","group"),Object.assign(b.dataset,{group:"",id:E,value:w}),v&&b.setAttribute("aria-disabled","true"),b.appendChild(Object.assign(document.createElement("div"),(p={className:m},p[d?"innerHTML":"innerText"]=w,p))),b},choice:function(c,h,p){var d,g=c.allowHTML,y=c.classNames,m=y.item,_=y.itemChoice,E=y.itemSelectable,w=y.selectedState,v=y.itemDisabled,b=y.placeholder,T=h.id,I=h.value,S=h.label,C=h.groupId,D=h.elementId,N=h.disabled,P=h.selected,L=h.placeholder,x=Object.assign(document.createElement("div"),(d={id:D},d[g?"innerHTML":"innerText"]=S,d.className="".concat(m," ").concat(_),d));return P&&x.classList.add(w),L&&x.classList.add(b),x.setAttribute("role",C&&C>0?"treeitem":"option"),Object.assign(x.dataset,{choice:"",id:T,value:I,selectText:p}),N?(x.classList.add(v),x.dataset.choiceDisabled="",x.setAttribute("aria-disabled","true")):(x.classList.add(E),x.dataset.choiceSelectable=""),x},input:function(c,h){var p=c.classNames,d=p.input,g=p.inputCloned,y=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(d," ").concat(g),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return y.setAttribute("role","textbox"),y.setAttribute("aria-autocomplete","list"),y.setAttribute("aria-label",h),y},dropdown:function(c){var h=c.classNames,p=h.list,d=h.listDropdown,g=document.createElement("div");return g.classList.add(p,d),g.setAttribute("aria-expanded","false"),g},notice:function(c,h,p){var d,g=c.allowHTML,y=c.classNames,m=y.item,_=y.itemChoice,E=y.noResults,w=y.noChoices;p===void 0&&(p="");var v=[m,_];return p==="no-choices"?v.push(w):p==="no-results"&&v.push(E),Object.assign(document.createElement("div"),(d={},d[g?"innerHTML":"innerText"]=h,d.className=v.join(" "),d))},option:function(c){var h=c.label,p=c.value,d=c.customProperties,g=c.active,y=c.disabled,m=new Option(h,p,!1,g);return d&&(m.dataset.customProperties="".concat(d)),m.disabled=!!y,m}};a.default=u},996:function(s){var a=function(D){return u(D)&&!c(D)};function u(C){return!!C&&typeof C=="object"}function c(C){var D=Object.prototype.toString.call(C);return D==="[object RegExp]"||D==="[object Date]"||d(C)}var h=typeof Symbol=="function"&&Symbol.for,p=h?Symbol.for("react.element"):60103;function d(C){return C.$$typeof===p}function g(C){return Array.isArray(C)?[]:{}}function y(C,D){return D.clone!==!1&&D.isMergeableObject(C)?I(g(C),C,D):C}function m(C,D,N){return C.concat(D).map(function(P){return y(P,N)})}function _(C,D){if(!D.customMerge)return I;var N=D.customMerge(C);return typeof N=="function"?N:I}function E(C){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(C).filter(function(D){return C.propertyIsEnumerable(D)}):[]}function w(C){return Object.keys(C).concat(E(C))}function v(C,D){try{return D in C}catch{return!1}}function b(C,D){return v(C,D)&&!(Object.hasOwnProperty.call(C,D)&&Object.propertyIsEnumerable.call(C,D))}function T(C,D,N){var P={};return N.isMergeableObject(C)&&w(C).forEach(function(L){P[L]=y(C[L],N)}),w(D).forEach(function(L){b(C,L)||(v(C,L)&&N.isMergeableObject(D[L])?P[L]=_(L,N)(C[L],D[L],N):P[L]=y(D[L],N))}),P}function I(C,D,N){N=N||{},N.arrayMerge=N.arrayMerge||m,N.isMergeableObject=N.isMergeableObject||a,N.cloneUnlessOtherwiseSpecified=y;var P=Array.isArray(D),L=Array.isArray(C),x=P===L;return x?P?N.arrayMerge(C,D,N):T(C,D,N):y(D,N)}I.all=function(D,N){if(!Array.isArray(D))throw new Error("first argument should be an array");return D.reduce(function(P,L){return I(P,L,N)},{})};var S=I;s.exports=S},221:function(s,a,u){u.r(a),u.d(a,{default:function(){return Mr}});function c(J){return Array.isArray?Array.isArray(J):b(J)==="[object Array]"}const h=1/0;function p(J){if(typeof J=="string")return J;let z=J+"";return z=="0"&&1/J==-h?"-0":z}function d(J){return J==null?"":p(J)}function g(J){return typeof J=="string"}function y(J){return typeof J=="number"}function m(J){return J===!0||J===!1||E(J)&&b(J)=="[object Boolean]"}function _(J){return typeof J=="object"}function E(J){return _(J)&&J!==null}function w(J){return J!=null}function v(J){return!J.trim().length}function b(J){return J==null?J===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(J)}const T="Incorrect 'index' type",I=J=>`Invalid value for key ${J}`,S=J=>`Pattern length exceeds max of ${J}.`,C=J=>`Missing ${J} property in key`,D=J=>`Property 'weight' in key '${J}' must be a positive integer`,N=Object.prototype.hasOwnProperty;class P{constructor(z){this._keys=[],this._keyMap={};let Q=0;z.forEach(et=>{let lt=L(et);Q+=lt.weight,this._keys.push(lt),this._keyMap[lt.id]=lt,Q+=lt.weight}),this._keys.forEach(et=>{et.weight/=Q})}get(z){return this._keyMap[z]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function L(J){let z=null,Q=null,et=null,lt=1;if(g(J)||c(J))et=J,z=x(J),Q=M(J);else{if(!N.call(J,"name"))throw new Error(C("name"));const ut=J.name;if(et=ut,N.call(J,"weight")&&(lt=J.weight,lt<=0))throw new Error(D(ut));z=x(ut),Q=M(ut)}return{path:z,id:Q,weight:lt,src:et}}function x(J){return c(J)?J:J.split(".")}function M(J){return c(J)?J.join("."):J}function k(J,z){let Q=[],et=!1;const lt=(ut,gt,yt)=>{if(!!w(ut))if(!gt[yt])Q.push(ut);else{let Et=gt[yt];const At=ut[Et];if(!w(At))return;if(yt===gt.length-1&&(g(At)||y(At)||m(At)))Q.push(d(At));else if(c(At)){et=!0;for(let Ct=0,Ut=At.length;Ct<Ut;Ct+=1)lt(At[Ct],gt,yt+1)}else gt.length&&lt(At,gt,yt+1)}};return lt(J,g(z)?z.split("."):z,0),et?Q:Q[0]}var j={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(J,z)=>J.score===z.score?J.idx<z.idx?-1:1:J.score<z.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:k,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const X=/[^ ]+/g;function ft(J=1,z=3){const Q=new Map,et=Math.pow(10,z);return{get(lt){const ut=lt.match(X).length;if(Q.has(ut))return Q.get(ut);const gt=1/Math.pow(ut,.5*J),yt=parseFloat(Math.round(gt*et)/et);return Q.set(ut,yt),yt},clear(){Q.clear()}}}class at{constructor({getFn:z=j.getFn,fieldNormWeight:Q=j.fieldNormWeight}={}){this.norm=ft(Q,3),this.getFn=z,this.isCreated=!1,this.setIndexRecords()}setSources(z=[]){this.docs=z}setIndexRecords(z=[]){this.records=z}setKeys(z=[]){this.keys=z,this._keysMap={},z.forEach((Q,et)=>{this._keysMap[Q.id]=et})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,g(this.docs[0])?this.docs.forEach((z,Q)=>{this._addString(z,Q)}):this.docs.forEach((z,Q)=>{this._addObject(z,Q)}),this.norm.clear())}add(z){const Q=this.size();g(z)?this._addString(z,Q):this._addObject(z,Q)}removeAt(z){this.records.splice(z,1);for(let Q=z,et=this.size();Q<et;Q+=1)this.records[Q].i-=1}getValueForItemAtKeyId(z,Q){return z[this._keysMap[Q]]}size(){return this.records.length}_addString(z,Q){if(!w(z)||v(z))return;let et={v:z,i:Q,n:this.norm.get(z)};this.records.push(et)}_addObject(z,Q){let et={i:Q,$:{}};this.keys.forEach((lt,ut)=>{let gt=this.getFn(z,lt.path);if(!!w(gt)){if(c(gt)){let yt=[];const Et=[{nestedArrIndex:-1,value:gt}];for(;Et.length;){const{nestedArrIndex:At,value:Ct}=Et.pop();if(!!w(Ct))if(g(Ct)&&!v(Ct)){let Ut={v:Ct,i:At,n:this.norm.get(Ct)};yt.push(Ut)}else c(Ct)&&Ct.forEach((Ut,Kt)=>{Et.push({nestedArrIndex:Kt,value:Ut})})}et.$[ut]=yt}else if(!v(gt)){let yt={v:gt,n:this.norm.get(gt)};et.$[ut]=yt}}}),this.records.push(et)}toJSON(){return{keys:this.keys,records:this.records}}}function ht(J,z,{getFn:Q=j.getFn,fieldNormWeight:et=j.fieldNormWeight}={}){const lt=new at({getFn:Q,fieldNormWeight:et});return lt.setKeys(J.map(L)),lt.setSources(z),lt.create(),lt}function vt(J,{getFn:z=j.getFn,fieldNormWeight:Q=j.fieldNormWeight}={}){const{keys:et,records:lt}=J,ut=new at({getFn:z,fieldNormWeight:Q});return ut.setKeys(et),ut.setIndexRecords(lt),ut}function ct(J,{errors:z=0,currentLocation:Q=0,expectedLocation:et=0,distance:lt=j.distance,ignoreLocation:ut=j.ignoreLocation}={}){const gt=z/J.length;if(ut)return gt;const yt=Math.abs(et-Q);return lt?gt+yt/lt:yt?1:gt}function bt(J=[],z=j.minMatchCharLength){let Q=[],et=-1,lt=-1,ut=0;for(let gt=J.length;ut<gt;ut+=1){let yt=J[ut];yt&&et===-1?et=ut:!yt&&et!==-1&&(lt=ut-1,lt-et+1>=z&&Q.push([et,lt]),et=-1)}return J[ut-1]&&ut-et>=z&&Q.push([et,ut-1]),Q}const wt=32;function Rt(J,z,Q,{location:et=j.location,distance:lt=j.distance,threshold:ut=j.threshold,findAllMatches:gt=j.findAllMatches,minMatchCharLength:yt=j.minMatchCharLength,includeMatches:Et=j.includeMatches,ignoreLocation:At=j.ignoreLocation}={}){if(z.length>wt)throw new Error(S(wt));const Ct=z.length,Ut=J.length,Kt=Math.max(0,Math.min(et,Ut));let le=ut,be=Kt;const _t=yt>1||Et,q=_t?Array(Ut):[];let ot;for(;(ot=J.indexOf(z,be))>-1;){let He=ct(z,{currentLocation:ot,expectedLocation:Kt,distance:lt,ignoreLocation:At});if(le=Math.min(He,le),be=ot+Ct,_t){let de=0;for(;de<Ct;)q[ot+de]=1,de+=1}}be=-1;let pt=[],zt=1,Oe=Ct+Ut;const Pe=1<<Ct-1;for(let He=0;He<Ct;He+=1){let de=0,tn=Oe;for(;de<tn;)ct(z,{errors:He,currentLocation:Kt+tn,expectedLocation:Kt,distance:lt,ignoreLocation:At})<=le?de=tn:Oe=tn,tn=Math.floor((Oe-de)/2+de);Oe=tn;let to=Math.max(1,Kt-tn+1),Xr=gt?Ut:Math.min(Kt+tn,Ut)+Ct,_i=Array(Xr+2);_i[Xr+1]=(1<<He)-1;for(let Fn=Xr;Fn>=to;Fn-=1){let eo=Fn-1,Ws=Q[J.charAt(eo)];if(_t&&(q[eo]=+!!Ws),_i[Fn]=(_i[Fn+1]<<1|1)&Ws,He&&(_i[Fn]|=(pt[Fn+1]|pt[Fn])<<1|1|pt[Fn+1]),_i[Fn]&Pe&&(zt=ct(z,{errors:He,currentLocation:eo,expectedLocation:Kt,distance:lt,ignoreLocation:At}),zt<=le)){if(le=zt,be=eo,be<=Kt)break;to=Math.max(1,2*Kt-be)}}if(ct(z,{errors:He+1,currentLocation:Kt,expectedLocation:Kt,distance:lt,ignoreLocation:At})>le)break;pt=_i}const we={isMatch:be>=0,score:Math.max(.001,zt)};if(_t){const He=bt(q,yt);He.length?Et&&(we.indices=He):we.isMatch=!1}return we}function Ot(J){let z={};for(let Q=0,et=J.length;Q<et;Q+=1){const lt=J.charAt(Q);z[lt]=(z[lt]||0)|1<<et-Q-1}return z}class ee{constructor(z,{location:Q=j.location,threshold:et=j.threshold,distance:lt=j.distance,includeMatches:ut=j.includeMatches,findAllMatches:gt=j.findAllMatches,minMatchCharLength:yt=j.minMatchCharLength,isCaseSensitive:Et=j.isCaseSensitive,ignoreLocation:At=j.ignoreLocation}={}){if(this.options={location:Q,threshold:et,distance:lt,includeMatches:ut,findAllMatches:gt,minMatchCharLength:yt,isCaseSensitive:Et,ignoreLocation:At},this.pattern=Et?z:z.toLowerCase(),this.chunks=[],!this.pattern.length)return;const Ct=(Kt,le)=>{this.chunks.push({pattern:Kt,alphabet:Ot(Kt),startIndex:le})},Ut=this.pattern.length;if(Ut>wt){let Kt=0;const le=Ut%wt,be=Ut-le;for(;Kt<be;)Ct(this.pattern.substr(Kt,wt),Kt),Kt+=wt;if(le){const _t=Ut-wt;Ct(this.pattern.substr(_t),_t)}}else Ct(this.pattern,0)}searchIn(z){const{isCaseSensitive:Q,includeMatches:et}=this.options;if(Q||(z=z.toLowerCase()),this.pattern===z){let be={isMatch:!0,score:0};return et&&(be.indices=[[0,z.length-1]]),be}const{location:lt,distance:ut,threshold:gt,findAllMatches:yt,minMatchCharLength:Et,ignoreLocation:At}=this.options;let Ct=[],Ut=0,Kt=!1;this.chunks.forEach(({pattern:be,alphabet:_t,startIndex:q})=>{const{isMatch:ot,score:pt,indices:zt}=Rt(z,be,_t,{location:lt+q,distance:ut,threshold:gt,findAllMatches:yt,minMatchCharLength:Et,includeMatches:et,ignoreLocation:At});ot&&(Kt=!0),Ut+=pt,ot&&zt&&(Ct=[...Ct,...zt])});let le={isMatch:Kt,score:Kt?Ut/this.chunks.length:1};return Kt&&et&&(le.indices=Ct),le}}class ae{constructor(z){this.pattern=z}static isMultiMatch(z){return an(z,this.multiRegex)}static isSingleMatch(z){return an(z,this.singleRegex)}search(){}}function an(J,z){const Q=J.match(z);return Q?Q[1]:null}class me extends ae{constructor(z){super(z)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(z){const Q=z===this.pattern;return{isMatch:Q,score:Q?0:1,indices:[0,this.pattern.length-1]}}}class qe extends ae{constructor(z){super(z)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(z){const et=z.indexOf(this.pattern)===-1;return{isMatch:et,score:et?0:1,indices:[0,z.length-1]}}}class Yr extends ae{constructor(z){super(z)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(z){const Q=z.startsWith(this.pattern);return{isMatch:Q,score:Q?0:1,indices:[0,this.pattern.length-1]}}}class ln extends ae{constructor(z){super(z)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(z){const Q=!z.startsWith(this.pattern);return{isMatch:Q,score:Q?0:1,indices:[0,z.length-1]}}}class qi extends ae{constructor(z){super(z)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(z){const Q=z.endsWith(this.pattern);return{isMatch:Q,score:Q?0:1,indices:[z.length-this.pattern.length,z.length-1]}}}class Yi extends ae{constructor(z){super(z)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(z){const Q=!z.endsWith(this.pattern);return{isMatch:Q,score:Q?0:1,indices:[0,z.length-1]}}}class Sn extends ae{constructor(z,{location:Q=j.location,threshold:et=j.threshold,distance:lt=j.distance,includeMatches:ut=j.includeMatches,findAllMatches:gt=j.findAllMatches,minMatchCharLength:yt=j.minMatchCharLength,isCaseSensitive:Et=j.isCaseSensitive,ignoreLocation:At=j.ignoreLocation}={}){super(z),this._bitapSearch=new ee(z,{location:Q,threshold:et,distance:lt,includeMatches:ut,findAllMatches:gt,minMatchCharLength:yt,isCaseSensitive:Et,ignoreLocation:At})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(z){return this._bitapSearch.searchIn(z)}}class Re extends ae{constructor(z){super(z)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(z){let Q=0,et;const lt=[],ut=this.pattern.length;for(;(et=z.indexOf(this.pattern,Q))>-1;)Q=et+ut,lt.push([et,Q-1]);const gt=!!lt.length;return{isMatch:gt,score:gt?0:1,indices:lt}}}const un=[me,Re,Yr,ln,Yi,qi,qe,Sn],Or=un.length,Uo=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,Dr="|";function Ki(J,z={}){return J.split(Dr).map(Q=>{let et=Q.trim().split(Uo).filter(ut=>ut&&!!ut.trim()),lt=[];for(let ut=0,gt=et.length;ut<gt;ut+=1){const yt=et[ut];let Et=!1,At=-1;for(;!Et&&++At<Or;){const Ct=un[At];let Ut=Ct.isMultiMatch(yt);Ut&&(lt.push(new Ct(Ut,z)),Et=!0)}if(!Et)for(At=-1;++At<Or;){const Ct=un[At];let Ut=Ct.isSingleMatch(yt);if(Ut){lt.push(new Ct(Ut,z));break}}}return lt})}const Lr=new Set([Sn.type,Re.type]);class Xn{constructor(z,{isCaseSensitive:Q=j.isCaseSensitive,includeMatches:et=j.includeMatches,minMatchCharLength:lt=j.minMatchCharLength,ignoreLocation:ut=j.ignoreLocation,findAllMatches:gt=j.findAllMatches,location:yt=j.location,threshold:Et=j.threshold,distance:At=j.distance}={}){this.query=null,this.options={isCaseSensitive:Q,includeMatches:et,minMatchCharLength:lt,findAllMatches:gt,ignoreLocation:ut,location:yt,threshold:Et,distance:At},this.pattern=Q?z:z.toLowerCase(),this.query=Ki(this.pattern,this.options)}static condition(z,Q){return Q.useExtendedSearch}searchIn(z){const Q=this.query;if(!Q)return{isMatch:!1,score:1};const{includeMatches:et,isCaseSensitive:lt}=this.options;z=lt?z:z.toLowerCase();let ut=0,gt=[],yt=0;for(let Et=0,At=Q.length;Et<At;Et+=1){const Ct=Q[Et];gt.length=0,ut=0;for(let Ut=0,Kt=Ct.length;Ut<Kt;Ut+=1){const le=Ct[Ut],{isMatch:be,indices:_t,score:q}=le.search(z);if(be){if(ut+=1,yt+=q,et){const ot=le.constructor.type;Lr.has(ot)?gt=[...gt,..._t]:gt.push(_t)}}else{yt=0,ut=0,gt.length=0;break}}if(ut){let Ut={isMatch:!0,score:yt/ut};return et&&(Ut.indices=gt),Ut}}return{isMatch:!1,score:1}}}const dr=[];function In(...J){dr.push(...J)}function Zn(J,z){for(let Q=0,et=dr.length;Q<et;Q+=1){let lt=dr[Q];if(lt.condition(J,z))return new lt(J,z)}return new ee(J,z)}const Jn={AND:"$and",OR:"$or"},Cn={PATH:"$path",PATTERN:"$val"},Kr=J=>!!(J[Jn.AND]||J[Jn.OR]),Xi=J=>!!J[Cn.PATH],ve=J=>!c(J)&&_(J)&&!Kr(J),Nn=J=>({[Jn.AND]:Object.keys(J).map(z=>({[z]:J[z]}))});function $o(J,z,{auto:Q=!0}={}){const et=lt=>{let ut=Object.keys(lt);const gt=Xi(lt);if(!gt&&ut.length>1&&!Kr(lt))return et(Nn(lt));if(ve(lt)){const Et=gt?lt[Cn.PATH]:ut[0],At=gt?lt[Cn.PATTERN]:lt[Et];if(!g(At))throw new Error(I(Et));const Ct={keyId:M(Et),pattern:At};return Q&&(Ct.searcher=Zn(At,z)),Ct}let yt={children:[],operator:ut[0]};return ut.forEach(Et=>{const At=lt[Et];c(At)&&At.forEach(Ct=>{yt.children.push(et(Ct))})}),yt};return Kr(J)||(J=Nn(J)),et(J)}function Go(J,{ignoreFieldNorm:z=j.ignoreFieldNorm}){J.forEach(Q=>{let et=1;Q.matches.forEach(({key:lt,norm:ut,score:gt})=>{const yt=lt?lt.weight:null;et*=Math.pow(gt===0&&yt?Number.EPSILON:gt,(yt||1)*(z?1:ut))}),Q.score=et})}function Zi(J,z){const Q=J.matches;z.matches=[],w(Q)&&Q.forEach(et=>{if(!w(et.indices)||!et.indices.length)return;const{indices:lt,value:ut}=et;let gt={indices:lt,value:ut};et.key&&(gt.key=et.key.src),et.idx>-1&&(gt.refIndex=et.idx),z.matches.push(gt)})}function Ji(J,z){z.score=J.score}function Qi(J,z,{includeMatches:Q=j.includeMatches,includeScore:et=j.includeScore}={}){const lt=[];return Q&&lt.push(Zi),et&&lt.push(Ji),J.map(ut=>{const{idx:gt}=ut,yt={item:z[gt],refIndex:gt};return lt.length&&lt.forEach(Et=>{Et(ut,yt)}),yt})}class Mr{constructor(z,Q={},et){this.options={...j,...Q},this.options.useExtendedSearch,this._keyStore=new P(this.options.keys),this.setCollection(z,et)}setCollection(z,Q){if(this._docs=z,Q&&!(Q instanceof at))throw new Error(T);this._myIndex=Q||ht(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(z){!w(z)||(this._docs.push(z),this._myIndex.add(z))}remove(z=()=>!1){const Q=[];for(let et=0,lt=this._docs.length;et<lt;et+=1){const ut=this._docs[et];z(ut,et)&&(this.removeAt(et),et-=1,lt-=1,Q.push(ut))}return Q}removeAt(z){this._docs.splice(z,1),this._myIndex.removeAt(z)}getIndex(){return this._myIndex}search(z,{limit:Q=-1}={}){const{includeMatches:et,includeScore:lt,shouldSort:ut,sortFn:gt,ignoreFieldNorm:yt}=this.options;let Et=g(z)?g(this._docs[0])?this._searchStringList(z):this._searchObjectList(z):this._searchLogical(z);return Go(Et,{ignoreFieldNorm:yt}),ut&&Et.sort(gt),y(Q)&&Q>-1&&(Et=Et.slice(0,Q)),Qi(Et,this._docs,{includeMatches:et,includeScore:lt})}_searchStringList(z){const Q=Zn(z,this.options),{records:et}=this._myIndex,lt=[];return et.forEach(({v:ut,i:gt,n:yt})=>{if(!w(ut))return;const{isMatch:Et,score:At,indices:Ct}=Q.searchIn(ut);Et&&lt.push({item:ut,idx:gt,matches:[{score:At,value:ut,norm:yt,indices:Ct}]})}),lt}_searchLogical(z){const Q=$o(z,this.options),et=(yt,Et,At)=>{if(!yt.children){const{keyId:Ut,searcher:Kt}=yt,le=this._findMatches({key:this._keyStore.get(Ut),value:this._myIndex.getValueForItemAtKeyId(Et,Ut),searcher:Kt});return le&&le.length?[{idx:At,item:Et,matches:le}]:[]}const Ct=[];for(let Ut=0,Kt=yt.children.length;Ut<Kt;Ut+=1){const le=yt.children[Ut],be=et(le,Et,At);if(be.length)Ct.push(...be);else if(yt.operator===Jn.AND)return[]}return Ct},lt=this._myIndex.records,ut={},gt=[];return lt.forEach(({$:yt,i:Et})=>{if(w(yt)){let At=et(Q,yt,Et);At.length&&(ut[Et]||(ut[Et]={idx:Et,item:yt,matches:[]},gt.push(ut[Et])),At.forEach(({matches:Ct})=>{ut[Et].matches.push(...Ct)}))}}),gt}_searchObjectList(z){const Q=Zn(z,this.options),{keys:et,records:lt}=this._myIndex,ut=[];return lt.forEach(({$:gt,i:yt})=>{if(!w(gt))return;let Et=[];et.forEach((At,Ct)=>{Et.push(...this._findMatches({key:At,value:gt[Ct],searcher:Q}))}),Et.length&&ut.push({idx:yt,item:gt,matches:Et})}),ut}_findMatches({key:z,value:Q,searcher:et}){if(!w(Q))return[];let lt=[];if(c(Q))Q.forEach(({v:ut,i:gt,n:yt})=>{if(!w(ut))return;const{isMatch:Et,score:At,indices:Ct}=et.searchIn(ut);Et&&lt.push({score:At,key:z,value:ut,idx:gt,norm:yt,indices:Ct})});else{const{v:ut,n:gt}=Q,{isMatch:yt,score:Et,indices:At}=et.searchIn(ut);yt&&lt.push({score:Et,key:z,value:ut,norm:gt,indices:At})}return lt}}Mr.version="6.5.3",Mr.createIndex=ht,Mr.parseIndex=vt,Mr.config=j,Mr.parseQuery=$o,In(Xn)},857:function(s,a,u){u.r(a),u.d(a,{__DO_NOT_USE__ActionTypes:function(){return m},applyMiddleware:function(){return S},bindActionCreators:function(){return T},combineReducers:function(){return v},compose:function(){return I},createStore:function(){return E}});function c(C,D,N){return D in C?Object.defineProperty(C,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[D]=N,C}function h(C,D){var N=Object.keys(C);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(C);D&&(P=P.filter(function(L){return Object.getOwnPropertyDescriptor(C,L).enumerable})),N.push.apply(N,P)}return N}function p(C){for(var D=1;D<arguments.length;D++){var N=arguments[D]!=null?arguments[D]:{};D%2?h(Object(N),!0).forEach(function(P){c(C,P,N[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(N)):h(Object(N)).forEach(function(P){Object.defineProperty(C,P,Object.getOwnPropertyDescriptor(N,P))})}return C}function d(C){return"Minified Redux error #"+C+"; visit https://redux.js.org/Errors?code="+C+" for the full message or use the non-minified dev environment for full errors. "}var g=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),y=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+y(),REPLACE:"@@redux/REPLACE"+y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+y()}};function _(C){if(typeof C!="object"||C===null)return!1;for(var D=C;Object.getPrototypeOf(D)!==null;)D=Object.getPrototypeOf(D);return Object.getPrototypeOf(C)===D}function E(C,D,N){var P;if(typeof D=="function"&&typeof N=="function"||typeof N=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof D=="function"&&typeof N>"u"&&(N=D,D=void 0),typeof N<"u"){if(typeof N!="function")throw new Error(d(1));return N(E)(C,D)}if(typeof C!="function")throw new Error(d(2));var L=C,x=D,M=[],k=M,R=!1;function B(){k===M&&(k=M.slice())}function $(){if(R)throw new Error(d(3));return x}function H(at){if(typeof at!="function")throw new Error(d(4));if(R)throw new Error(d(5));var ht=!0;return B(),k.push(at),function(){if(!!ht){if(R)throw new Error(d(6));ht=!1,B();var ct=k.indexOf(at);k.splice(ct,1),M=null}}}function j(at){if(!_(at))throw new Error(d(7));if(typeof at.type>"u")throw new Error(d(8));if(R)throw new Error(d(9));try{R=!0,x=L(x,at)}finally{R=!1}for(var ht=M=k,vt=0;vt<ht.length;vt++){var ct=ht[vt];ct()}return at}function X(at){if(typeof at!="function")throw new Error(d(10));L=at,j({type:m.REPLACE})}function ft(){var at,ht=H;return at={subscribe:function(ct){if(typeof ct!="object"||ct===null)throw new Error(d(11));function bt(){ct.next&&ct.next($())}bt();var wt=ht(bt);return{unsubscribe:wt}}},at[g]=function(){return this},at}return j({type:m.INIT}),P={dispatch:j,subscribe:H,getState:$,replaceReducer:X},P[g]=ft,P}function w(C){Object.keys(C).forEach(function(D){var N=C[D],P=N(void 0,{type:m.INIT});if(typeof P>"u")throw new Error(d(12));if(typeof N(void 0,{type:m.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function v(C){for(var D=Object.keys(C),N={},P=0;P<D.length;P++){var L=D[P];typeof C[L]=="function"&&(N[L]=C[L])}var x=Object.keys(N),M;try{w(N)}catch(k){M=k}return function(R,B){if(R===void 0&&(R={}),M)throw M;for(var $=!1,H={},j=0;j<x.length;j++){var X=x[j],ft=N[X],at=R[X],ht=ft(at,B);if(typeof ht>"u")throw B&&B.type,new Error(d(14));H[X]=ht,$=$||ht!==at}return $=$||x.length!==Object.keys(R).length,$?H:R}}function b(C,D){return function(){return D(C.apply(this,arguments))}}function T(C,D){if(typeof C=="function")return b(C,D);if(typeof C!="object"||C===null)throw new Error(d(16));var N={};for(var P in C){var L=C[P];typeof L=="function"&&(N[P]=b(L,D))}return N}function I(){for(var C=arguments.length,D=new Array(C),N=0;N<C;N++)D[N]=arguments[N];return D.length===0?function(P){return P}:D.length===1?D[0]:D.reduce(function(P,L){return function(){return P(L.apply(void 0,arguments))}})}function S(){for(var C=arguments.length,D=new Array(C),N=0;N<C;N++)D[N]=arguments[N];return function(P){return function(){var L=P.apply(void 0,arguments),x=function(){throw new Error(d(15))},M={getState:L.getState,dispatch:function(){return x.apply(void 0,arguments)}},k=D.map(function(R){return R(M)});return x=I.apply(void 0,k)(L.dispatch),p(p({},L),{},{dispatch:x})}}}}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var u=r[s]={exports:{}};return n[s].call(u.exports,u,u.exports,i),u.exports}(function(){i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,{a}),a}})(),function(){i.d=function(s,a){for(var u in a)i.o(a,u)&&!i.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:a[u]})}}(),function(){i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),function(){i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}();var o={};return function(){var s=i(373),a=i.n(s);i(187),i(883),i(789),i(686),o.default=a()}(),o=o.default,o}()})}),Cs=(t,e=0,n=1)=>t>n?n:t<e?e:t,_n=(t,e=0,n=Math.pow(10,e))=>Math.round(n*t)/n,DL={grad:360/400,turn:360,rad:360/(Math.PI*2)},LL=t=>Sb(Yh(t)),Yh=t=>(t[0]==="#"&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1}),ML=(t,e="deg")=>Number(t)*(DL[e]||1),kL=t=>{const n=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return n?NL({h:ML(n[1],n[2]),s:Number(n[3]),l:Number(n[4]),a:n[5]===void 0?1:Number(n[5])/(n[6]?100:1)}):{h:0,s:0,v:0,a:1}},PL=kL,NL=({h:t,s:e,l:n,a:r})=>(e*=(n<50?n:100-n)/100,{h:t,s:e>0?2*e/(n+e)*100:0,v:n+e,a:r}),FL=t=>GL(tp(t)),Ab=({h:t,s:e,v:n,a:r})=>{const i=(200-e)*n/100;return{h:_n(t),s:_n(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:_n(i/2),a:_n(r,2)}},Au=t=>{const{h:e,s:n,l:r}=Ab(t);return`hsl(${e}, ${n}%, ${r}%)`},eh=t=>{const{h:e,s:n,l:r,a:i}=Ab(t);return`hsla(${e}, ${n}%, ${r}%, ${i})`},tp=({h:t,s:e,v:n,a:r})=>{t=t/360*6,e=e/100,n=n/100;const i=Math.floor(t),o=n*(1-e),s=n*(1-(t-i)*e),a=n*(1-(1-t+i)*e),u=i%6;return{r:_n([n,s,o,o,a,n][u]*255),g:_n([a,n,n,s,o,o][u]*255),b:_n([o,o,a,n,n,s][u]*255),a:_n(r,2)}},BL=t=>{const{r:e,g:n,b:r}=tp(t);return`rgb(${e}, ${n}, ${r})`},UL=t=>{const{r:e,g:n,b:r,a:i}=tp(t);return`rgba(${e}, ${n}, ${r}, ${i})`},Tb=t=>{const n=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return n?Sb({r:Number(n[1])/(n[2]?100/255:1),g:Number(n[3])/(n[4]?100/255:1),b:Number(n[5])/(n[6]?100/255:1),a:n[7]===void 0?1:Number(n[7])/(n[8]?100:1)}):{h:0,s:0,v:0,a:1}},$L=Tb,nh=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},GL=({r:t,g:e,b:n})=>"#"+nh(t)+nh(e)+nh(n),Sb=({r:t,g:e,b:n,a:r})=>{const i=Math.max(t,e,n),o=i-Math.min(t,e,n),s=o?i===t?(e-n)/o:i===e?2+(n-t)/o:4+(t-e)/o:0;return{h:_n(60*(s<0?s+6:s)),s:_n(i?o/i*100:0),v:_n(i/255*100),a:r}},Ib=(t,e)=>{if(t===e)return!0;for(const n in t)if(t[n]!==e[n])return!1;return!0},ep=(t,e)=>t.replace(/\s/g,"")===e.replace(/\s/g,""),HL=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:Ib(Yh(t),Yh(e)),Bv={},Cb=t=>{let e=Bv[t];return e||(e=document.createElement("template"),e.innerHTML=t,Bv[t]=e),e},np=(t,e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))},vs=!1,Kh=t=>"touches"in t,VL=t=>vs&&!Kh(t)?!1:(vs||(vs=Kh(t)),!0),Uv=(t,e)=>{const n=Kh(e)?e.touches[0]:e,r=t.el.getBoundingClientRect();np(t.el,"move",t.getMove({x:Cs((n.pageX-(r.left+window.pageXOffset))/r.width),y:Cs((n.pageY-(r.top+window.pageYOffset))/r.height)}))},WL=(t,e)=>{const n=e.keyCode;n>40||t.xy&&n<37||n<33||(e.preventDefault(),np(t.el,"move",t.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))},rp=class{constructor(t,e,n,r){const i=Cb(`<div role="slider" tabindex="0" part="${e}" ${n}><div part="${e}-pointer"></div></div>`);t.appendChild(i.content.cloneNode(!0));const o=t.querySelector(`[part=${e}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=r,this.nodes=[o.firstChild,o]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(vs?"touchmove":"mousemove",this),e(vs?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!VL(t)||!vs&&t.button!=0)return;this.el.focus(),Uv(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),Uv(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":WL(this,t);break}}style(t){t.forEach((e,n)=>{for(const r in e)this.nodes[n].style.setProperty(r,e[r])})}},jL=class extends rp{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:Au({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${_n(t)}`)}getMove(t,e){return{h:e?Cs(this.h+t.x*360,0,360):360*t.x}}},zL=class extends rp{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:Au(t)},{"background-color":Au({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${_n(t.s)}%, Brightness ${_n(t.v)}%`)}getMove(t,e){return{s:e?Cs(this.hsva.s+t.x*100,0,100):t.x*100,v:e?Cs(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}},qL=":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}",YL="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",KL="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",Pl=Symbol("same"),$v=Symbol("color"),Gv=Symbol("hsva"),rh=Symbol("change"),ih=Symbol("update"),Hv=Symbol("parts"),Tu=Symbol("css"),Su=Symbol("sliders"),fc=class extends HTMLElement{static get observedAttributes(){return["color"]}get[Tu](){return[qL,YL,KL]}get[Su](){return[zL,jL]}get color(){return this[$v]}set color(t){if(!this[Pl](t)){const e=this.colorModel.toHsva(t);this[ih](e),this[rh](t)}}constructor(){super();const t=Cb(`<style>${this[Tu].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[Hv]=this[Su].map(n=>new n(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,n){const r=this.colorModel.fromAttr(n);this[Pl](r)||(this.color=r)}handleEvent(t){const e=this[Gv],n={...e,...t.detail};this[ih](n);let r;!Ib(n,e)&&!this[Pl](r=this.colorModel.fromHsva(n))&&this[rh](r)}[Pl](t){return this.color&&this.colorModel.equal(t,this.color)}[ih](t){this[Gv]=t,this[Hv].forEach(e=>e.update(t))}[rh](t){this[$v]=t,np(this,"color-changed",{value:t})}},XL={defaultColor:"#000",toHsva:LL,fromHsva:FL,equal:HL,fromAttr:t=>t},ZL=class extends fc{get colorModel(){return XL}},JL=class extends ZL{};customElements.define("hex-color-picker",JL);var QL={defaultColor:"hsl(0, 0%, 0%)",toHsva:PL,fromHsva:Au,equal:ep,fromAttr:t=>t},tM=class extends fc{get colorModel(){return QL}},eM=class extends tM{};customElements.define("hsl-string-color-picker",eM);var nM={defaultColor:"rgb(0, 0, 0)",toHsva:$L,fromHsva:BL,equal:ep,fromAttr:t=>t},rM=class extends fc{get colorModel(){return nM}},iM=class extends rM{};customElements.define("rgb-string-color-picker",iM);var oM=class extends rp{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const e=eh({...t,a:0}),n=eh({...t,a:1}),r=t.a*100;this.style([{left:`${r}%`,color:eh(t)},{"--gradient":`linear-gradient(90deg, ${e}, ${n}`}]);const i=_n(r);this.el.setAttribute("aria-valuenow",`${i}`),this.el.setAttribute("aria-valuetext",`${i}%`)}getMove(t,e){return{a:e?Cs(this.hsva.a+t.x):t.x}}},sM=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,aM=class extends fc{get[Tu](){return[...super[Tu],sM]}get[Su](){return[...super[Su],oM]}},lM={defaultColor:"rgba(0, 0, 0, 1)",toHsva:Tb,fromHsva:UL,equal:ep,fromAttr:t=>t},uM=class extends aM{get colorModel(){return lM}},cM=class extends uM{};customElements.define("rgba-string-color-picker",cM);var xb=60,Rb=xb*60,Ob=Rb*24,fM=Ob*7,xs=1e3,oh=xb*xs,Vv=Rb*xs,hM=Ob*xs,dM=fM*xs,ip="millisecond",as="second",ls="minute",us="hour",Li="day",ru="week",br="month",Db="quarter",Mi="year",cs="date",pM="YYYY-MM-DDTHH:mm:ssZ",Wv="Invalid Date",gM=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,mM=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,vM={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Xh=function(e,n,r){var i=String(e);return!i||i.length>=n?e:""+Array(n+1-i.length).join(r)+e},yM=function(e){var n=-e.utcOffset(),r=Math.abs(n),i=Math.floor(r/60),o=r%60;return(n<=0?"+":"-")+Xh(i,2,"0")+":"+Xh(o,2,"0")},_M=function t(e,n){if(e.date()<n.date())return-t(n,e);var r=(n.year()-e.year())*12+(n.month()-e.month()),i=e.clone().add(r,br),o=n-i<0,s=e.clone().add(r+(o?-1:1),br);return+(-(r+(n-i)/(o?i-s:s-i))||0)},EM=function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},bM=function(e){var n={M:br,y:Mi,w:ru,d:Li,D:cs,h:us,m:ls,s:as,ms:ip,Q:Db};return n[e]||String(e||"").toLowerCase().replace(/s$/,"")},wM=function(e){return e===void 0},AM={s:Xh,z:yM,m:_M,a:EM,p:bM,u:wM},Ea="en",Co={};Co[Ea]=vM;var op=function(e){return e instanceof hc},Iu=function t(e,n,r){var i;if(!e)return Ea;if(typeof e=="string"){var o=e.toLowerCase();Co[o]&&(i=o),n&&(Co[o]=n,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;Co[a]=e,i=a}return!r&&i&&(Ea=i),i||!r&&Ea},Ze=function(e,n){if(op(e))return e.clone();var r=typeof n=="object"?n:{};return r.date=e,r.args=arguments,new hc(r)},TM=function(e,n){return Ze(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},ce=AM;ce.l=Iu;ce.i=op;ce.w=TM;var SM=function(e){var n=e.date,r=e.utc;if(n===null)return new Date(NaN);if(ce.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var i=n.match(gM);if(i){var o=i[2]-1||0,s=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(n)},hc=function(){function t(n){this.$L=Iu(n.locale,null,!0),this.parse(n)}var e=t.prototype;return e.parse=function(r){this.$d=SM(r),this.$x=r.x||{},this.init()},e.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},e.$utils=function(){return ce},e.isValid=function(){return this.$d.toString()!==Wv},e.isSame=function(r,i){var o=Ze(r);return this.startOf(i)<=o&&o<=this.endOf(i)},e.isAfter=function(r,i){return Ze(r)<this.startOf(i)},e.isBefore=function(r,i){return this.endOf(i)<Ze(r)},e.$g=function(r,i,o){return ce.u(r)?this[i]:this.set(o,r)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(r,i){var o=this,s=ce.u(i)?!0:i,a=ce.p(r),u=function(E,w){var v=ce.w(o.$u?Date.UTC(o.$y,w,E):new Date(o.$y,w,E),o);return s?v:v.endOf(Li)},c=function(E,w){var v=[0,0,0,0],b=[23,59,59,999];return ce.w(o.toDate()[E].apply(o.toDate("s"),(s?v:b).slice(w)),o)},h=this.$W,p=this.$M,d=this.$D,g="set"+(this.$u?"UTC":"");switch(a){case Mi:return s?u(1,0):u(31,11);case br:return s?u(1,p):u(0,p+1);case ru:{var y=this.$locale().weekStart||0,m=(h<y?h+7:h)-y;return u(s?d-m:d+(6-m),p)}case Li:case cs:return c(g+"Hours",0);case us:return c(g+"Minutes",1);case ls:return c(g+"Seconds",2);case as:return c(g+"Milliseconds",3);default:return this.clone()}},e.endOf=function(r){return this.startOf(r,!1)},e.$set=function(r,i){var o,s=ce.p(r),a="set"+(this.$u?"UTC":""),u=(o={},o[Li]=a+"Date",o[cs]=a+"Date",o[br]=a+"Month",o[Mi]=a+"FullYear",o[us]=a+"Hours",o[ls]=a+"Minutes",o[as]=a+"Seconds",o[ip]=a+"Milliseconds",o)[s],c=s===Li?this.$D+(i-this.$W):i;if(s===br||s===Mi){var h=this.clone().set(cs,1);h.$d[u](c),h.init(),this.$d=h.set(cs,Math.min(this.$D,h.daysInMonth())).$d}else u&&this.$d[u](c);return this.init(),this},e.set=function(r,i){return this.clone().$set(r,i)},e.get=function(r){return this[ce.p(r)]()},e.add=function(r,i){var o=this,s;r=Number(r);var a=ce.p(i),u=function(d){var g=Ze(o);return ce.w(g.date(g.date()+Math.round(d*r)),o)};if(a===br)return this.set(br,this.$M+r);if(a===Mi)return this.set(Mi,this.$y+r);if(a===Li)return u(1);if(a===ru)return u(7);var c=(s={},s[ls]=oh,s[us]=Vv,s[as]=xs,s)[a]||1,h=this.$d.getTime()+r*c;return ce.w(h,this)},e.subtract=function(r,i){return this.add(r*-1,i)},e.format=function(r){var i=this,o=this.$locale();if(!this.isValid())return o.invalidDate||Wv;var s=r||pM,a=ce.z(this),u=this.$H,c=this.$m,h=this.$M,p=o.weekdays,d=o.months,g=o.meridiem,y=function(v,b,T,I){return v&&(v[b]||v(i,s))||T[b].slice(0,I)},m=function(v){return ce.s(u%12||12,v,"0")},_=g||function(w,v,b){var T=w<12?"AM":"PM";return b?T.toLowerCase():T},E={YY:String(this.$y).slice(-2),YYYY:this.$y,M:h+1,MM:ce.s(h+1,2,"0"),MMM:y(o.monthsShort,h,d,3),MMMM:y(d,h),D:this.$D,DD:ce.s(this.$D,2,"0"),d:String(this.$W),dd:y(o.weekdaysMin,this.$W,p,2),ddd:y(o.weekdaysShort,this.$W,p,3),dddd:p[this.$W],H:String(u),HH:ce.s(u,2,"0"),h:m(1),hh:m(2),a:_(u,c,!0),A:_(u,c,!1),m:String(c),mm:ce.s(c,2,"0"),s:String(this.$s),ss:ce.s(this.$s,2,"0"),SSS:ce.s(this.$ms,3,"0"),Z:a};return s.replace(mM,function(w,v){return v||E[w]||a.replace(":","")})},e.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},e.diff=function(r,i,o){var s,a=ce.p(i),u=Ze(r),c=(u.utcOffset()-this.utcOffset())*oh,h=this-u,p=ce.m(this,u);return p=(s={},s[Mi]=p/12,s[br]=p,s[Db]=p/3,s[ru]=(h-c)/dM,s[Li]=(h-c)/hM,s[us]=h/Vv,s[ls]=h/oh,s[as]=h/xs,s)[a]||h,o?p:ce.a(p)},e.daysInMonth=function(){return this.endOf(br).$D},e.$locale=function(){return Co[this.$L]},e.locale=function(r,i){if(!r)return this.$L;var o=this.clone(),s=Iu(r,i,!0);return s&&(o.$L=s),o},e.clone=function(){return ce.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}(),Lb=hc.prototype;Ze.prototype=Lb;[["$ms",ip],["$s",as],["$m",ls],["$H",us],["$W",Li],["$M",br],["$y",Mi],["$D",cs]].forEach(function(t){Lb[t[1]]=function(e){return this.$g(e,t[0],t[1])}});Ze.extend=function(t,e){return t.$i||(t(e,hc,Ze),t.$i=!0),Ze};Ze.locale=Iu;Ze.isDayjs=op;Ze.unix=function(t){return Ze(t*1e3)};Ze.en=Co[Ea];Ze.Ls=Co;Ze.p={};var fe=Ze,IM=t=>{t.data("colorPickerFormComponent",({isAutofocused:e,isDisabled:n,state:r})=>({state:r,init:function(){this.state===null||this.state===""||this.setState(this.state),e&&this.togglePanelVisibility(this.$refs.input),this.$refs.input.addEventListener("change",i=>{this.setState(i.target.value)}),this.$refs.panel.addEventListener("color-changed",i=>{this.setState(i.detail.value)})},togglePanelVisibility:function(){n||this.$refs.panel.toggle(this.$refs.input)},setState:function(i){this.state=i,this.$refs.input.value=i,this.$refs.panel.color=i}}))},CM=Fs(SL()),xM=Fs(IL()),RM=Fs(CL()),OM=Fs(xL());fe.extend(CM.default);fe.extend(xM.default);fe.extend(RM.default);fe.extend(OM.default);fe.extend((t,e,n)=>{const r=[];n.addLocaleListeners=i=>r.push(i),n.onLocaleUpdated=()=>{r.forEach(i=>i())},n.updateLocale=i=>{n.locale(i),n.onLocaleUpdated()}});window.dayjs=fe;var DM=t=>{t.data("dateTimePickerFormComponent",({displayFormat:e,firstDayOfWeek:n,isAutofocused:r,isDisabled:i,shouldCloseOnDateSelection:o,state:s})=>{const a=fe.tz.guess();return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,minute:null,second:null,state:s,dayLabels:[],months:[],init:function(){var c,h,p,d;this.focusedDate=fe().tz(a);let u=(c=this.getSelectedDate())!=null?c:fe().tz(a).hour(0).minute(0).second(0);(this.getMaxDate()!==null&&u.isAfter(this.getMaxDate())||this.getMinDate()!==null&&u.isBefore(this.getMinDate()))&&(u=null),this.hour=(h=u==null?void 0:u.hour())!=null?h:0,this.minute=(p=u==null?void 0:u.minute())!=null?p:0,this.second=(d=u==null?void 0:u.second())!=null?d:0,this.setDisplayText(),this.setMonths(),this.setDayLabels(),r&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),fe.addLocaleListeners(()=>{this.setDisplayText(),this.setMonths(),this.setDayLabels()}),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{var y,m;if(((y=this.focusedYear)==null?void 0:y.length)>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||((m=this.focusedYear)==null?void 0:m.length)!==4)return;let g=+this.focusedYear;Number.isInteger(g)||(g=fe().tz(a).year(),this.focusedYear=g),this.focusedDate.year()!==g&&(this.focusedDate=this.focusedDate.year(g))}),this.$watch("focusedDate",()=>{let g=this.focusedDate.month(),y=this.focusedDate.year();this.focusedMonth!==g&&(this.focusedMonth=g),this.focusedYear!==y&&(this.focusedYear=y),this.setupDaysGrid()}),this.$watch("hour",()=>{var m,_;let g=+this.hour;if(Number.isInteger(g)?g>23?this.hour=0:g<0?this.hour=23:this.hour=g:this.hour=0,this.isClearingState)return;let y=(m=this.getSelectedDate())!=null?m:this.focusedDate;this.setState(y.hour((_=this.hour)!=null?_:0))}),this.$watch("minute",()=>{var m,_;let g=+this.minute;if(Number.isInteger(g)?g>59?this.minute=0:g<0?this.minute=59:this.minute=g:this.minute=0,this.isClearingState)return;let y=(m=this.getSelectedDate())!=null?m:this.focusedDate;this.setState(y.minute((_=this.minute)!=null?_:0))}),this.$watch("second",()=>{var m,_;let g=+this.second;if(Number.isInteger(g)?g>59?this.second=0:g<0?this.second=59:this.second=g:this.second=0,this.isClearingState)return;let y=(m=this.getSelectedDate())!=null?m:this.focusedDate;this.setState(y.second((_=this.second)!=null?_:0))}),this.$watch("state",()=>{var E,w,v;if(this.state===void 0)return;let g=this.getSelectedDate();this.getMaxDate()!==null&&(g==null?void 0:g.isAfter(this.getMaxDate()))&&(g=null),this.getMinDate()!==null&&(g==null?void 0:g.isBefore(this.getMinDate()))&&(g=null);const y=(E=g==null?void 0:g.hour())!=null?E:0;this.hour!==y&&(this.hour=y);const m=(w=g==null?void 0:g.minute())!=null?w:0;this.minute!==m&&(this.minute=m);const _=(v=g==null?void 0:g.second())!=null?v:0;this.second!==_&&(this.second=_),this.setDisplayText()})},clearState:function(){this.isClearingState=!0,this.setState(null),this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled:function(u){return!!(this.getMaxDate()&&u.isAfter(this.getMaxDate())||this.getMinDate()&&u.isBefore(this.getMinDate()))},dayIsDisabled:function(u){var c;return(c=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.dateIsDisabled(this.focusedDate.date(u))},dayIsSelected:function(u){var h;let c=this.getSelectedDate();return c===null?!1:((h=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),c.date()===u&&c.month()===this.focusedDate.month()&&c.year()===this.focusedDate.year())},dayIsToday:function(u){var h;let c=fe().tz(a);return(h=this.focusedDate)!=null||(this.focusedDate=c),c.date()===u&&c.month()===this.focusedDate.month()&&c.year()===this.focusedDate.year()},focusPreviousDay:function(){var u;(u=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"day")},focusPreviousWeek:function(){var u;(u=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"week")},focusNextDay:function(){var u;(u=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.focusedDate=this.focusedDate.add(1,"day")},focusNextWeek:function(){var u;(u=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.focusedDate=this.focusedDate.add(1,"week")},getDayLabels:function(){const u=fe.weekdaysShort();return n===0?u:[...u.slice(n),...u.slice(0,n)]},getMaxDate:function(){var c;let u=fe((c=this.$refs.maxDate)==null?void 0:c.value);return u.isValid()?u:null},getMinDate:function(){var c;let u=fe((c=this.$refs.minDate)==null?void 0:c.value);return u.isValid()?u:null},getSelectedDate:function(){if(this.state===void 0)return null;let u=fe(this.state);return u.isValid()?u:null},togglePanelVisibility:function(){var u,c;i||(this.isOpen()||(this.focusedDate=(c=(u=this.getSelectedDate())!=null?u:this.getMinDate())!=null?c:fe().tz(a),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button))},selectDate:function(u=null){var c;u&&this.setFocusedDay(u),(c=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.setState(this.focusedDate),o&&this.togglePanelVisibility()},setDisplayText:function(){this.displayText=this.getSelectedDate()?this.getSelectedDate().format(e):""},setMonths:function(){this.months=fe.months()},setDayLabels:function(){this.dayLabels=this.getDayLabels()},setupDaysGrid:function(){var u;(u=this.focusedDate)!=null||(this.focusedDate=fe().tz(a)),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.date(8-n).day()},(c,h)=>h+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(c,h)=>h+1)},setFocusedDay:function(u){var c;this.focusedDate=((c=this.focusedDate)!=null?c:fe().tz(a)).date(u)},setState:function(u){var c,h,p;if(u===null){this.state=null,this.setDisplayText();return}this.dateIsDisabled(u)||(this.state=u.hour((c=this.hour)!=null?c:0).minute((h=this.minute)!=null?h:0).second((p=this.second)!=null?p:0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText())},isOpen:function(){return this.$refs.panel.style.display==="block"}}})},Mb={};AL(Mb,{FileOrigin:()=>Du,FileStatus:()=>w0,OptionTypes:()=>sd,Status:()=>b0,create:()=>wa,destroy:()=>ou,find:()=>ld,getOptions:()=>ud,parse:()=>ad,registerPlugin:()=>Ir,setOptions:()=>cd,supported:()=>od});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var LM=t=>t instanceof HTMLElement,MM=(t,e=[],n=[])=>{const r={...t},i=[],o=[],s=()=>({...r}),a=()=>{const y=[...i];return i.length=0,y},u=()=>{const y=[...o];o.length=0,y.forEach(({type:m,data:_})=>{c(m,_)})},c=(y,m,_)=>{if(_&&!document.hidden){o.push({type:y,data:m});return}g[y]&&g[y](m),i.push({type:y,data:m})},h=(y,...m)=>d[y]?d[y](...m):null,p={getState:s,processActionQueue:a,processDispatchQueue:u,dispatch:c,query:h};let d={};e.forEach(y=>{d={...y(r),...d}});let g={};return n.forEach(y=>{g={...y(c,h,r),...g}}),p},kM=(t,e,n)=>{if(typeof n=="function"){t[e]=n;return}Object.defineProperty(t,e,{...n})},xe=(t,e)=>{for(const n in t)!t.hasOwnProperty(n)||e(n,t[n])},$i=t=>{const e={};return xe(t,n=>{kM(e,n,t[n])}),e},Fe=(t,e,n=null)=>{if(n===null)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},PM="http://www.w3.org/2000/svg",NM=["svg","path"],jv=t=>NM.includes(t),Cu=(t,e,n={})=>{typeof e=="object"&&(n=e,e=null);const r=jv(t)?document.createElementNS(PM,t):document.createElement(t);return e&&(jv(t)?Fe(r,"class",e):r.className=e),xe(n,(i,o)=>{Fe(r,i,o)}),r},FM=t=>(e,n)=>{typeof n<"u"&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)},BM=(t,e)=>(n,r)=>(typeof r<"u"?e.splice(r,0,n):e.push(n),n),UM=(t,e)=>n=>(e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n),$M=(()=>typeof window<"u"&&typeof window.document<"u")(),kb=()=>$M,GM=kb()?Cu("svg"):{},HM="children"in GM?t=>t.children.length:t=>t.childNodes.length,Pb=(t,e,n,r)=>{const i=n[0]||t.left,o=n[1]||t.top,s=i+t.width,a=o+t.height*(r[1]||1),u={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:o,right:s,bottom:a}};return e.filter(c=>!c.isRectIgnored()).map(c=>c.rect).forEach(c=>{zv(u.inner,{...c.inner}),zv(u.outer,{...c.outer})}),qv(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,qv(u.outer),u},zv=(t,e)=>{e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},qv=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},bo=t=>typeof t=="number",VM=(t,e,n,r=.001)=>Math.abs(t-e)<r&&Math.abs(n)<r,WM=({stiffness:t=.5,damping:e=.75,mass:n=10}={})=>{let r=null,i=null,o=0,s=!1;const c=$i({interpolate:(h,p)=>{if(s)return;if(!(bo(r)&&bo(i))){s=!0,o=0;return}o+=-(i-r)*t/n,i+=o,o*=e,VM(i,r,o)||p?(i=r,o=0,s=!0,c.onupdate(i),c.oncomplete(i)):c.onupdate(i)},target:{set:h=>{if(bo(h)&&!bo(i)&&(i=h),r===null&&(r=h,i=h),r=h,i===r||typeof r>"u"){s=!0,o=0,c.onupdate(i),c.oncomplete(i);return}s=!1},get:()=>r},resting:{get:()=>s},onupdate:h=>{},oncomplete:h=>{}});return c},jM=t=>t<.5?2*t*t:-1+(4-2*t)*t,zM=({duration:t=500,easing:e=jM,delay:n=0}={})=>{let r=null,i,o,s=!0,a=!1,u=null;const h=$i({interpolate:(p,d)=>{s||u===null||(r===null&&(r=p),!(p-r<n)&&(i=p-r-n,i>=t||d?(i=1,o=a?0:1,h.onupdate(o*u),h.oncomplete(o*u),s=!0):(o=i/t,h.onupdate((i>=0?e(a?1-o:o):0)*u))))},target:{get:()=>a?0:u,set:p=>{if(u===null){u=p,h.onupdate(p),h.oncomplete(p);return}p<u?(u=1,a=!0):(a=!1,u=p),s=!1,r=null}},resting:{get:()=>s},onupdate:p=>{},oncomplete:p=>{}});return h},Yv={spring:WM,tween:zM},qM=(t,e,n)=>{const r=t[e]&&typeof t[e][n]=="object"?t[e][n]:t[e]||t,i=typeof r=="string"?r:r.type,o=typeof r=="object"?{...r}:{};return Yv[i]?Yv[i](o):null},sp=(t,e,n,r=!1)=>{e=Array.isArray(e)?e:[e],e.forEach(i=>{t.forEach(o=>{let s=o,a=()=>n[o],u=c=>n[o]=c;typeof o=="object"&&(s=o.key,a=o.getter||a,u=o.setter||u),!(i[s]&&!r)&&(i[s]={get:a,set:u})})})},YM=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:r})=>{const i={...e},o=[];return xe(t,(s,a)=>{const u=qM(a);if(!u)return;u.onupdate=h=>{e[s]=h},u.target=i[s],sp([{key:s,setter:h=>{u.target!==h&&(u.target=h)},getter:()=>e[s]}],[n,r],e,!0),o.push(u)}),{write:s=>{let a=document.hidden,u=!0;return o.forEach(c=>{c.resting||(u=!1),c.interpolate(s,a)}),u},destroy:()=>{}}},KM=t=>(e,n)=>{t.addEventListener(e,n)},XM=t=>(e,n)=>{t.removeEventListener(e,n)},ZM=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:r,viewState:i,view:o})=>{const s=[],a=KM(o.element),u=XM(o.element);return r.on=(c,h)=>{s.push({type:c,fn:h}),a(c,h)},r.off=(c,h)=>{s.splice(s.findIndex(p=>p.type===c&&p.fn===h),1),u(c,h)},{write:()=>!0,destroy:()=>{s.forEach(c=>{u(c.type,c.fn)})}}},JM=({mixinConfig:t,viewProps:e,viewExternalAPI:n})=>{sp(t,n,e)},mn=t=>t!=null,QM={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},tk=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:r,view:i})=>{const o={...e},s={};sp(t,[n,r],e);const a=()=>[e.translateX||0,e.translateY||0],u=()=>[e.scaleX||0,e.scaleY||0],c=()=>i.rect?Pb(i.rect,i.childViews,a(),u()):null;return n.rect={get:c},r.rect={get:c},t.forEach(h=>{e[h]=typeof o[h]>"u"?QM[h]:o[h]}),{write:()=>{if(!!ek(s,e))return nk(i.element,e),Object.assign(s,{...e}),!0},destroy:()=>{}}},ek=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in e)if(e[n]!==t[n])return!0;return!1},nk=(t,{opacity:e,perspective:n,translateX:r,translateY:i,scaleX:o,scaleY:s,rotateX:a,rotateY:u,rotateZ:c,originX:h,originY:p,width:d,height:g})=>{let y="",m="";(mn(h)||mn(p))&&(m+=`transform-origin: ${h||0}px ${p||0}px;`),mn(n)&&(y+=`perspective(${n}px) `),(mn(r)||mn(i))&&(y+=`translate3d(${r||0}px, ${i||0}px, 0) `),(mn(o)||mn(s))&&(y+=`scale3d(${mn(o)?o:1}, ${mn(s)?s:1}, 1) `),mn(c)&&(y+=`rotateZ(${c}rad) `),mn(a)&&(y+=`rotateX(${a}rad) `),mn(u)&&(y+=`rotateY(${u}rad) `),y.length&&(m+=`transform:${y};`),mn(e)&&(m+=`opacity:${e};`,e===0&&(m+="visibility:hidden;"),e<1&&(m+="pointer-events:none;")),mn(g)&&(m+=`height:${g}px;`),mn(d)&&(m+=`width:${d}px;`);const _=t.elementCurrentStyle||"";(m.length!==_.length||m!==_)&&(t.style.cssText=m,t.elementCurrentStyle=m)},rk={styles:tk,listeners:ZM,animations:YM,apis:JM},Kv=(t={},e={},n={})=>(e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=e.offsetParent===null,t),Ue=({tag:t="div",name:e=null,attributes:n={},read:r=()=>{},write:i=()=>{},create:o=()=>{},destroy:s=()=>{},filterFrameActionsForChild:a=(g,y)=>y,didCreateView:u=()=>{},didWriteView:c=()=>{},ignoreRect:h=!1,ignoreRectUpdate:p=!1,mixins:d=[]}={})=>(g,y={})=>{const m=Cu(t,`filepond--${e}`,n),_=window.getComputedStyle(m,null),E=Kv();let w=null,v=!1;const b=[],T=[],I={},S={},C=[i],D=[r],N=[s],P=()=>m,L=()=>b.concat(),x=()=>I,M=ct=>(bt,wt)=>bt(ct,wt),k=()=>w||(w=Pb(E,b,[0,0],[1,1]),w),R=()=>_,B=()=>{w=null,b.forEach(wt=>wt._read()),!(p&&E.width&&E.height)&&Kv(E,m,_);const bt={root:ht,props:y,rect:E};D.forEach(wt=>wt(bt))},$=(ct,bt,wt)=>{let Rt=bt.length===0;return C.forEach(Ot=>{Ot({props:y,root:ht,actions:bt,timestamp:ct,shouldOptimize:wt})===!1&&(Rt=!1)}),T.forEach(Ot=>{Ot.write(ct)===!1&&(Rt=!1)}),b.filter(Ot=>!!Ot.element.parentNode).forEach(Ot=>{Ot._write(ct,a(Ot,bt),wt)||(Rt=!1)}),b.forEach((Ot,ee)=>{Ot.element.parentNode||(ht.appendChild(Ot.element,ee),Ot._read(),Ot._write(ct,a(Ot,bt),wt),Rt=!1)}),v=Rt,c({props:y,root:ht,actions:bt,timestamp:ct}),Rt},H=()=>{T.forEach(ct=>ct.destroy()),N.forEach(ct=>{ct({root:ht,props:y})}),b.forEach(ct=>ct._destroy())},j={element:{get:P},style:{get:R},childViews:{get:L}},X={...j,rect:{get:k},ref:{get:x},is:ct=>e===ct,appendChild:FM(m),createChildView:M(g),linkView:ct=>(b.push(ct),ct),unlinkView:ct=>{b.splice(b.indexOf(ct),1)},appendChildView:BM(m,b),removeChildView:UM(m,b),registerWriter:ct=>C.push(ct),registerReader:ct=>D.push(ct),registerDestroyer:ct=>N.push(ct),invalidateLayout:()=>m.layoutCalculated=!1,dispatch:g.dispatch,query:g.query},ft={element:{get:P},childViews:{get:L},rect:{get:k},resting:{get:()=>v},isRectIgnored:()=>h,_read:B,_write:$,_destroy:H},at={...j,rect:{get:()=>E}};Object.keys(d).sort((ct,bt)=>ct==="styles"?1:bt==="styles"?-1:0).forEach(ct=>{const bt=rk[ct]({mixinConfig:d[ct],viewProps:y,viewState:S,viewInternalAPI:X,viewExternalAPI:ft,view:$i(at)});bt&&T.push(bt)});const ht=$i(X);o({root:ht,props:y});const vt=HM(m);return b.forEach((ct,bt)=>{ht.appendChild(ct.element,vt+bt)}),u(ht),$i(ft)},ik=(t,e,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(t),window[r].writers.push(e);return}window[r]={readers:[t],writers:[e]};const i=window[r],o=1e3/n;let s=null,a=null,u=null,c=null;const h=()=>{document.hidden?(u=()=>window.setTimeout(()=>p(performance.now()),o),c=()=>window.clearTimeout(a)):(u=()=>window.requestAnimationFrame(p),c=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{c&&c(),h(),p(performance.now())});const p=d=>{a=u(p),s||(s=d);const g=d-s;g<=o||(s=d-g%o,i.readers.forEach(y=>y()),i.writers.forEach(y=>y(d)))};return h(),p(performance.now()),{pause:()=>{c(a)}}},Tn=(t,e)=>({root:n,props:r,actions:i=[],timestamp:o,shouldOptimize:s})=>{i.filter(a=>t[a.type]).forEach(a=>t[a.type]({root:n,props:r,action:a.data,timestamp:o,shouldOptimize:s})),e&&e({root:n,props:r,actions:i,timestamp:o,shouldOptimize:s})},Xv=(t,e)=>e.parentNode.insertBefore(t,e),Zv=(t,e)=>e.parentNode.insertBefore(t,e.nextSibling),dc=t=>Array.isArray(t),ci=t=>t==null,ok=t=>t.trim(),pc=t=>""+t,sk=(t,e=",")=>ci(t)?[]:dc(t)?t:pc(t).split(e).map(ok).filter(n=>n.length),Nb=t=>typeof t=="boolean",Fb=t=>Nb(t)?t:t==="true",bn=t=>typeof t=="string",Bb=t=>bo(t)?t:bn(t)?pc(t).replace(/[a-z]+/gi,""):0,iu=t=>parseInt(Bb(t),10),Jv=t=>parseFloat(Bb(t)),Bs=t=>bo(t)&&isFinite(t)&&Math.floor(t)===t,Qv=(t,e=1e3)=>{if(Bs(t))return t;let n=pc(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),iu(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),iu(n)*e):iu(n)},wo=t=>typeof t=="function",ak=t=>{let e=self,n=t.split("."),r=null;for(;r=n.shift();)if(e=e[r],!e)return null;return e},ty={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},lk=t=>{const e={};return e.url=bn(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},xe(ty,n=>{e[n]=uk(n,t[n],ty[n],e.timeout,e.headers)}),e.process=t.process||bn(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},uk=(t,e,n,r,i)=>{if(e===null)return null;if(typeof e=="function")return e;const o={url:n==="GET"||n==="PATCH"?`?${t}=`:"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(bn(e))return o.url=e,o;if(Object.assign(o,e),bn(o.headers)){const s=o.headers.split(/:(.+)/);o.headers={header:s[0],value:s[1]}}return o.withCredentials=Fb(o.withCredentials),o},ck=t=>lk(t),fk=t=>t===null,Je=t=>typeof t=="object"&&t!==null,hk=t=>Je(t)&&bn(t.url)&&Je(t.process)&&Je(t.revert)&&Je(t.restore)&&Je(t.fetch),Zh=t=>dc(t)?"array":fk(t)?"null":Bs(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":hk(t)?"api":typeof t,dk=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),pk={array:sk,boolean:Fb,int:t=>Zh(t)==="bytes"?Qv(t):iu(t),number:Jv,float:Jv,bytes:Qv,string:t=>wo(t)?t:pc(t),function:t=>ak(t),serverapi:ck,object:t=>{try{return JSON.parse(dk(t))}catch{return null}}},gk=(t,e)=>pk[e](t),Ub=(t,e,n)=>{if(t===e)return t;let r=Zh(t);if(r!==n){const i=gk(t,n);if(r=Zh(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;t=i}return t},mk=(t,e)=>{let n=t;return{enumerable:!0,get:()=>n,set:r=>{n=Ub(r,t,e)}}},vk=t=>{const e={};return xe(t,n=>{const r=t[n];e[n]=mk(r[0],r[1])}),$i(e)},yk=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:vk(t)}),gc=(t,e="-")=>t.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(e),_k=(t,e)=>{const n={};return xe(e,r=>{n[r]={get:()=>t.getState().options[r],set:i=>{t.dispatch(`SET_${gc(r,"_").toUpperCase()}`,{value:i})}}}),n},Ek=t=>(e,n,r)=>{const i={};return xe(t,o=>{const s=gc(o,"_").toUpperCase();i[`SET_${s}`]=a=>{try{r.options[o]=a.value}catch{}e(`DID_SET_${s}`,{value:r.options[o]})}}),i},bk=t=>e=>{const n={};return xe(t,r=>{n[`GET_${gc(r,"_").toUpperCase()}`]=i=>e.options[r]}),n},hr={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ap=()=>Math.random().toString(36).substring(2,11),lp=(t,e)=>t.splice(e,1),wk=(t,e)=>{e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},mc=()=>{const t=[],e=(r,i)=>{lp(t,t.findIndex(o=>o.event===r&&(o.cb===i||!i)))},n=(r,i,o)=>{t.filter(s=>s.event===r).map(s=>s.cb).forEach(s=>wk(()=>s(...i),o))};return{fireSync:(r,...i)=>{n(r,i,!0)},fire:(r,...i)=>{n(r,i,!1)},on:(r,i)=>{t.push({event:r,cb:i})},onOnce:(r,i)=>{t.push({event:r,cb:(...o)=>{e(r,i),i(...o)}})},off:e}},$b=(t,e,n)=>{Object.getOwnPropertyNames(t).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r)))},Ak=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Mn=t=>{const e={};return $b(t,e,Ak),e},Tk=t=>{t.forEach((e,n)=>{e.released&&lp(t,n)})},Gt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},je={INPUT:1,LIMBO:2,LOCAL:3},Gb=t=>/[^0-9]+/.exec(t),Hb=()=>Gb(1.1 .toLocaleString())[0],Sk=()=>{const t=Hb(),e=1e3 .toLocaleString(),n=1e3 .toString();return e!==n?Gb(e)[0]:t==="."?",":"."},it={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},up=[],wr=(t,e,n)=>new Promise((r,i)=>{const o=up.filter(a=>a.key===t).map(a=>a.cb);if(o.length===0){r(e);return}const s=o.shift();o.reduce((a,u)=>a.then(c=>u(c,n)),s(e,n)).then(a=>r(a)).catch(a=>i(a))}),Po=(t,e,n)=>up.filter(r=>r.key===t).map(r=>r.cb(e,n)),Ik=(t,e)=>up.push({key:t,cb:e}),Ck=t=>Object.assign(fs,t),xu=()=>({...fs}),xk=t=>{xe(t,(e,n)=>{!fs[e]||(fs[e][0]=Ub(n,fs[e][0],fs[e][1]))})},fs={id:[null,it.STRING],name:["filepond",it.STRING],disabled:[!1,it.BOOLEAN],className:[null,it.STRING],required:[!1,it.BOOLEAN],captureMethod:[null,it.STRING],allowSyncAcceptAttribute:[!0,it.BOOLEAN],allowDrop:[!0,it.BOOLEAN],allowBrowse:[!0,it.BOOLEAN],allowPaste:[!0,it.BOOLEAN],allowMultiple:[!1,it.BOOLEAN],allowReplace:[!0,it.BOOLEAN],allowRevert:[!0,it.BOOLEAN],allowRemove:[!0,it.BOOLEAN],allowProcess:[!0,it.BOOLEAN],allowReorder:[!1,it.BOOLEAN],allowDirectoriesOnly:[!1,it.BOOLEAN],storeAsFile:[!1,it.BOOLEAN],forceRevert:[!1,it.BOOLEAN],maxFiles:[null,it.INT],checkValidity:[!1,it.BOOLEAN],itemInsertLocationFreedom:[!0,it.BOOLEAN],itemInsertLocation:["before",it.STRING],itemInsertInterval:[75,it.INT],dropOnPage:[!1,it.BOOLEAN],dropOnElement:[!0,it.BOOLEAN],dropValidation:[!1,it.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],it.ARRAY],instantUpload:[!0,it.BOOLEAN],maxParallelUploads:[2,it.INT],allowMinimumUploadDuration:[!0,it.BOOLEAN],chunkUploads:[!1,it.BOOLEAN],chunkForce:[!1,it.BOOLEAN],chunkSize:[5e6,it.INT],chunkRetryDelays:[[500,1e3,3e3],it.ARRAY],server:[null,it.SERVER_API],fileSizeBase:[1e3,it.INT],labelFileSizeBytes:["bytes",it.STRING],labelFileSizeKilobytes:["KB",it.STRING],labelFileSizeMegabytes:["MB",it.STRING],labelFileSizeGigabytes:["GB",it.STRING],labelDecimalSeparator:[Hb(),it.STRING],labelThousandsSeparator:[Sk(),it.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',it.STRING],labelInvalidField:["Field contains invalid files",it.STRING],labelFileWaitingForSize:["Waiting for size",it.STRING],labelFileSizeNotAvailable:["Size not available",it.STRING],labelFileCountSingular:["file in list",it.STRING],labelFileCountPlural:["files in list",it.STRING],labelFileLoading:["Loading",it.STRING],labelFileAdded:["Added",it.STRING],labelFileLoadError:["Error during load",it.STRING],labelFileRemoved:["Removed",it.STRING],labelFileRemoveError:["Error during remove",it.STRING],labelFileProcessing:["Uploading",it.STRING],labelFileProcessingComplete:["Upload complete",it.STRING],labelFileProcessingAborted:["Upload cancelled",it.STRING],labelFileProcessingError:["Error during upload",it.STRING],labelFileProcessingRevertError:["Error during revert",it.STRING],labelTapToCancel:["tap to cancel",it.STRING],labelTapToRetry:["tap to retry",it.STRING],labelTapToUndo:["tap to undo",it.STRING],labelButtonRemoveItem:["Remove",it.STRING],labelButtonAbortItemLoad:["Abort",it.STRING],labelButtonRetryItemLoad:["Retry",it.STRING],labelButtonAbortItemProcessing:["Cancel",it.STRING],labelButtonUndoItemProcessing:["Undo",it.STRING],labelButtonRetryItemProcessing:["Retry",it.STRING],labelButtonProcessItem:["Upload",it.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',it.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',it.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',it.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',it.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',it.STRING],oninit:[null,it.FUNCTION],onwarning:[null,it.FUNCTION],onerror:[null,it.FUNCTION],onactivatefile:[null,it.FUNCTION],oninitfile:[null,it.FUNCTION],onaddfilestart:[null,it.FUNCTION],onaddfileprogress:[null,it.FUNCTION],onaddfile:[null,it.FUNCTION],onprocessfilestart:[null,it.FUNCTION],onprocessfileprogress:[null,it.FUNCTION],onprocessfileabort:[null,it.FUNCTION],onprocessfilerevert:[null,it.FUNCTION],onprocessfile:[null,it.FUNCTION],onprocessfiles:[null,it.FUNCTION],onremovefile:[null,it.FUNCTION],onpreparefile:[null,it.FUNCTION],onupdatefiles:[null,it.FUNCTION],onreorderfiles:[null,it.FUNCTION],beforeDropFile:[null,it.FUNCTION],beforeAddFile:[null,it.FUNCTION],beforeRemoveFile:[null,it.FUNCTION],beforePrepareFile:[null,it.FUNCTION],stylePanelLayout:[null,it.STRING],stylePanelAspectRatio:[null,it.STRING],styleItemPanelAspectRatio:[null,it.STRING],styleButtonRemoveItemPosition:["left",it.STRING],styleButtonProcessItemPosition:["right",it.STRING],styleLoadIndicatorPosition:["right",it.STRING],styleProgressIndicatorPosition:["right",it.STRING],styleButtonRemoveItemAlign:[!1,it.BOOLEAN],files:[[],it.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],it.ARRAY]},Ao=(t,e)=>ci(e)?t[0]||null:Bs(e)?t[e]||null:(typeof e=="object"&&(e=e.id),t.find(n=>n.id===e)||null),Vb=t=>{if(ci(t))return t;if(/:/.test(t)){const e=t.split(":");return e[1]/e[0]}return parseFloat(t)},Ar=t=>t.filter(e=>!e.archived),Wb={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Nl=null,Rk=()=>{if(Nl===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,Nl=e.files.length===1}catch{Nl=!1}return Nl},Ok=[Gt.LOAD_ERROR,Gt.PROCESSING_ERROR,Gt.PROCESSING_REVERT_ERROR],Dk=[Gt.LOADING,Gt.PROCESSING,Gt.PROCESSING_QUEUED,Gt.INIT],Lk=[Gt.PROCESSING_COMPLETE],Mk=t=>Ok.includes(t.status),kk=t=>Dk.includes(t.status),Pk=t=>Lk.includes(t.status),ey=t=>Je(t.options.server)&&(Je(t.options.server.process)||wo(t.options.server.process)),Nk=t=>({GET_STATUS:()=>{const e=Ar(t.items),{EMPTY:n,ERROR:r,BUSY:i,IDLE:o,READY:s}=Wb;return e.length===0?n:e.some(Mk)?r:e.some(kk)?i:e.some(Pk)?s:o},GET_ITEM:e=>Ao(t.items,e),GET_ACTIVE_ITEM:e=>Ao(Ar(t.items),e),GET_ACTIVE_ITEMS:()=>Ar(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:e=>{const n=Ao(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:e=>{const n=Ao(t.items,e);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(e=>/^style/.test(e)).map(e=>({name:e,value:t.options[e]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:Vb(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:e=>Ar(t.items).filter(n=>n.status===e),GET_TOTAL_ITEMS:()=>Ar(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&Rk()&&!ey(t),IS_ASYNC:()=>ey(t),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Fk=t=>{const e=Ar(t.items).length;if(!t.options.allowMultiple)return e===0;const n=t.options.maxFiles;return n===null||e<n},jb=(t,e,n)=>Math.max(Math.min(n,t),e),Bk=(t,e,n)=>t.splice(e,0,n),Uk=(t,e,n)=>ci(e)?null:typeof n>"u"?(t.push(e),e):(n=jb(n,0,t.length),Bk(t,n,e),e),Jh=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),Ha=t=>t.split("/").pop().split("?").shift(),vc=t=>t.split(".").pop(),$k=t=>{if(typeof t!="string")return"";const e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?e==="jpeg"?"jpg":e:""},ca=(t,e="")=>(e+t).slice(-e.length),zb=(t=new Date)=>`${t.getFullYear()}-${ca(t.getMonth()+1,"00")}-${ca(t.getDate(),"00")}_${ca(t.getHours(),"00")}-${ca(t.getMinutes(),"00")}-${ca(t.getSeconds(),"00")}`,Rs=(t,e,n=null,r=null)=>{const i=typeof n=="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return i.lastModifiedDate=new Date,t._relativePath&&(i._relativePath=t._relativePath),bn(e)||(e=zb()),e&&r===null&&vc(e)?i.name=e:(r=r||$k(i.type),i.name=e+(r?"."+r:"")),i},Gk=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,qb=(t,e)=>{const n=Gk();if(n){const r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},Hk=(t,e)=>{const n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return qb(n,e)},Yb=t=>(/^data:(.+);/.exec(t)||[])[1]||null,Vk=t=>t.split(",")[1].replace(/\s/g,""),Wk=t=>atob(Vk(t)),jk=t=>{const e=Yb(t),n=Wk(t);return Hk(n,e)},zk=(t,e,n)=>Rs(jk(t),e,null,n),qk=t=>{if(!/^content-disposition:/i.test(t))return null;const e=t.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return e.length?decodeURI(e[e.length-1]):null},Yk=t=>{if(/content-length:/i.test(t)){const e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Kk=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,cp=t=>{const e={source:null,name:null,size:null},n=t.split(`
`);for(let r of n){const i=qk(r);if(i){e.name=i;continue}const o=Yk(r);if(o){e.size=o;continue}const s=Kk(r);if(s){e.source=s;continue}}return e},Xk=t=>{const e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>e.progress,r=()=>{e.request&&e.request.abort&&e.request.abort()},i=()=>{const a=e.source;s.fire("init",a),a instanceof File?s.fire("load",a):a instanceof Blob?s.fire("load",Rs(a,a.name)):Jh(a)?s.fire("load",zk(a)):o(a)},o=a=>{if(!t){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}e.timestamp=Date.now(),e.request=t(a,u=>{e.duration=Date.now()-e.timestamp,e.complete=!0,u instanceof Blob&&(u=Rs(u,u.name||Ha(a))),s.fire("load",u instanceof Blob?u:u?u.body:null)},u=>{s.fire("error",typeof u=="string"?{type:"error",code:0,body:u}:u)},(u,c,h)=>{if(h&&(e.size=h),e.duration=Date.now()-e.timestamp,!u){e.progress=null;return}e.progress=c/h,s.fire("progress",e.progress)},()=>{s.fire("abort")},u=>{const c=cp(typeof u=="string"?u:u.headers);s.fire("meta",{size:e.size||c.size,filename:c.name,source:c.source})})},s={...mc(),setSource:a=>e.source=a,getProgress:n,abort:r,load:i};return s},ny=t=>/GET|HEAD/.test(t),xo=(t,e,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,s.abort()}};let i=!1,o=!1;n={method:"POST",headers:{},withCredentials:!1,...n},e=encodeURI(e),ny(n.method)&&t&&(e=`${e}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const s=new XMLHttpRequest,a=ny(n.method)?s:s.upload;return a.onprogress=u=>{i||r.onprogress(u.lengthComputable,u.loaded,u.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||o||(o=!0,r.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?r.onload(s):r.onerror(s)},s.onerror=()=>r.onerror(s),s.onabort=()=>{i=!0,r.onabort()},s.ontimeout=()=>r.ontimeout(s),s.open(n.method,e,!0),Bs(n.timeout)&&(s.timeout=n.timeout),Object.keys(n.headers).forEach(u=>{const c=unescape(encodeURIComponent(n.headers[u]));s.setRequestHeader(u,c)}),n.responseType&&(s.responseType=n.responseType),n.withCredentials&&(s.withCredentials=!0),s.send(t),r},Me=(t,e,n,r)=>({type:t,code:e,body:n,headers:r}),Ro=t=>e=>{t(Me("error",0,"Timeout",e.getAllResponseHeaders()))},ry=t=>/\?/.test(t),ba=(...t)=>{let e="";return t.forEach(n=>{e+=ry(e)&&ry(n)?n.replace(/\?/,"&"):n}),e},sh=(t="",e)=>{if(typeof e=="function")return e;if(!e||!bn(e.url))return null;const n=e.onload||(i=>i),r=e.onerror||(i=>null);return(i,o,s,a,u,c)=>{const h=xo(i,ba(t,e.url),{...e,responseType:"blob"});return h.onload=p=>{const d=p.getAllResponseHeaders(),g=cp(d).name||Ha(i);o(Me("load",p.status,e.method==="HEAD"?null:Rs(n(p.response),g),d))},h.onerror=p=>{s(Me("error",p.status,r(p.response)||p.statusText,p.getAllResponseHeaders()))},h.onheaders=p=>{c(Me("headers",p.status,null,p.getAllResponseHeaders()))},h.ontimeout=Ro(s),h.onprogress=a,h.onabort=u,h}},ar={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Zk=(t,e,n,r,i,o,s,a,u,c,h)=>{const p=[],{chunkTransferId:d,chunkServer:g,chunkSize:y,chunkRetryDelays:m}=h,_={serverId:d,aborted:!1},E=e.ondata||(M=>M),w=e.onload||((M,k)=>k==="HEAD"?M.getResponseHeader("Upload-Offset"):M.response),v=e.onerror||(M=>null),b=M=>{const k=new FormData;Je(i)&&k.append(n,JSON.stringify(i));const R=typeof e.headers=="function"?e.headers(r,i):{...e.headers,"Upload-Length":r.size},B={...e,headers:R},$=xo(E(k),ba(t,e.url),B);$.onload=H=>M(w(H,B.method)),$.onerror=H=>s(Me("error",H.status,v(H.response)||H.statusText,H.getAllResponseHeaders())),$.ontimeout=Ro(s)},T=M=>{const k=ba(t,g.url,_.serverId),B={headers:typeof e.headers=="function"?e.headers(_.serverId):{...e.headers},method:"HEAD"},$=xo(null,k,B);$.onload=H=>M(w(H,B.method)),$.onerror=H=>s(Me("error",H.status,v(H.response)||H.statusText,H.getAllResponseHeaders())),$.ontimeout=Ro(s)},I=Math.floor(r.size/y);for(let M=0;M<=I;M++){const k=M*y,R=r.slice(k,k+y,"application/offset+octet-stream");p[M]={index:M,size:R.size,offset:k,data:R,file:r,progress:0,retries:[...m],status:ar.QUEUED,error:null,request:null,timeout:null}}const S=()=>o(_.serverId),C=M=>M.status===ar.QUEUED||M.status===ar.ERROR,D=M=>{if(_.aborted)return;if(M=M||p.find(C),!M){p.every(j=>j.status===ar.COMPLETE)&&S();return}M.status=ar.PROCESSING,M.progress=null;const k=g.ondata||(j=>j),R=g.onerror||(j=>null),B=ba(t,g.url,_.serverId),$=typeof g.headers=="function"?g.headers(M):{...g.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":M.offset,"Upload-Length":r.size,"Upload-Name":r.name},H=M.request=xo(k(M.data),B,{...g,headers:$});H.onload=()=>{M.status=ar.COMPLETE,M.request=null,L()},H.onprogress=(j,X,ft)=>{M.progress=j?X:null,P()},H.onerror=j=>{M.status=ar.ERROR,M.request=null,M.error=R(j.response)||j.statusText,N(M)||s(Me("error",j.status,R(j.response)||j.statusText,j.getAllResponseHeaders()))},H.ontimeout=j=>{M.status=ar.ERROR,M.request=null,N(M)||Ro(s)(j)},H.onabort=()=>{M.status=ar.QUEUED,M.request=null,u()}},N=M=>M.retries.length===0?!1:(M.status=ar.WAITING,clearTimeout(M.timeout),M.timeout=setTimeout(()=>{D(M)},M.retries.shift()),!0),P=()=>{const M=p.reduce((R,B)=>R===null||B.progress===null?null:R+B.progress,0);if(M===null)return a(!1,0,0);const k=p.reduce((R,B)=>R+B.size,0);a(!0,M,k)},L=()=>{p.filter(k=>k.status===ar.PROCESSING).length>=1||D()},x=()=>{p.forEach(M=>{clearTimeout(M.timeout),M.request&&M.request.abort()})};return _.serverId?T(M=>{_.aborted||(p.filter(k=>k.offset<M).forEach(k=>{k.status=ar.COMPLETE,k.progress=k.size}),L())}):b(M=>{_.aborted||(c(M),_.serverId=M,L())}),{abort:()=>{_.aborted=!0,x()}}},Jk=(t,e,n,r)=>(i,o,s,a,u,c,h)=>{if(!i)return;const p=r.chunkUploads,d=p&&i.size>r.chunkSize,g=p&&(d||r.chunkForce);if(i instanceof Blob&&g)return Zk(t,e,n,i,o,s,a,u,c,h,r);const y=e.ondata||(T=>T),m=e.onload||(T=>T),_=e.onerror||(T=>null),E=typeof e.headers=="function"?e.headers(i,o)||{}:{...e.headers},w={...e,headers:E};var v=new FormData;Je(o)&&v.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(T=>{v.append(n,T.file,T.name===null?T.file.name:`${T.name}${T.file.name}`)});const b=xo(y(v),ba(t,e.url),w);return b.onload=T=>{s(Me("load",T.status,m(T.response),T.getAllResponseHeaders()))},b.onerror=T=>{a(Me("error",T.status,_(T.response)||T.statusText,T.getAllResponseHeaders()))},b.ontimeout=Ro(a),b.onprogress=u,b.onabort=c,b},Qk=(t="",e,n,r)=>typeof e=="function"?(...i)=>e(n,...i,r):!e||!bn(e.url)?null:Jk(t,e,n,r),fa=(t="",e)=>{if(typeof e=="function")return e;if(!e||!bn(e.url))return(i,o)=>o();const n=e.onload||(i=>i),r=e.onerror||(i=>null);return(i,o,s)=>{const a=xo(i,t+e.url,e);return a.onload=u=>{o(Me("load",u.status,n(u.response),u.getAllResponseHeaders()))},a.onerror=u=>{s(Me("error",u.status,r(u.response)||u.statusText,u.getAllResponseHeaders()))},a.ontimeout=Ro(s),a}},Kb=(t=0,e=1)=>t+Math.random()*(e-t),tP=(t,e=1e3,n=0,r=25,i=250)=>{let o=null;const s=Date.now(),a=()=>{let u=Date.now()-s,c=Kb(r,i);u+c>e&&(c=u+c-e);let h=u/e;if(h>=1||document.hidden){t(1);return}t(h),o=setTimeout(a,c)};return e>0&&a(),{clear:()=>{clearTimeout(o)}}},eP=(t,e)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=e,i=(h,p)=>{const d=()=>{n.duration===0||n.progress===null||c.fire("progress",c.getProgress())},g=()=>{n.complete=!0,c.fire("load-perceived",n.response.body)};c.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=tP(y=>{n.perceivedProgress=y,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&g()},r?Kb(750,1500):0),n.request=t(h,p,y=>{n.response=Je(y)?y:{type:"load",code:200,body:`${y}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,c.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&g()},y=>{n.perceivedPerformanceUpdater.clear(),c.fire("error",Je(y)?y:{type:"error",code:0,body:`${y}`})},(y,m,_)=>{n.duration=Date.now()-n.timestamp,n.progress=y?m/_:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),c.fire("abort",n.response?n.response.body:null)},y=>{c.fire("transfer",y)})},o=()=>{!n.request||(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},s=()=>{o(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,u=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,c={...mc(),process:i,abort:o,getProgress:a,getDuration:u,reset:s};return c},Xb=t=>t.substring(0,t.lastIndexOf("."))||t,nP=t=>{let e=[t.name,t.size,t.type];return t instanceof Blob||Jh(t)?e[0]=t.name||zb():Jh(t)?(e[1]=t.length,e[2]=Yb(t)):bn(t)&&(e[0]=Ha(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},Os=t=>!!(t instanceof File||t instanceof Blob&&t.name),Zb=t=>{if(!Je(t))return t;const e=dc(t)?[]:{};for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];e[n]=r&&Je(r)?Zb(r):r}return e},rP=(t=null,e=null,n=null)=>{const r=ap(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Gt.PROCESSING_COMPLETE:Gt.INIT,activeLoader:null,activeProcessor:null};let o=null;const s={},a=C=>i.status=C,u=(C,...D)=>{i.released||i.frozen||I.fire(C,...D)},c=()=>vc(i.file.name),h=()=>i.file.type,p=()=>i.file.size,d=()=>i.file,g=(C,D,N)=>{if(i.source=C,I.fireSync("init"),i.file){I.fireSync("load-skip");return}i.file=nP(C),D.on("init",()=>{u("load-init")}),D.on("meta",P=>{i.file.size=P.size,i.file.filename=P.filename,P.source&&(t=je.LIMBO,i.serverFileReference=P.source,i.status=Gt.PROCESSING_COMPLETE),u("load-meta")}),D.on("progress",P=>{a(Gt.LOADING),u("load-progress",P)}),D.on("error",P=>{a(Gt.LOAD_ERROR),u("load-request-error",P)}),D.on("abort",()=>{a(Gt.INIT),u("load-abort")}),D.on("load",P=>{i.activeLoader=null;const L=M=>{i.file=Os(M)?M:i.file,t===je.LIMBO&&i.serverFileReference?a(Gt.PROCESSING_COMPLETE):a(Gt.IDLE),u("load")},x=M=>{i.file=P,u("load-meta"),a(Gt.LOAD_ERROR),u("load-file-error",M)};if(i.serverFileReference){L(P);return}N(P,L,x)}),D.setSource(C),i.activeLoader=D,D.load()},y=()=>{!i.activeLoader||i.activeLoader.load()},m=()=>{if(i.activeLoader){i.activeLoader.abort();return}a(Gt.INIT),u("load-abort")},_=(C,D)=>{if(i.processingAborted){i.processingAborted=!1;return}if(a(Gt.PROCESSING),o=null,!(i.file instanceof Blob)){I.on("load",()=>{_(C,D)});return}C.on("load",L=>{i.transferId=null,i.serverFileReference=L}),C.on("transfer",L=>{i.transferId=L}),C.on("load-perceived",L=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=L,a(Gt.PROCESSING_COMPLETE),u("process-complete",L)}),C.on("start",()=>{u("process-start")}),C.on("error",L=>{i.activeProcessor=null,a(Gt.PROCESSING_ERROR),u("process-error",L)}),C.on("abort",L=>{i.activeProcessor=null,i.serverFileReference=L,a(Gt.IDLE),u("process-abort"),o&&o()}),C.on("progress",L=>{u("process-progress",L)});const N=L=>{i.archived||C.process(L,{...s})},P=console.error;D(i.file,N,P),i.activeProcessor=C},E=()=>{i.processingAborted=!1,a(Gt.PROCESSING_QUEUED)},w=()=>new Promise(C=>{if(!i.activeProcessor){i.processingAborted=!0,a(Gt.IDLE),u("process-abort"),C();return}o=()=>{C()},i.activeProcessor.abort()}),v=(C,D)=>new Promise((N,P)=>{const L=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(L===null){N();return}C(L,()=>{i.serverFileReference=null,i.transferId=null,N()},x=>{if(!D){N();return}a(Gt.PROCESSING_REVERT_ERROR),u("process-revert-error"),P(x)}),a(Gt.IDLE),u("process-revert")}),b=(C,D,N)=>{const P=C.split("."),L=P[0],x=P.pop();let M=s;P.forEach(k=>M=M[k]),JSON.stringify(M[x])!==JSON.stringify(D)&&(M[x]=D,u("metadata-update",{key:L,value:s[L],silent:N}))},I={id:{get:()=>r},origin:{get:()=>t,set:C=>t=C},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>Xb(i.file.name)},fileExtension:{get:c},fileType:{get:h},fileSize:{get:p},file:{get:d},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:C=>Zb(C?s[C]:s),setMetadata:(C,D,N)=>{if(Je(C)){const P=C;return Object.keys(P).forEach(L=>{b(L,P[L],D)}),C}return b(C,D,N),D},extend:(C,D)=>S[C]=D,abortLoad:m,retryLoad:y,requestProcessing:E,abortProcessing:w,load:g,process:_,revert:v,...mc(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived}},S=$i(I);return S},iP=(t,e)=>ci(e)?0:bn(e)?t.findIndex(n=>n.id===e):-1,iy=(t,e)=>{const n=iP(t,e);if(!(n<0))return t[n]||null},oy=(t,e,n,r,i,o)=>{const s=xo(null,t,{method:"GET",responseType:"blob"});return s.onload=a=>{const u=a.getAllResponseHeaders(),c=cp(u).name||Ha(t);e(Me("load",a.status,Rs(a.response,c),u))},s.onerror=a=>{n(Me("error",a.status,a.statusText,a.getAllResponseHeaders()))},s.onheaders=a=>{o(Me("headers",a.status,null,a.getAllResponseHeaders()))},s.ontimeout=Ro(n),s.onprogress=r,s.onabort=i,s},sy=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),oP=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&sy(location.href)!==sy(t),Fl=t=>(...e)=>wo(t)?t(...e):t,sP=t=>!Os(t.file),ah=(t,e)=>{clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:Ar(e.items)})},0)},ay=(t,...e)=>new Promise(n=>{if(!t)return n(!0);const r=t(...e);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),lh=(t,e)=>{t.items.sort((n,r)=>e(Mn(n),Mn(r)))},lr=(t,e)=>({query:n,success:r=()=>{},failure:i=()=>{},...o}={})=>{const s=Ao(t.items,n);if(!s){i({error:Me("error",0,"Item not found"),file:null});return}e(s,r,i,o||{})},aP=(t,e,n)=>({ABORT_ALL:()=>{Ar(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const i=r.map(s=>({source:s.source?s.source:s,options:s.options}));let o=Ar(n.items);o.forEach(s=>{i.find(a=>a.source===s.source||a.source===s.file)||t("REMOVE_ITEM",{query:s,remove:!1})}),o=Ar(n.items),i.forEach((s,a)=>{o.find(u=>u.source===s.source||u.file===s.source)||t("ADD_ITEM",{...s,interactionMethod:hr.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:i,change:o})=>{o.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const s=iy(n.items,r);if(!e("IS_ASYNC")){wr("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:e,action:i,change:o}).then(h=>{const p=e("GET_BEFORE_PREPARE_FILE");p&&(h=p(s,h)),h&&t("REQUEST_PREPARE_OUTPUT",{query:r,item:s,success:d=>{t("DID_PREPARE_OUTPUT",{id:r,file:d})}},!0)});return}s.origin===je.LOCAL&&t("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const a=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:r})},32)},u=h=>{s.revert(fa(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(h?a:()=>{}).catch(()=>{})},c=h=>{s.abortProcessing().then(h?a:()=>{})};if(s.status===Gt.PROCESSING_COMPLETE)return u(n.options.instantUpload);if(s.status===Gt.PROCESSING)return c(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:i})=>{const o=Ao(n.items,r);if(!o)return;const s=n.items.indexOf(o);i=jb(i,0,n.items.length-1),s!==i&&n.items.splice(i,0,n.items.splice(s,1)[0])},SORT:({compare:r})=>{lh(n,r),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:i,interactionMethod:o,success:s=()=>{},failure:a=()=>{}})=>{let u=i;if(i===-1||typeof i>"u"){const g=e("GET_ITEM_INSERT_LOCATION"),y=e("GET_TOTAL_ITEMS");u=g==="before"?0:y}const c=e("GET_IGNORED_FILES"),h=g=>Os(g)?!c.includes(g.name.toLowerCase()):!ci(g),d=r.filter(h).map(g=>new Promise((y,m)=>{t("ADD_ITEM",{interactionMethod:o,source:g.source||g,success:y,failure:m,index:u++,options:g.options||{}})}));Promise.all(d).then(s).catch(a)},ADD_ITEM:({source:r,index:i=-1,interactionMethod:o,success:s=()=>{},failure:a=()=>{},options:u={}})=>{if(ci(r)){a({error:Me("error",0,"No source"),file:null});return}if(Os(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!Fk(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const w=Me("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:r,error:w}),a({error:w,file:null});return}const E=Ar(n.items)[0];if(E.status===Gt.PROCESSING_COMPLETE||E.status===Gt.PROCESSING_REVERT_ERROR){const w=e("GET_FORCE_REVERT");if(E.revert(fa(n.options.server.url,n.options.server.revert),w).then(()=>{!w||t("ADD_ITEM",{source:r,index:i,interactionMethod:o,success:s,failure:a,options:u})}).catch(()=>{}),w)return}t("REMOVE_ITEM",{query:E.id})}const c=u.type==="local"?je.LOCAL:u.type==="limbo"?je.LIMBO:je.INPUT,h=rP(c,c===je.INPUT?null:r,u.file);Object.keys(u.metadata||{}).forEach(E=>{h.setMetadata(E,u.metadata[E])}),Po("DID_CREATE_ITEM",h,{query:e,dispatch:t});const p=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(i=p==="before"?-1:n.items.length),Uk(n.items,h,i),wo(p)&&r&&lh(n,p);const d=h.id;h.on("init",()=>{t("DID_INIT_ITEM",{id:d})}),h.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:d})}),h.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:d})}),h.on("load-progress",E=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:E})}),h.on("load-request-error",E=>{const w=Fl(n.options.labelFileLoadError)(E);if(E.code>=400&&E.code<500){t("DID_THROW_ITEM_INVALID",{id:d,error:E,status:{main:w,sub:`${E.code} (${E.body})`}}),a({error:E,file:Mn(h)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:E,status:{main:w,sub:n.options.labelTapToRetry}})}),h.on("load-file-error",E=>{t("DID_THROW_ITEM_INVALID",{id:d,error:E.status,status:E.status}),a({error:E.status,file:Mn(h)})}),h.on("load-abort",()=>{t("REMOVE_ITEM",{query:d})}),h.on("load-skip",()=>{t("COMPLETE_LOAD_ITEM",{query:d,item:h,data:{source:r,success:s}})}),h.on("load",()=>{const E=w=>{if(!w){t("REMOVE_ITEM",{query:d});return}h.on("metadata-update",v=>{t("DID_UPDATE_ITEM_METADATA",{id:d,change:v})}),wr("SHOULD_PREPARE_OUTPUT",!1,{item:h,query:e}).then(v=>{const b=e("GET_BEFORE_PREPARE_FILE");b&&(v=b(h,v));const T=()=>{t("COMPLETE_LOAD_ITEM",{query:d,item:h,data:{source:r,success:s}}),ah(t,n)};if(v){t("REQUEST_PREPARE_OUTPUT",{query:d,item:h,success:I=>{t("DID_PREPARE_OUTPUT",{id:d,file:I}),T()}},!0);return}T()})};wr("DID_LOAD_ITEM",h,{query:e,dispatch:t}).then(()=>{ay(e("GET_BEFORE_ADD_FILE"),Mn(h)).then(E)}).catch(w=>{if(!w||!w.error||!w.status)return E(!1);t("DID_THROW_ITEM_INVALID",{id:d,error:w.error,status:w.status})})}),h.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:d})}),h.on("process-progress",E=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:E})}),h.on("process-error",E=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:E,status:{main:Fl(n.options.labelFileProcessingError)(E),sub:n.options.labelTapToRetry}})}),h.on("process-revert-error",E=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:E,status:{main:Fl(n.options.labelFileProcessingRevertError)(E),sub:n.options.labelTapToRetry}})}),h.on("process-complete",E=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:E}),t("DID_DEFINE_VALUE",{id:d,value:E})}),h.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:d})}),h.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:d}),t("DID_DEFINE_VALUE",{id:d,value:null})}),t("DID_ADD_ITEM",{id:d,index:i,interactionMethod:o}),ah(t,n);const{url:g,load:y,restore:m,fetch:_}=n.options.server||{};h.load(r,Xk(c===je.INPUT?bn(r)&&oP(r)&&_?sh(g,_):oy:c===je.LIMBO?sh(g,m):sh(g,y)),(E,w,v)=>{wr("LOAD_FILE",E,{query:e}).then(w).catch(v)})},REQUEST_PREPARE_OUTPUT:({item:r,success:i,failure:o=()=>{}})=>{const s={error:Me("error",0,"Item not found"),file:null};if(r.archived)return o(s);wr("PREPARE_OUTPUT",r.file,{query:e,item:r}).then(a=>{wr("COMPLETE_PREPARE_OUTPUT",a,{query:e,item:r}).then(u=>{if(r.archived)return o(s);i(u)})})},COMPLETE_LOAD_ITEM:({item:r,data:i})=>{const{success:o,source:s}=i,a=e("GET_ITEM_INSERT_LOCATION");if(wo(a)&&s&&lh(n,a),t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===je.INPUT?null:s}),o(Mn(r)),r.origin===je.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===je.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),t("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||s});return}e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:lr(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:lr(n,(r,i,o)=>{t("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:s=>{t("DID_PREPARE_OUTPUT",{id:r.id,file:s}),i({file:r,output:s})},failure:o},!0)}),REQUEST_ITEM_PROCESSING:lr(n,(r,i,o)=>{if(!(r.status===Gt.IDLE||r.status===Gt.PROCESSING_ERROR)){const a=()=>t("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o}),u=()=>document.hidden?a():setTimeout(a,32);r.status===Gt.PROCESSING_COMPLETE||r.status===Gt.PROCESSING_REVERT_ERROR?r.revert(fa(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(u).catch(()=>{}):r.status===Gt.PROCESSING&&r.abortProcessing().then(u);return}r.status!==Gt.PROCESSING_QUEUED&&(r.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),t("PROCESS_ITEM",{query:r,success:i,failure:o},!0))}),PROCESS_ITEM:lr(n,(r,i,o)=>{const s=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Gt.PROCESSING).length===s){n.processingQueue.push({id:r.id,success:i,failure:o});return}if(r.status===Gt.PROCESSING)return;const u=()=>{const h=n.processingQueue.shift();if(!h)return;const{id:p,success:d,failure:g}=h,y=Ao(n.items,p);if(!y||y.archived){u();return}t("PROCESS_ITEM",{query:p,success:d,failure:g},!0)};r.onOnce("process-complete",()=>{i(Mn(r)),u();const h=n.options.server;if(n.options.instantUpload&&r.origin===je.LOCAL&&wo(h.remove)){const g=()=>{};r.origin=je.LIMBO,n.options.server.remove(r.source,g,g)}e("GET_ITEMS_BY_STATUS",Gt.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",h=>{o({error:h,file:Mn(r)}),u()});const c=n.options;r.process(eP(Qk(c.server.url,c.server.process,c.name,{chunkTransferId:r.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(h,p,d)=>{wr("PREPARE_OUTPUT",h,{query:e,item:r}).then(g=>{t("DID_PREPARE_OUTPUT",{id:r.id,file:g}),p(g)}).catch(d)})}),RETRY_ITEM_PROCESSING:lr(n,r=>{t("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:lr(n,r=>{ay(e("GET_BEFORE_REMOVE_FILE"),Mn(r)).then(i=>{!i||t("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:lr(n,r=>{r.release()}),REMOVE_ITEM:lr(n,(r,i,o,s)=>{const a=()=>{const c=r.id;iy(n.items,c).archive(),t("DID_REMOVE_ITEM",{error:null,id:c,item:r}),ah(t,n),i(Mn(r))},u=n.options.server;r.origin===je.LOCAL&&u&&wo(u.remove)&&s.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:r.id}),u.remove(r.source,()=>a(),c=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Me("error",0,c,null),status:{main:Fl(n.options.labelFileRemoveError)(c),sub:n.options.labelTapToRetry}})})):((s.revert&&r.origin!==je.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(fa(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:lr(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:lr(n,r=>{if(r.serverId){t("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&t("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:lr(n,r=>{if(!n.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:r});return}const i=a=>{!a||t("REVERT_ITEM_PROCESSING",{query:r})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);const s=o(Mn(r));if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),REVERT_ITEM_PROCESSING:lr(n,r=>{r.revert(fa(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||sP(r))&&t("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const i=Object.keys(r),o=lP.filter(a=>i.includes(a));[...o,...Object.keys(r).filter(a=>!o.includes(a))].forEach(a=>{t(`SET_${gc(a,"_").toUpperCase()}`,{value:r[a]})})}}),lP=["server"],fp=t=>t,fi=t=>document.createElement(t),ke=(t,e)=>{let n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},ly=(t,e,n,r)=>{const i=(r%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},uP=(t,e,n,r,i,o)=>{const s=ly(t,e,n,i),a=ly(t,e,n,r);return["M",s.x,s.y,"A",n,n,0,o,0,a.x,a.y].join(" ")},cP=(t,e,n,r,i)=>{let o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),uP(t,e,n,Math.min(.9999,r)*360,Math.min(.9999,i)*360,o)},fP=({root:t,props:e})=>{e.spin=!1,e.progress=0,e.opacity=0;const n=Cu("svg");t.ref.path=Cu("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(t.ref.path),t.ref.svg=n,t.appendChild(n)},hP=({root:t,props:e})=>{if(e.opacity===0)return;e.align&&(t.element.dataset.align=e.align);const n=parseInt(Fe(t.ref.path,"stroke-width"),10),r=t.rect.element.width*.5;let i=0,o=0;e.spin?(i=0,o=.5):(i=0,o=e.progress);const s=cP(r,r,r-n,i,o);Fe(t.ref.path,"d",s),Fe(t.ref.path,"stroke-opacity",e.spin||e.progress>0?1:0)},uy=Ue({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:fP,write:hP,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),dP=({root:t,props:e})=>{t.element.innerHTML=(e.icon||"")+`<span>${e.label}</span>`,e.isDisabled=!1},pP=({root:t,props:e})=>{const{isDisabled:n}=e,r=t.query("GET_DISABLED")||e.opacity===0;r&&!n?(e.isDisabled=!0,Fe(t.element,"disabled","disabled")):!r&&n&&(e.isDisabled=!1,t.element.removeAttribute("disabled"))},Jb=Ue({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:dP,write:pP}),Qb=(t,e=".",n=1e3,r={})=>{const{labelBytes:i="bytes",labelKilobytes:o="KB",labelMegabytes:s="MB",labelGigabytes:a="GB"}=r;t=Math.round(Math.abs(t));const u=n,c=n*n,h=n*n*n;return t<u?`${t} ${i}`:t<c?`${Math.floor(t/u)} ${o}`:t<h?`${cy(t/c,1,e)} ${s}`:`${cy(t/h,2,e)} ${a}`},cy=(t,e,n)=>t.toFixed(e).split(".").filter(r=>r!=="0").join(n),gP=({root:t,props:e})=>{const n=fi("span");n.className="filepond--file-info-main",Fe(n,"aria-hidden","true"),t.appendChild(n),t.ref.fileName=n;const r=fi("span");r.className="filepond--file-info-sub",t.appendChild(r),t.ref.fileSize=r,ke(r,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),ke(n,fp(t.query("GET_ITEM_NAME",e.id)))},Qh=({root:t,props:e})=>{ke(t.ref.fileSize,Qb(t.query("GET_ITEM_SIZE",e.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),ke(t.ref.fileName,fp(t.query("GET_ITEM_NAME",e.id)))},fy=({root:t,props:e})=>{if(Bs(t.query("GET_ITEM_SIZE",e.id))){Qh({root:t,props:e});return}ke(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},mP=Ue({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Tn({DID_LOAD_ITEM:Qh,DID_UPDATE_ITEM_META:Qh,DID_THROW_ITEM_LOAD_ERROR:fy,DID_THROW_ITEM_INVALID:fy}),didCreateView:t=>{Po("CREATE_VIEW",{...t,view:t})},create:gP,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),t0=t=>Math.round(t*100),vP=({root:t})=>{const e=fi("span");e.className="filepond--file-status-main",t.appendChild(e),t.ref.main=e;const n=fi("span");n.className="filepond--file-status-sub",t.appendChild(n),t.ref.sub=n,e0({root:t,action:{progress:null}})},e0=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${t0(e.progress)}%`;ke(t.ref.main,n),ke(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},yP=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${t0(e.progress)}%`;ke(t.ref.main,n),ke(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},_P=({root:t})=>{ke(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),ke(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},EP=({root:t})=>{ke(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),ke(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},bP=({root:t})=>{ke(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),ke(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},hy=({root:t})=>{ke(t.ref.main,""),ke(t.ref.sub,"")},ha=({root:t,action:e})=>{ke(t.ref.main,e.status.main),ke(t.ref.sub,e.status.sub)},wP=Ue({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Tn({DID_LOAD_ITEM:hy,DID_REVERT_ITEM_PROCESSING:hy,DID_REQUEST_ITEM_PROCESSING:_P,DID_ABORT_ITEM_PROCESSING:EP,DID_COMPLETE_ITEM_PROCESSING:bP,DID_UPDATE_ITEM_PROCESS_PROGRESS:yP,DID_UPDATE_ITEM_LOAD_PROGRESS:e0,DID_THROW_ITEM_LOAD_ERROR:ha,DID_THROW_ITEM_INVALID:ha,DID_THROW_ITEM_PROCESSING_ERROR:ha,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:ha,DID_THROW_ITEM_REMOVE_ERROR:ha}),didCreateView:t=>{Po("CREATE_VIEW",{...t,view:t})},create:vP,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),td={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ed=[];xe(td,t=>{ed.push(t)});var qn=t=>{if(nd(t)==="right")return 0;const e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},AP=t=>t.ref.buttonAbortItemLoad.rect.element.width,Bl=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),TP=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),SP=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),IP=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),nd=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),CP={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:SP},processProgressIndicator:{opacity:0,align:IP},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},dy={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qn},status:{translateX:qn}},uh={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},hs={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:qn},status:{translateX:qn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:qn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:nd},info:{translateX:qn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:nd},buttonRemoveItem:{opacity:1},info:{translateX:qn},status:{opacity:1,translateX:qn}},DID_LOAD_ITEM:dy,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:qn},status:{translateX:qn}},DID_START_ITEM_PROCESSING:uh,DID_REQUEST_ITEM_PROCESSING:uh,DID_UPDATE_ITEM_PROCESS_PROGRESS:uh,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:qn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:dy},xP=Ue({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),RP=({root:t,props:e})=>{const n=Object.keys(td).reduce((y,m)=>(y[m]={...td[m]},y),{}),{id:r}=e,i=t.query("GET_ALLOW_REVERT"),o=t.query("GET_ALLOW_REMOVE"),s=t.query("GET_ALLOW_PROCESS"),a=t.query("GET_INSTANT_UPLOAD"),u=t.query("IS_ASYNC"),c=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let h;u?s&&!i?h=y=>!/RevertItemProcessing/.test(y):!s&&i?h=y=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(y):!s&&!i&&(h=y=>!/Process/.test(y)):h=y=>!/Process/.test(y);const p=h?ed.filter(h):ed.concat();if(a&&i&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),u&&!i){const y=hs.DID_COMPLETE_ITEM_PROCESSING;y.info.translateX=TP,y.info.translateY=Bl,y.status.translateY=Bl,y.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(y=>{hs[y].status.translateY=Bl}),hs.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=AP),c&&i){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const y=hs.DID_COMPLETE_ITEM_PROCESSING;y.info.translateX=qn,y.status.translateY=Bl,y.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o||(n.RemoveItem.disabled=!0),xe(n,(y,m)=>{const _=t.createChildView(Jb,{label:t.query(m.label),icon:t.query(m.icon),opacity:0});p.includes(y)&&t.appendChildView(_),m.disabled&&(_.element.setAttribute("disabled","disabled"),_.element.setAttribute("hidden","hidden")),_.element.dataset.align=t.query(`GET_STYLE_${m.align}`),_.element.classList.add(m.className),_.on("click",E=>{E.stopPropagation(),!m.disabled&&t.dispatch(m.action,{query:r})}),t.ref[`button${y}`]=_}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(xP)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(mP,{id:r})),t.ref.status=t.appendChildView(t.createChildView(wP,{id:r}));const d=t.appendChildView(t.createChildView(uy,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=d;const g=t.appendChildView(t.createChildView(uy,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=g,t.ref.activeStyles=[]},OP=({root:t,actions:e,props:n})=>{DP({root:t,actions:e,props:n});let r=e.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>hs[i.type]);if(r){t.ref.activeStyles=[];const i=hs[r.type];xe(CP,(o,s)=>{const a=t.ref[o];xe(s,(u,c)=>{const h=i[o]&&typeof i[o][u]<"u"?i[o][u]:c;t.ref.activeStyles.push({control:a,key:u,value:h})})})}t.ref.activeStyles.forEach(({control:i,key:o,value:s})=>{i[o]=typeof s=="function"?s(t):s})},DP=Tn({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:e})=>{t.ref.buttonAbortItemProcessing.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:e})=>{t.ref.buttonAbortItemLoad.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:e})=>{t.ref.buttonAbortItemRemoval.label=e.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:e})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=e.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:e})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=e.progress}}),LP=Ue({create:RP,write:OP,didCreateView:t=>{Po("CREATE_VIEW",{...t,view:t})},name:"file"}),MP=({root:t,props:e})=>{t.ref.fileName=fi("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(LP,{id:e.id})),t.ref.data=!1},kP=({root:t,props:e})=>{ke(t.ref.fileName,fp(t.query("GET_ITEM_NAME",e.id)))},PP=Ue({create:MP,ignoreRect:!0,write:Tn({DID_LOAD_ITEM:kP}),didCreateView:t=>{Po("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),py={type:"spring",damping:.6,mass:7},NP=({root:t,props:e})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:py},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:py},styles:["translateY"]}}].forEach(n=>{FP(t,n,e.name)}),t.element.classList.add(`filepond--${e.name}`),t.ref.scalable=null},FP=(t,e,n)=>{const r=Ue({name:`panel-${e.name} filepond--${n}`,mixins:e.mixins,ignoreRectUpdate:!0}),i=t.createChildView(r,e.props);t.ref[e.name]=t.appendChildView(i)},BP=({root:t,props:e})=>{if((t.ref.scalable===null||e.scalable!==t.ref.scalable)&&(t.ref.scalable=Nb(e.scalable)?e.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!e.height)return;const n=t.ref.top.rect.element,r=t.ref.bottom.rect.element,i=Math.max(n.height+r.height,e.height);t.ref.center.translateY=n.height,t.ref.center.scaleY=(i-n.height-r.height)/100,t.ref.bottom.translateY=i-r.height},n0=Ue({name:"panel",read:({root:t,props:e})=>e.heightCurrent=t.ref.bottom.translateY,write:BP,create:NP,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),UP=t=>{const e=t.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>e.indexOf(r.id)}},gy={type:"spring",stiffness:.75,damping:.45,mass:10},my="spring",vy={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},$P=({root:t,props:e})=>{if(t.ref.handleClick=r=>t.dispatch("DID_ACTIVATE_ITEM",{id:e.id}),t.element.id=`filepond--item-${e.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(PP,{id:e.id})),t.ref.panel=t.appendChildView(t.createChildView(n0,{name:"item-panel"})),t.ref.panel.height=null,e.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let i=!1;const o={x:r.pageX,y:r.pageY};e.dragOrigin={x:t.translateX,y:t.translateY},e.dragCenter={x:r.offsetX,y:r.offsetY};const s=UP(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:e.id,dragState:s});const a=c=>{if(!c.isPrimary)return;c.stopPropagation(),c.preventDefault(),e.dragOffset={x:c.pageX-o.x,y:c.pageY-o.y},e.dragOffset.x*e.dragOffset.x+e.dragOffset.y*e.dragOffset.y>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:e.id,dragState:s})},u=c=>{!c.isPrimary||(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",u),e.dragOffset={x:c.pageX-o.x,y:c.pageY-o.y},t.dispatch("DID_DROP_ITEM",{id:e.id,dragState:s}),i&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",u)};t.element.addEventListener("pointerdown",n)},GP=Tn({DID_UPDATE_PANEL_HEIGHT:({root:t,action:e})=>{t.height=e.height}}),HP=Tn({DID_GRAB_ITEM:({root:t,props:e})=>{e.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:e})=>{e.dragOffset=null,e.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:e,props:n,shouldOptimize:r})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let i=e.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>vy[s.type]);i&&i.type!==n.currentState&&(n.currentState=i.type,t.element.dataset.filepondItemState=vy[n.currentState]||"");const o=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");o?r||(t.height=t.rect.element.width*o):(GP({root:t,actions:e,props:n}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),r&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),VP=Ue({create:$P,write:HP,destroy:({root:t,props:e})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:e.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:my,scaleY:my,translateX:gy,translateY:gy,opacity:{type:"tween",duration:150}}}}),hp=(t,e)=>Math.max(1,Math.floor((t+1)/e)),dp=(t,e,n)=>{if(!n)return;const r=t.rect.element.width,i=e.length;let o=null;if(i===0||n.top<e[0].rect.element.top)return-1;const a=e[0].rect.element,u=a.marginLeft+a.marginRight,c=a.width+u,h=hp(r,c);if(h===1){for(let g=0;g<i;g++){const y=e[g],m=y.rect.outer.top+y.rect.element.height*.5;if(n.top<m)return g}return i}const p=a.marginTop+a.marginBottom,d=a.height+p;for(let g=0;g<i;g++){const y=g%h,m=Math.floor(g/h),_=y*c,E=m*d,w=E-a.marginTop,v=_+c,b=E+d+a.marginBottom;if(n.top<b&&n.top>w){if(n.left<v)return g;g!==i-1?o=g:o=null}}return o!==null?o:i},Ul={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)},setDimensions:function(t,e){(this.height===0||t===0)&&(this.height=t),(this.width===0||e===0)&&(this.width=e)}},WP=({root:t})=>{Fe(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},jP=({root:t,action:e})=>{const{id:n,index:r,interactionMethod:i}=e;t.ref.addIndex=r;const o=Date.now();let s=o,a=1;if(i!==hr.NONE){a=0;const u=t.query("GET_ITEM_INSERT_INTERVAL"),c=o-t.ref.lastItemSpanwDate;s=c<u?o+(u-c):o}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(VP,{spawnDate:s,id:n,opacity:a,interactionMethod:i}),r)},yy=(t,e,n,r=0,i=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(t.opacity===0&&zP(t,e,n,r,i),t.scaleX=1,t.scaleY=1,t.opacity=1))},zP=(t,e,n,r,i)=>{t.interactionMethod===hr.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===hr.DROP?(t.translateX=null,t.translateX=e-r*20,t.translateY=null,t.translateY=n-i*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===hr.BROWSE?(t.translateY=null,t.translateY=n-30):t.interactionMethod===hr.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},qP=({root:t,action:e})=>{const{id:n}=e,r=t.childViews.find(i=>i.id===n);!r||(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},ch=t=>t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5,YP=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,KP=({root:t,action:e})=>{const{id:n,dragState:r}=e,i=t.query("GET_ITEM",{id:n}),o=t.childViews.find(_=>_.id===n),s=t.childViews.length,a=r.getItemIndex(i);if(!o)return;const u={x:o.dragOrigin.x+o.dragOffset.x+o.dragCenter.x,y:o.dragOrigin.y+o.dragOffset.y+o.dragCenter.y},c=ch(o),h=YP(o);let p=Math.floor(t.rect.outer.width/h);p>s&&(p=s);const d=Math.floor(s/p+1);Ul.setHeight=c*d,Ul.setWidth=h*p;var g={y:Math.floor(u.y/c),x:Math.floor(u.x/h),getGridIndex:function(){return u.y>Ul.getHeight||u.y<0||u.x>Ul.getWidth||u.x<0?a:this.y*p+this.x},getColIndex:function(){const E=t.query("GET_ACTIVE_ITEMS"),w=t.childViews.filter(P=>P.rect.element.height),v=E.map(P=>w.find(L=>L.id===P.id)),b=v.findIndex(P=>P===o),T=ch(o),I=v.length;let S=I,C=0,D=0,N=0;for(let P=0;P<I;P++)if(C=ch(v[P]),N=D,D=N+C,u.y<D){if(b>P){if(u.y<N+T){S=P;break}continue}S=P;break}return S}};const y=p>1?g.getGridIndex():g.getColIndex();t.dispatch("MOVE_ITEM",{query:o,index:y});const m=r.getIndex();if(m===void 0||m!==y){if(r.setIndex(y),m===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:a,target:y})}},XP=Tn({DID_ADD_ITEM:jP,DID_REMOVE_ITEM:qP,DID_DRAG_ITEM:KP}),ZP=({root:t,props:e,actions:n,shouldOptimize:r})=>{XP({root:t,props:e,actions:n});const{dragCoordinates:i}=e,o=t.rect.element.width,s=t.childViews.filter(v=>v.rect.element.height),a=t.query("GET_ACTIVE_ITEMS").map(v=>s.find(b=>b.id===v.id)).filter(v=>v),u=i?dp(t,a,i):null,c=t.ref.addIndex||null;t.ref.addIndex=null;let h=0,p=0,d=0;if(a.length===0)return;const g=a[0].rect.element,y=g.marginTop+g.marginBottom,m=g.marginLeft+g.marginRight,_=g.width+m,E=g.height+y,w=hp(o,_);if(w===1){let v=0,b=0;a.forEach((T,I)=>{if(u){let D=I-u;D===-2?b=-y*.25:D===-1?b=-y*.75:D===0?b=y*.75:D===1?b=y*.25:b=0}r&&(T.translateX=null,T.translateY=null),T.markedForRemoval||yy(T,0,v+b),v+=(T.rect.element.height+y)*(T.markedForRemoval?T.opacity:1)})}else{let v=0,b=0;a.forEach((T,I)=>{I===u&&(h=1),I===c&&(d+=1),T.markedForRemoval&&T.opacity<.5&&(p-=1);const S=I+d+h+p,C=S%w,D=Math.floor(S/w),N=C*_,P=D*E,L=Math.sign(N-v),x=Math.sign(P-b);v=N,b=P,!T.markedForRemoval&&(r&&(T.translateX=null,T.translateY=null),yy(T,N,P,L,x))})}},JP=(t,e)=>e.filter(n=>n.data&&n.data.id?t.id===n.data.id:!0),QP=Ue({create:WP,write:ZP,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(e=>e.markedForRemoval&&e.opacity===0&&e.resting).forEach(e=>{e._destroy(),t.removeChildView(e)})},filterFrameActionsForChild:JP,mixins:{apis:["dragCoordinates"]}}),tN=({root:t,props:e})=>{t.ref.list=t.appendChildView(t.createChildView(QP)),e.dragCoordinates=null,e.overflowing=!1},eN=({root:t,props:e,action:n})=>{!t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")||(e.dragCoordinates={left:n.position.scopeLeft-t.ref.list.rect.element.left,top:n.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},nN=({props:t})=>{t.dragCoordinates=null},rN=Tn({DID_DRAG:eN,DID_END_DRAG:nN}),iN=({root:t,props:e,actions:n})=>{if(rN({root:t,props:e,actions:n}),t.ref.list.dragCoordinates=e.dragCoordinates,e.overflowing&&!e.overflow&&(e.overflowing=!1,t.element.dataset.state="",t.height=null),e.overflow){const r=Math.round(e.overflow);r!==t.height&&(e.overflowing=!0,t.element.dataset.state="overflow",t.height=r)}},oN=Ue({create:tN,write:iN,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Tr=(t,e,n,r="")=>{n?Fe(t,e,r):t.removeAttribute(e)},sN=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const e=fi("form"),n=t.parentNode,r=t.nextSibling;e.appendChild(t),e.reset(),r?n.insertBefore(t,r):n.appendChild(t)}}},aN=({root:t,props:e})=>{t.element.id=`filepond--browser-${e.id}`,Fe(t.element,"name",t.query("GET_NAME")),Fe(t.element,"aria-controls",`filepond--assistant-${e.id}`),Fe(t.element,"aria-labelledby",`filepond--drop-label-${e.id}`),r0({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),i0({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),o0({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),rd({root:t}),s0({root:t,action:{value:t.query("GET_REQUIRED")}}),a0({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=n=>{if(!t.element.value)return;const r=Array.from(t.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{e.onload(r),sN(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},r0=({root:t,action:e})=>{!t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")||Tr(t.element,"accept",!!e.value,e.value?e.value.join(","):"")},i0=({root:t,action:e})=>{Tr(t.element,"multiple",e.value)},o0=({root:t,action:e})=>{Tr(t.element,"webkitdirectory",e.value)},rd=({root:t})=>{const e=t.query("GET_DISABLED"),n=t.query("GET_ALLOW_BROWSE"),r=e||!n;Tr(t.element,"disabled",r)},s0=({root:t,action:e})=>{e.value?t.query("GET_TOTAL_ITEMS")===0&&Tr(t.element,"required",!0):Tr(t.element,"required",!1)},a0=({root:t,action:e})=>{Tr(t.element,"capture",!!e.value,e.value===!0?"":e.value)},_y=({root:t})=>{const{element:e}=t;t.query("GET_TOTAL_ITEMS")>0?(Tr(e,"required",!1),Tr(e,"name",!1)):(Tr(e,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&e.setCustomValidity(""),t.query("GET_REQUIRED")&&Tr(e,"required",!0))},lN=({root:t})=>{!t.query("GET_CHECK_VALIDITY")||t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},uN=Ue({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:aN,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:Tn({DID_LOAD_ITEM:_y,DID_REMOVE_ITEM:_y,DID_THROW_ITEM_INVALID:lN,DID_SET_DISABLED:rd,DID_SET_ALLOW_BROWSE:rd,DID_SET_ALLOW_DIRECTORIES_ONLY:o0,DID_SET_ALLOW_MULTIPLE:i0,DID_SET_ACCEPTED_FILE_TYPES:r0,DID_SET_CAPTURE_METHOD:a0,DID_SET_REQUIRED:s0})}),Ey={ENTER:13,SPACE:32},cN=({root:t,props:e})=>{const n=fi("label");Fe(n,"for",`filepond--browser-${e.id}`),Fe(n,"id",`filepond--drop-label-${e.id}`),Fe(n,"aria-hidden","true"),t.ref.handleKeyDown=r=>{(r.keyCode===Ey.ENTER||r.keyCode===Ey.SPACE)&&(r.preventDefault(),t.ref.label.click())},t.ref.handleClick=r=>{r.target===n||n.contains(r.target)||t.ref.label.click()},n.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),l0(n,e.caption),t.appendChild(n),t.ref.label=n},l0=(t,e)=>{t.innerHTML=e;const n=t.querySelector(".filepond--label-action");return n&&Fe(n,"tabindex","0"),e},fN=Ue({name:"drop-label",ignoreRect:!0,create:cN,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:Tn({DID_SET_LABEL_IDLE:({root:t,action:e})=>{l0(t.ref.label,e.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),hN=Ue({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),dN=({root:t})=>{const e=t.rect.element.width*.5,n=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(hN,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:e,translateY:n}))},pN=({root:t,action:e})=>{if(!t.ref.blob){dN({root:t});return}t.ref.blob.translateX=e.position.scopeLeft,t.ref.blob.translateY=e.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},gN=({root:t})=>{!t.ref.blob||(t.ref.blob.opacity=0)},mN=({root:t})=>{!t.ref.blob||(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},vN=({root:t,props:e,actions:n})=>{yN({root:t,props:e,actions:n});const{blob:r}=t.ref;n.length===0&&r&&r.opacity===0&&(t.removeChildView(r),t.ref.blob=null)},yN=Tn({DID_DRAG:pN,DID_DROP:mN,DID_END_DRAG:gN}),_N=Ue({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:vN}),u0=(t,e)=>{try{const n=new DataTransfer;e.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),t.files=n.files}catch{return!1}return!0},EN=({root:t})=>t.ref.fields={},yc=(t,e)=>t.ref.fields[e],pp=t=>{t.query("GET_ACTIVE_ITEMS").forEach(e=>{!t.ref.fields[e.id]||t.element.appendChild(t.ref.fields[e.id])})},by=({root:t})=>pp(t),bN=({root:t,action:e})=>{const i=!(t.query("GET_ITEM",e.id).origin===je.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),o=fi("input");o.type=i?"file":"hidden",o.name=t.query("GET_NAME"),o.disabled=t.query("GET_DISABLED"),t.ref.fields[e.id]=o,pp(t)},wN=({root:t,action:e})=>{const n=yc(t,e.id);if(!n||(e.serverFileReference!==null&&(n.value=e.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=t.query("GET_ITEM",e.id);u0(n,[r.file])},AN=({root:t,action:e})=>{!t.query("SHOULD_UPDATE_FILE_INPUT")||setTimeout(()=>{const n=yc(t,e.id);!n||u0(n,[e.file])},0)},TN=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},SN=({root:t,action:e})=>{const n=yc(t,e.id);!n||(n.parentNode&&n.parentNode.removeChild(n),delete t.ref.fields[e.id])},IN=({root:t,action:e})=>{const n=yc(t,e.id);!n||(e.value===null?n.removeAttribute("value"):n.value=e.value,pp(t))},CN=Tn({DID_SET_DISABLED:TN,DID_ADD_ITEM:bN,DID_LOAD_ITEM:wN,DID_REMOVE_ITEM:SN,DID_DEFINE_VALUE:IN,DID_PREPARE_OUTPUT:AN,DID_REORDER_ITEMS:by,DID_SORT_ITEMS:by}),xN=Ue({tag:"fieldset",name:"data",create:EN,write:CN,ignoreRect:!0}),RN=t=>"getRootNode"in t?t.getRootNode():document,ON=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],DN=["css","csv","html","txt"],LN={zip:"zip|compressed",epub:"application/epub+zip"},c0=(t="")=>(t=t.toLowerCase(),ON.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):DN.includes(t)?"text/"+t:LN[t]||""),gp=t=>new Promise((e,n)=>{const r=$N(t);if(r.length&&!MN(t))return e(r);kN(t).then(e)}),MN=t=>t.files?t.files.length>0:!1,kN=t=>new Promise((e,n)=>{const r=(t.items?Array.from(t.items):[]).filter(i=>PN(i)).map(i=>NN(i));if(!r.length){e(t.files?Array.from(t.files):[]);return}Promise.all(r).then(i=>{const o=[];i.forEach(s=>{o.push.apply(o,s)}),e(o.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),PN=t=>{if(f0(t)){const e=mp(t);if(e)return e.isFile||e.isDirectory}return t.kind==="file"},NN=t=>new Promise((e,n)=>{if(UN(t)){FN(mp(t)).then(e).catch(n);return}e([t.getAsFile()])}),FN=t=>new Promise((e,n)=>{const r=[];let i=0,o=0;const s=()=>{o===0&&i===0&&e(r)},a=u=>{i++;const c=u.createReader(),h=()=>{c.readEntries(p=>{if(p.length===0){i--,s();return}p.forEach(d=>{d.isDirectory?a(d):(o++,d.file(g=>{const y=BN(g);d.fullPath&&(y._relativePath=d.fullPath),r.push(y),o--,s()}))}),h()},n)};h()};a(t)}),BN=t=>{if(t.type.length)return t;const e=t.lastModifiedDate,n=t.name,r=c0(vc(t.name));return r.length&&(t=t.slice(0,t.size,r),t.name=n,t.lastModifiedDate=e),t},UN=t=>f0(t)&&(mp(t)||{}).isDirectory,f0=t=>"webkitGetAsEntry"in t,mp=t=>t.webkitGetAsEntry(),$N=t=>{let e=[];try{if(e=HN(t),e.length)return e;e=GN(t)}catch{}return e},GN=t=>{let e=t.getData("url");return typeof e=="string"&&e.length?[e]:[]},HN=t=>{let e=t.getData("text/html");if(typeof e=="string"&&e.length){const n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Ru=[],Oo=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),VN=(t,e,n)=>{const r=WN(e),i={element:t,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=r.addListener(i),i},WN=t=>{const e=Ru.find(r=>r.element===t);if(e)return e;const n=jN(t);return Ru.push(n),n},jN=t=>{const e=[],n={dragenter:qN,dragover:YN,dragleave:XN,drop:KN},r={};xe(n,(o,s)=>{r[o]=s(t,e),t.addEventListener(o,r[o],!1)});const i={element:t,addListener:o=>(e.push(o),()=>{e.splice(e.indexOf(o),1),e.length===0&&(Ru.splice(Ru.indexOf(i),1),xe(n,s=>{t.removeEventListener(s,r[s],!1)}))})};return i},zN=(t,e)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)),vp=(t,e)=>{const n=RN(e),r=zN(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return r===e||e.contains(r)},h0=null,$l=(t,e)=>{try{t.dropEffect=e}catch{}},qN=(t,e)=>n=>{n.preventDefault(),h0=n.target,e.forEach(r=>{const{element:i,onenter:o}=r;vp(n,i)&&(r.state="enter",o(Oo(n)))})},YN=(t,e)=>n=>{n.preventDefault();const r=n.dataTransfer;gp(r).then(i=>{let o=!1;e.some(s=>{const{filterElement:a,element:u,onenter:c,onexit:h,ondrag:p,allowdrop:d}=s;$l(r,"copy");const g=d(i);if(!g){$l(r,"none");return}if(vp(n,u)){if(o=!0,s.state===null){s.state="enter",c(Oo(n));return}if(s.state="over",a&&!g){$l(r,"none");return}p(Oo(n))}else a&&!o&&$l(r,"none"),s.state&&(s.state=null,h(Oo(n)))})})},KN=(t,e)=>n=>{n.preventDefault();const r=n.dataTransfer;gp(r).then(i=>{e.forEach(o=>{const{filterElement:s,element:a,ondrop:u,onexit:c,allowdrop:h}=o;if(o.state=null,!(s&&!vp(n,a))){if(!h(i))return c(Oo(n));u(Oo(n),i)}})})},XN=(t,e)=>n=>{h0===n.target&&e.forEach(r=>{const{onexit:i}=r;r.state=null,i(Oo(n))})},ZN=(t,e,n)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:i,filterItems:o=h=>h}=n,s=VN(t,r?document.documentElement:t,i);let a="",u="";s.allowdrop=h=>e(o(h)),s.ondrop=(h,p)=>{const d=o(p);if(!e(d)){c.ondragend(h);return}u="drag-drop",c.onload(d,h)},s.ondrag=h=>{c.ondrag(h)},s.onenter=h=>{u="drag-over",c.ondragstart(h)},s.onexit=h=>{u="drag-exit",c.ondragend(h)};const c={updateHopperState:()=>{a!==u&&(t.dataset.hopperState=u,a=u)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return c},id=!1,ys=[],d0=t=>{const e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){let n=!1,r=e;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}gp(t.clipboardData).then(n=>{!n.length||ys.forEach(r=>r(n))})},JN=t=>{ys.includes(t)||(ys.push(t),!id&&(id=!0,document.addEventListener("paste",d0)))},QN=t=>{lp(ys,ys.indexOf(t)),ys.length===0&&(document.removeEventListener("paste",d0),id=!1)},tF=()=>{const t=n=>{e.onload(n)},e={destroy:()=>{QN(t)},onload:()=>{}};return JN(t),e},eF=({root:t,props:e})=>{t.element.id=`filepond--assistant-${e.id}`,Fe(t.element,"role","status"),Fe(t.element,"aria-live","polite"),Fe(t.element,"aria-relevant","additions")},wy=null,Ay=null,fh=[],_c=(t,e)=>{t.element.textContent=e},nF=t=>{t.element.textContent=""},p0=(t,e,n)=>{const r=t.query("GET_TOTAL_ITEMS");_c(t,`${n} ${e}, ${r} ${r===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Ay),Ay=setTimeout(()=>{nF(t)},1500)},g0=t=>t.element.parentNode.contains(document.activeElement),rF=({root:t,action:e})=>{if(!g0(t))return;t.element.textContent="";const n=t.query("GET_ITEM",e.id);fh.push(n.filename),clearTimeout(wy),wy=setTimeout(()=>{p0(t,fh.join(", "),t.query("GET_LABEL_FILE_ADDED")),fh.length=0},750)},iF=({root:t,action:e})=>{if(!g0(t))return;const n=e.item;p0(t,n.filename,t.query("GET_LABEL_FILE_REMOVED"))},oF=({root:t,action:e})=>{const r=t.query("GET_ITEM",e.id).filename,i=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");_c(t,`${r} ${i}`)},Ty=({root:t,action:e})=>{const r=t.query("GET_ITEM",e.id).filename,i=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");_c(t,`${r} ${i}`)},Gl=({root:t,action:e})=>{const r=t.query("GET_ITEM",e.id).filename;_c(t,`${e.status.main} ${r} ${e.status.sub}`)},sF=Ue({create:eF,ignoreRect:!0,ignoreRectUpdate:!0,write:Tn({DID_LOAD_ITEM:rF,DID_REMOVE_ITEM:iF,DID_COMPLETE_ITEM_PROCESSING:oF,DID_ABORT_ITEM_PROCESSING:Ty,DID_REVERT_ITEM_PROCESSING:Ty,DID_THROW_ITEM_REMOVE_ERROR:Gl,DID_THROW_ITEM_LOAD_ERROR:Gl,DID_THROW_ITEM_INVALID:Gl,DID_THROW_ITEM_PROCESSING_ERROR:Gl}),tag:"span",name:"assistant"}),m0=(t,e="-")=>t.replace(new RegExp(`${e}.`,"g"),n=>n.charAt(1).toUpperCase()),v0=(t,e=16,n=!0)=>{let r=Date.now(),i=null;return(...o)=>{clearTimeout(i);const s=Date.now()-r,a=()=>{r=Date.now(),t(...o)};s<e?n||(i=setTimeout(a,e-s)):a()}},aF=1e6,Ou=t=>t.preventDefault(),lF=({root:t,props:e})=>{const n=t.query("GET_ID");n&&(t.element.id=n);const r=t.query("GET_CLASS_NAME");r&&r.split(" ").filter(u=>u.length).forEach(u=>{t.element.classList.add(u)}),t.ref.label=t.appendChildView(t.createChildView(fN,{...e,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(oN,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(n0,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(sF,{...e})),t.ref.data=t.appendChildView(t.createChildView(xN,{...e})),t.ref.measure=fi("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(u=>!ci(u.value)).map(({name:u,value:c})=>{t.element.dataset[u]=c}),t.ref.widthPrevious=null,t.ref.widthUpdated=v0(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,o="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&o&&!i&&(t.element.addEventListener("touchmove",Ou,{passive:!1}),t.element.addEventListener("gesturestart",Ou));const s=t.query("GET_CREDITS");if(s.length===2){const u=document.createElement("a");u.className="filepond--credits",u.setAttribute("aria-hidden","true"),u.href=s[0],u.tabindex=-1,u.target="_blank",u.rel="noopener noreferrer",u.textContent=s[1],t.element.appendChild(u),t.ref.credits=u}},uF=({root:t,props:e,actions:n})=>{if(pF({root:t,props:e,actions:n}),n.filter(I=>/^DID_SET_STYLE_/.test(I.type)).filter(I=>!ci(I.data.value)).map(({type:I,data:S})=>{const C=m0(I.substring(8).toLowerCase(),"_");t.element.dataset[C]=S.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let r=t.ref.bounds;r||(r=t.ref.bounds=hF(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:i,label:o,list:s,panel:a}=t.ref;i&&i.updateHopperState();const u=t.query("GET_PANEL_ASPECT_RATIO"),c=t.query("GET_ALLOW_MULTIPLE"),h=t.query("GET_TOTAL_ITEMS"),p=c?t.query("GET_MAX_FILES")||aF:1,d=h===p,g=n.find(I=>I.type==="DID_ADD_ITEM");if(d&&g){const I=g.data.interactionMethod;o.opacity=0,c?o.translateY=-40:I===hr.API?o.translateX=40:I===hr.BROWSE?o.translateY=40:o.translateY=30}else d||(o.opacity=1,o.translateX=0,o.translateY=0);const y=cF(t),m=fF(t),_=o.rect.element.height,E=!c||d?0:_,w=d?s.rect.element.marginTop:0,v=h===0?0:s.rect.element.marginBottom,b=E+w+m.visual+v,T=E+w+m.bounds+v;if(s.translateY=Math.max(0,E-s.rect.element.marginTop)-y.top,u){const I=t.rect.element.width,S=I*u;u!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=u,t.ref.updateHistory=[]);const C=t.ref.updateHistory;C.push(I);const D=2;if(C.length>D*2){const P=C.length,L=P-10;let x=0;for(let M=P;M>=L;M--)if(C[M]===C[M-2]&&x++,x>=D)return}a.scalable=!1,a.height=S;const N=S-E-(v-y.bottom)-(d?w:0);m.visual>N?s.overflow=N:s.overflow=null,t.height=S}else if(r.fixedHeight){a.scalable=!1;const I=r.fixedHeight-E-(v-y.bottom)-(d?w:0);m.visual>I?s.overflow=I:s.overflow=null}else if(r.cappedHeight){const I=b>=r.cappedHeight,S=Math.min(r.cappedHeight,b);a.scalable=!0,a.height=I?S:S-y.top-y.bottom;const C=S-E-(v-y.bottom)-(d?w:0);b>r.cappedHeight&&m.visual>C?s.overflow=C:s.overflow=null,t.height=Math.min(r.cappedHeight,T-y.top-y.bottom)}else{const I=h>0?y.top+y.bottom:0;a.scalable=!0,a.height=Math.max(_,b-I),t.height=Math.max(_,T-I)}t.ref.credits&&a.heightCurrent&&(t.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},cF=t=>{const e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},fF=t=>{let e=0,n=0;const r=t.ref.list,i=r.childViews[0],o=i.childViews.filter(w=>w.rect.element.height),s=t.query("GET_ACTIVE_ITEMS").map(w=>o.find(v=>v.id===w.id)).filter(w=>w);if(s.length===0)return{visual:e,bounds:n};const a=i.rect.element.width,u=dp(i,s,r.dragCoordinates),c=s[0].rect.element,h=c.marginTop+c.marginBottom,p=c.marginLeft+c.marginRight,d=c.width+p,g=c.height+h,y=typeof u<"u"&&u>=0?1:0,m=s.find(w=>w.markedForRemoval&&w.opacity<.45)?-1:0,_=s.length+y+m,E=hp(a,d);return E===1?s.forEach(w=>{const v=w.rect.element.height+h;n+=v,e+=v*w.opacity}):(n=Math.ceil(_/E)*g,e=n),{visual:e,bounds:n}},hF=t=>{const e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:e===0?null:e}},yp=(t,e)=>{const n=t.query("GET_ALLOW_REPLACE"),r=t.query("GET_ALLOW_MULTIPLE"),i=t.query("GET_TOTAL_ITEMS");let o=t.query("GET_MAX_FILES");const s=e.length;return!r&&s>1?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:Me("warning",0,"Max files")}),!0):(o=r?o:1,!r&&n?!1:Bs(o)&&i+s>o?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:Me("warning",0,"Max files")}),!0):!1)},dF=(t,e,n)=>{const r=t.childViews[0];return dp(r,e,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Sy=t=>{const e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),r=e&&!n;if(r&&!t.ref.hopper){const i=ZN(t.element,o=>{const s=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?o.every(u=>Po("ALLOW_HOPPER_ITEM",u,{query:t.query}).every(c=>c===!0)&&s(u)):!0},{filterItems:o=>{const s=t.query("GET_IGNORED_FILES");return o.filter(a=>Os(a)?!s.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});i.onload=(o,s)=>{const u=t.ref.list.childViews[0].childViews.filter(h=>h.rect.element.height),c=t.query("GET_ACTIVE_ITEMS").map(h=>u.find(p=>p.id===h.id)).filter(h=>h);wr("ADD_ITEMS",o,{dispatch:t.dispatch}).then(h=>{if(yp(t,h))return!1;t.dispatch("ADD_ITEMS",{items:h,index:dF(t.ref.list,c,s),interactionMethod:hr.DROP})}),t.dispatch("DID_DROP",{position:s}),t.dispatch("DID_END_DRAG",{position:s})},i.ondragstart=o=>{t.dispatch("DID_START_DRAG",{position:o})},i.ondrag=v0(o=>{t.dispatch("DID_DRAG",{position:o})}),i.ondragend=o=>{t.dispatch("DID_END_DRAG",{position:o})},t.ref.hopper=i,t.ref.drip=t.appendChildView(t.createChildView(_N))}else!r&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Iy=(t,e)=>{const n=t.query("GET_ALLOW_BROWSE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(uN,{...e,onload:o=>{wr("ADD_ITEMS",o,{dispatch:t.dispatch}).then(s=>{if(yp(t,s))return!1;t.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:hr.BROWSE})})}}),0):!i&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Cy=t=>{const e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),r=e&&!n;r&&!t.ref.paster?(t.ref.paster=tF(),t.ref.paster.onload=i=>{wr("ADD_ITEMS",i,{dispatch:t.dispatch}).then(o=>{if(yp(t,o))return!1;t.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:hr.PASTE})})}):!r&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},pF=Tn({DID_SET_ALLOW_BROWSE:({root:t,props:e})=>{Iy(t,e)},DID_SET_ALLOW_DROP:({root:t})=>{Sy(t)},DID_SET_ALLOW_PASTE:({root:t})=>{Cy(t)},DID_SET_DISABLED:({root:t,props:e})=>{Sy(t),Cy(t),Iy(t,e),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),gF=Ue({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:lF,write:uF,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Ou),t.element.removeEventListener("gesturestart",Ou)},mixins:{styles:["height"]}}),mF=(t={})=>{let e=null;const n=xu(),r=MM(yk(n),[Nk,bk(n)],[aP,Ek(n)]);r.dispatch("SET_OPTIONS",{options:t});const i=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);let o=null,s=!1,a=!1,u=null,c=null;const h=()=>{s||(s=!0),clearTimeout(o),o=setTimeout(()=>{s=!1,u=null,c=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",h);const p=gF(r,{id:ap()});let d=!1,g=!1;const y={_read:()=>{s&&(c=window.innerWidth,u||(u=c),!a&&c!==u&&(r.dispatch("DID_START_RESIZE"),a=!0)),g&&d&&(d=p.element.offsetParent===null),!d&&(p._read(),g=p.rect.element.hidden)},_write:R=>{const B=r.processActionQueue().filter($=>!/^SET_/.test($.type));d&&!B.length||(w(B),d=p._write(R,B,a),Tk(r.query("GET_ITEMS")),d&&r.processDispatchQueue())}},m=R=>B=>{const $={type:R};if(!B)return $;if(B.hasOwnProperty("error")&&($.error=B.error?{...B.error}:null),B.status&&($.status={...B.status}),B.file&&($.output=B.file),B.source)$.file=B.source;else if(B.item||B.id){const H=B.item?B.item:r.query("GET_ITEM",B.id);$.file=H?Mn(H):null}return B.items&&($.items=B.items.map(Mn)),/progress/.test(R)&&($.progress=B.progress),B.hasOwnProperty("origin")&&B.hasOwnProperty("target")&&($.origin=B.origin,$.target=B.target),$},_={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")},E=R=>{const B={pond:k,...R};delete B.type,p.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:B,bubbles:!0,cancelable:!0,composed:!0}));const $=[];R.hasOwnProperty("error")&&$.push(R.error),R.hasOwnProperty("file")&&$.push(R.file);const H=["type","error","file"];Object.keys(R).filter(X=>!H.includes(X)).forEach(X=>$.push(R[X])),k.fire(R.type,...$);const j=r.query(`GET_ON${R.type.toUpperCase()}`);j&&j(...$)},w=R=>{!R.length||R.filter(B=>_[B.type]).forEach(B=>{const $=_[B.type];(Array.isArray($)?$:[$]).forEach(H=>{B.type==="DID_INIT_ITEM"?E(H(B.data)):setTimeout(()=>{E(H(B.data))},0)})})},v=R=>r.dispatch("SET_OPTIONS",{options:R}),b=R=>r.query("GET_ACTIVE_ITEM",R),T=R=>new Promise((B,$)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:H=>{B(H)},failure:H=>{$(H)}})}),I=(R,B={})=>new Promise(($,H)=>{D([{source:R,options:B}],{index:B.index}).then(j=>$(j&&j[0])).catch(H)}),S=R=>R.file&&R.id,C=(R,B)=>(typeof R=="object"&&!S(R)&&!B&&(B=R,R=void 0),r.dispatch("REMOVE_ITEM",{...B,query:R}),r.query("GET_ACTIVE_ITEM",R)===null),D=(...R)=>new Promise((B,$)=>{const H=[],j={};if(dc(R[0]))H.push.apply(H,R[0]),Object.assign(j,R[1]||{});else{const X=R[R.length-1];typeof X=="object"&&!(X instanceof Blob)&&Object.assign(j,R.pop()),H.push(...R)}r.dispatch("ADD_ITEMS",{items:H,index:j.index,interactionMethod:hr.API,success:B,failure:$})}),N=()=>r.query("GET_ACTIVE_ITEMS"),P=R=>new Promise((B,$)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:H=>{B(H)},failure:H=>{$(H)}})}),L=(...R)=>{const B=Array.isArray(R[0])?R[0]:R,$=B.length?B:N();return Promise.all($.map(T))},x=(...R)=>{const B=Array.isArray(R[0])?R[0]:R;if(!B.length){const $=N().filter(H=>!(H.status===Gt.IDLE&&H.origin===je.LOCAL)&&H.status!==Gt.PROCESSING&&H.status!==Gt.PROCESSING_COMPLETE&&H.status!==Gt.PROCESSING_REVERT_ERROR);return Promise.all($.map(P))}return Promise.all(B.map(P))},M=(...R)=>{const B=Array.isArray(R[0])?R[0]:R;let $;typeof B[B.length-1]=="object"?$=B.pop():Array.isArray(R[0])&&($=R[1]);const H=N();return B.length?B.map(X=>bo(X)?H[X]?H[X].id:null:X).filter(X=>X).map(X=>C(X,$)):Promise.all(H.map(X=>C(X,$)))},k={...mc(),...y,..._k(r,n),setOptions:v,addFile:I,addFiles:D,getFile:b,processFile:P,prepareFile:T,removeFile:C,moveFile:(R,B)=>r.dispatch("MOVE_ITEM",{query:R,index:B}),getFiles:N,processFiles:x,removeFiles:M,prepareFiles:L,sort:R=>r.dispatch("SORT",{compare:R}),browse:()=>{var R=p.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{k.fire("destroy",p.element),r.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",h),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:R=>Xv(p.element,R),insertAfter:R=>Zv(p.element,R),appendTo:R=>R.appendChild(p.element),replaceElement:R=>{Xv(p.element,R),R.parentNode.removeChild(R),e=R},restoreElement:()=>{!e||(Zv(e,p.element),p.element.parentNode.removeChild(p.element),e=null)},isAttachedTo:R=>p.element===R||e===R,element:{get:()=>p.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),$i(k)},y0=(t={})=>{const e={};return xe(xu(),(r,i)=>{e[r]=i[0]}),mF({...e,...t})},vF=t=>t.charAt(0).toLowerCase()+t.slice(1),yF=t=>m0(t.replace(/^data-/,"")),_0=(t,e)=>{xe(e,(n,r)=>{xe(t,(i,o)=>{const s=new RegExp(n);if(!s.test(i)||(delete t[i],r===!1))return;if(bn(r)){t[r]=o;return}const u=r.group;Je(r)&&!t[u]&&(t[u]={}),t[u][vF(i.replace(s,""))]=o}),r.mapping&&_0(t[r.group],r.mapping)})},_F=(t,e={})=>{const n=[];xe(t.attributes,i=>{n.push(t.attributes[i])});const r=n.filter(i=>i.name).reduce((i,o)=>{const s=Fe(t,o.name);return i[yF(o.name)]=s===o.name?!0:s,i},{});return _0(r,e),r},EF=(t,e={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Po("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...e},i=_F(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach(s=>{Je(i[s])?(Je(r[s])||(r[s]={}),Object.assign(r[s],i[s])):r[s]=i[s]}),r.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const o=y0(r);return t.files&&Array.from(t.files).forEach(s=>{o.addFile(s)}),o.replaceElement(t),o},bF=(...t)=>LM(t[0])?EF(...t):y0(...t),wF=["fire","_read","_write"],xy=t=>{const e={};return $b(t,e,wF),e},AF=(t,e)=>t.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>e[r]),TF=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);return{transfer:(i,o)=>{},post:(i,o,s)=>{const a=ap();r.onmessage=u=>{u.data.id===a&&o(u.data.message)},r.postMessage({id:a,message:i},s)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},SF=t=>new Promise((e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=t}),E0=(t,e)=>{const n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},IF=t=>E0(t,t.name),Ry=[],CF=t=>{if(Ry.includes(t))return;Ry.push(t);const e=t({addFilter:Ik,utils:{Type:it,forin:xe,isString:bn,isFile:Os,toNaturalFileSize:Qb,replaceInString:AF,getExtensionFromFilename:vc,getFilenameWithoutExtension:Xb,guesstimateMimeType:c0,getFileFromBlob:Rs,getFilenameFromURL:Ha,createRoute:Tn,createWorker:TF,createView:Ue,createItemAPI:Mn,loadImage:SF,copyFile:IF,renameFile:E0,createBlob:qb,applyFilterChain:wr,text:ke,getNumericAspectRatioFromString:Vb},views:{fileActionButton:Jb}});Ck(e.options)},xF=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",RF=()=>"Promise"in window,OF=()=>"slice"in Blob.prototype,DF=()=>"URL"in window&&"createObjectURL"in window.URL,LF=()=>"visibilityState"in document,MF=()=>"performance"in window,kF=()=>"supports"in(window.CSS||{}),PF=()=>/MSIE|Trident/.test(window.navigator.userAgent),od=(()=>{const t=kb()&&!xF()&&LF()&&RF()&&OF()&&DF()&&MF()&&(kF()||PF());return()=>t})(),Ri={apps:[]},NF="filepond",No=()=>{},b0={},w0={},Du={},sd={},wa=No,ou=No,ad=No,ld=No,Ir=No,ud=No,cd=No;if(od()){ik(()=>{Ri.apps.forEach(n=>n._read())},n=>{Ri.apps.forEach(r=>r._write(n))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:od,create:wa,destroy:ou,parse:ad,find:ld,registerPlugin:Ir,setOptions:cd}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const e=()=>xe(xu(),(n,r)=>{sd[n]=r[1]});b0={...Wb},Du={...je},w0={...Gt},sd={},e(),wa=(...n)=>{const r=bF(...n);return r.on("destroy",ou),Ri.apps.push(r),xy(r)},ou=n=>{const r=Ri.apps.findIndex(i=>i.isAttachedTo(n));return r>=0?(Ri.apps.splice(r,1)[0].restoreElement(),!0):!1},ad=n=>Array.from(n.querySelectorAll(`.${NF}`)).filter(o=>!Ri.apps.find(s=>s.isAttachedTo(o))).map(o=>wa(o)),ld=n=>{const r=Ri.apps.find(i=>i.isAttachedTo(n));return r?xy(r):null},Ir=(...n)=>{n.forEach(CF),e()},ud=()=>{const n={};return xe(xu(),(r,i)=>{n[r]=i[0]}),n},cd=n=>(Je(n)&&(Ri.apps.forEach(r=>{r.setOptions(n)}),xk(n)),ud())}/*!
 * FilePondPluginFileValidateSize 2.2.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var A0=({addFilter:t,utils:e})=>{const{Type:n,replaceInString:r,toNaturalFileSize:i}=e;return t("ALLOW_HOPPER_ITEM",(o,{query:s})=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const a=s("GET_MAX_FILE_SIZE");if(a!==null&&o.size>a)return!1;const u=s("GET_MIN_FILE_SIZE");return!(u!==null&&o.size<u)}),t("LOAD_FILE",(o,{query:s})=>new Promise((a,u)=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return a(o);const c=s("GET_FILE_VALIDATE_SIZE_FILTER");if(c&&!c(o))return a(o);const h=s("GET_MAX_FILE_SIZE");if(h!==null&&o.size>h){u({status:{main:s("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MAX_FILE_SIZE"),{filesize:i(h,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const p=s("GET_MIN_FILE_SIZE");if(p!==null&&o.size<p){u({status:{main:s("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MIN_FILE_SIZE"),{filesize:i(p,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const d=s("GET_MAX_TOTAL_FILE_SIZE");if(d!==null&&s("GET_ACTIVE_ITEMS").reduce((y,m)=>y+m.fileSize,0)>d){u({status:{main:s("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:i(d,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}a(o)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},FF=typeof window<"u"&&typeof window.document<"u";FF&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:A0}));var BF=A0;/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var T0=({addFilter:t,utils:e})=>{const{Type:n,isString:r,replaceInString:i,guesstimateMimeType:o,getExtensionFromFilename:s,getFilenameFromURL:a}=e,u=(g,y)=>{const m=(/^[^/]+/.exec(g)||[]).pop(),_=y.slice(0,-2);return m===_},c=(g,y)=>g.some(m=>/\*$/.test(m)?u(y,m):m===y),h=g=>{let y="";if(r(g)){const m=a(g),_=s(m);_&&(y=o(_))}else y=g.type;return y},p=(g,y,m)=>{if(y.length===0)return!0;const _=h(g);return m?new Promise((E,w)=>{m(g,_).then(v=>{c(y,v)?E():w()}).catch(w)}):c(y,_)},d=g=>y=>g[y]===null?!1:g[y]||y;return t("SET_ATTRIBUTE_TO_OPTION_MAP",g=>Object.assign(g,{accept:"acceptedFileTypes"})),t("ALLOW_HOPPER_ITEM",(g,{query:y})=>y("GET_ALLOW_FILE_TYPE_VALIDATION")?p(g,y("GET_ACCEPTED_FILE_TYPES")):!0),t("LOAD_FILE",(g,{query:y})=>new Promise((m,_)=>{if(!y("GET_ALLOW_FILE_TYPE_VALIDATION")){m(g);return}const E=y("GET_ACCEPTED_FILE_TYPES"),w=y("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),v=p(g,E,w),b=()=>{const T=E.map(d(y("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(S=>S!==!1),I=T.filter(function(S,C){return T.indexOf(S)===C});_({status:{main:y("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(y("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:I.join(", "),allButLastType:I.slice(0,-1).join(", "),lastType:I[T.length-1]})}})};if(typeof v=="boolean")return v?m(g):b();v.then(()=>{m(g)}).catch(b)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},UF=typeof window<"u"&&typeof window.document<"u";UF&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:T0}));var $F=T0;/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Oy=t=>/^image/.test(t.type),S0=({addFilter:t,utils:e})=>{const{Type:n,isFile:r,getNumericAspectRatioFromString:i}=e,o=(c,h)=>!(!Oy(c.file)||!h("GET_ALLOW_IMAGE_CROP")),s=c=>typeof c=="object",a=c=>typeof c=="number",u=(c,h)=>c.setMetadata("crop",Object.assign({},c.getMetadata("crop"),h));return t("DID_CREATE_ITEM",(c,{query:h})=>{c.extend("setImageCrop",p=>{if(!(!o(c,h)||!s(center)))return c.setMetadata("crop",p),p}),c.extend("setImageCropCenter",p=>{if(!(!o(c,h)||!s(p)))return u(c,{center:p})}),c.extend("setImageCropZoom",p=>{if(!(!o(c,h)||!a(p)))return u(c,{zoom:Math.max(1,p)})}),c.extend("setImageCropRotation",p=>{if(!(!o(c,h)||!a(p)))return u(c,{rotation:p})}),c.extend("setImageCropFlip",p=>{if(!(!o(c,h)||!s(p)))return u(c,{flip:p})}),c.extend("setImageCropAspectRatio",p=>{if(!o(c,h)||typeof p>"u")return;const d=c.getMetadata("crop"),g=i(p),y={center:{x:.5,y:.5},flip:d?Object.assign({},d.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:g};return c.setMetadata("crop",y),y})}),t("DID_LOAD_ITEM",(c,{query:h})=>new Promise((p,d)=>{const g=c.file;if(!r(g)||!Oy(g)||!h("GET_ALLOW_IMAGE_CROP")||c.getMetadata("crop"))return p(c);const m=h("GET_IMAGE_CROP_ASPECT_RATIO");c.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:m?i(m):null}),p(c)})),{options:{allowImageCrop:[!0,n.BOOLEAN],imageCropAspectRatio:[null,n.STRING]}}},GF=typeof window<"u"&&typeof window.document<"u";GF&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:S0}));var HF=S0;/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var VF=t=>/^image\/jpeg/.test(t.type),fo={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},ho=(t,e,n=!1)=>t.getUint16(e,n),Dy=(t,e,n=!1)=>t.getUint32(e,n),WF=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=function(i){const o=new DataView(i.target.result);if(ho(o,0)!==fo.JPEG){e(-1);return}const s=o.byteLength;let a=2;for(;a<s;){const u=ho(o,a);if(a+=2,u===fo.APP1){if(Dy(o,a+=2)!==fo.EXIF)break;const c=ho(o,a+=6)===fo.TIFF;a+=Dy(o,a+4,c);const h=ho(o,a,c);a+=2;for(let p=0;p<h;p++)if(ho(o,a+p*12,c)===fo.Orientation){e(ho(o,a+p*12+8,c));return}}else{if((u&fo.Unknown)!==fo.Unknown)break;a+=ho(o,a)}}e(-1)},r.readAsArrayBuffer(t.slice(0,64*1024))}),jF=(()=>typeof window<"u"&&typeof window.document<"u")(),zF=()=>jF,qF="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",I0=void 0,su=zF()?new Image:{};su.onload=()=>I0=su.naturalWidth>su.naturalHeight;su.src=qF;var YF=()=>I0,C0=({addFilter:t,utils:e})=>{const{Type:n,isFile:r}=e;return t("DID_LOAD_ITEM",(i,{query:o})=>new Promise((s,a)=>{const u=i.file;if(!r(u)||!VF(u)||!o("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!YF())return s(i);WF(u).then(c=>{i.setMetadata("exif",{orientation:c}),s(i)})})),{options:{allowImageExifOrientation:[!0,n.BOOLEAN]}}},KF=typeof window<"u"&&typeof window.document<"u";KF&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:C0}));var XF=C0;/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var ZF=t=>/^image/.test(t.type),Ly=(t,e)=>Ma(t.x*e,t.y*e),My=(t,e)=>Ma(t.x+e.x,t.y+e.y),JF=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:Ma(t.x/e,t.y/e)},Hl=(t,e,n)=>{const r=Math.cos(e),i=Math.sin(e),o=Ma(t.x-n.x,t.y-n.y);return Ma(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},Ma=(t=0,e=0)=>({x:t,y:e}),kn=(t,e,n=1,r)=>{if(typeof t=="string")return parseFloat(t)*n;if(typeof t=="number")return t*(r?e[r]:Math.min(e.width,e.height))},QF=(t,e,n)=>{const r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",s=kn(t.borderWidth||t.lineWidth,e,n),a=t.lineCap||"round",u=t.lineJoin||"round",c=typeof r=="string"?"":r.map(p=>kn(p,e,n)).join(","),h=t.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":u,"stroke-width":s||0,"stroke-dasharray":c,stroke:o,fill:i,opacity:h}},ur=t=>t!=null,tB=(t,e,n=1)=>{let r=kn(t.x,e,n,"width")||kn(t.left,e,n,"width"),i=kn(t.y,e,n,"height")||kn(t.top,e,n,"height"),o=kn(t.width,e,n,"width"),s=kn(t.height,e,n,"height"),a=kn(t.right,e,n,"width"),u=kn(t.bottom,e,n,"height");return ur(i)||(ur(s)&&ur(u)?i=e.height-s-u:i=u),ur(r)||(ur(o)&&ur(a)?r=e.width-o-a:r=a),ur(o)||(ur(r)&&ur(a)?o=e.width-r-a:o=0),ur(s)||(ur(i)&&ur(u)?s=e.height-i-u:s=0),{x:r||0,y:i||0,width:o||0,height:s||0}},eB=t=>t.map((e,n)=>`${n===0?"M":"L"} ${e.x} ${e.y}`).join(" "),$r=(t,e)=>Object.keys(e).forEach(n=>t.setAttribute(n,e[n])),nB="http://www.w3.org/2000/svg",ds=(t,e)=>{const n=document.createElementNS(nB,t);return e&&$r(n,e),n},rB=t=>$r(t,{...t.rect,...t.styles}),iB=t=>{const e=t.rect.x+t.rect.width*.5,n=t.rect.y+t.rect.height*.5,r=t.rect.width*.5,i=t.rect.height*.5;return $r(t,{cx:e,cy:n,rx:r,ry:i,...t.styles})},oB={contain:"xMidYMid meet",cover:"xMidYMid slice"},sB=(t,e)=>{$r(t,{...t.rect,...t.styles,preserveAspectRatio:oB[e.fit]||"none"})},aB={left:"start",center:"middle",right:"end"},lB=(t,e,n,r)=>{const i=kn(e.fontSize,n,r),o=e.fontFamily||"sans-serif",s=e.fontWeight||"normal",a=aB[e.textAlign]||"start";$r(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":s,"font-size":i,"font-family":o,"text-anchor":a}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},uB=(t,e,n,r)=>{$r(t,{...t.rect,...t.styles,fill:"none"});const i=t.childNodes[0],o=t.childNodes[1],s=t.childNodes[2],a=t.rect,u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if($r(i,{x1:a.x,y1:a.y,x2:u.x,y2:u.y}),!e.lineDecoration)return;o.style.display="none",s.style.display="none";const c=JF({x:u.x-a.x,y:u.y-a.y}),h=kn(.05,n,r);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const p=Ly(c,h),d=My(a,p),g=Hl(a,2,d),y=Hl(a,-2,d);$r(o,{style:"display:block;",d:`M${g.x},${g.y} L${a.x},${a.y} L${y.x},${y.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const p=Ly(c,-h),d=My(u,p),g=Hl(u,2,d),y=Hl(u,-2,d);$r(s,{style:"display:block;",d:`M${g.x},${g.y} L${u.x},${u.y} L${y.x},${y.y}`})}},cB=(t,e,n,r)=>{$r(t,{...t.styles,fill:"none",d:eB(e.points.map(i=>({x:kn(i.x,n,r,"width"),y:kn(i.y,n,r,"height")})))})},Vl=t=>e=>ds(t,{id:e.id}),fB=t=>{const e=ds("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},hB=t=>{const e=ds("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=ds("line");e.appendChild(n);const r=ds("path");e.appendChild(r);const i=ds("path");return e.appendChild(i),e},dB={image:fB,rect:Vl("rect"),ellipse:Vl("ellipse"),text:Vl("text"),path:Vl("path"),line:hB},pB={rect:rB,ellipse:iB,image:sB,text:lB,path:cB,line:uB},gB=(t,e)=>dB[t](e),mB=(t,e,n,r,i)=>{e!=="path"&&(t.rect=tB(n,r,i)),t.styles=QF(n,r,i),pB[e](t,n,r,i)},vB=["x","y","left","top","right","bottom","width","height"],yB=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,_B=t=>{const[e,n]=t,r=n.points?{}:vB.reduce((i,o)=>(i[o]=yB(n[o]),i),{});return[e,{zIndex:0,...n,...r}]},EB=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,bB=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:n})=>{if(!n.dirty)return;const{crop:r,resize:i,markup:o}=n,s=n.width,a=n.height;let u=r.width,c=r.height;if(i){const{size:g}=i;let y=g&&g.width,m=g&&g.height;const _=i.mode,E=i.upscale;y&&!m&&(m=y),m&&!y&&(y=m);const w=u<y&&c<m;if(!w||w&&E){let v=y/u,b=m/c;if(_==="force")u=y,c=m;else{let T;_==="cover"?T=Math.max(v,b):_==="contain"&&(T=Math.min(v,b)),u=u*T,c=c*T}}}const h={width:s,height:a};e.element.setAttribute("width",h.width),e.element.setAttribute("height",h.height);const p=Math.min(s/u,a/c);e.element.innerHTML="";const d=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(d).map(_B).sort(EB).forEach(g=>{const[y,m]=g,_=gB(y,m);mB(_,y,m,h,p),e.element.appendChild(_)})}}),Aa=(t,e)=>({x:t,y:e}),wB=(t,e)=>t.x*e.x+t.y*e.y,ky=(t,e)=>Aa(t.x-e.x,t.y-e.y),AB=(t,e)=>wB(ky(t,e),ky(t,e)),Py=(t,e)=>Math.sqrt(AB(t,e)),Ny=(t,e)=>{const n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,s=Math.sin(r),a=Math.sin(i),u=Math.sin(o),c=Math.cos(o),h=n/s,p=h*a,d=h*u;return Aa(c*p,c*d)},TB=(t,e)=>{const n=t.width,r=t.height,i=Ny(n,e),o=Ny(r,e),s=Aa(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),a=Aa(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=Aa(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:Py(s,a),height:Py(s,u)}},SB=(t,e,n=1)=>{const r=t.height/t.width;let i=1,o=e,s=1,a=r;a>o&&(a=o,s=a/r);const u=Math.max(i/s,o/a),c=t.width/(n*u*s),h=c*e;return{width:c,height:h}},x0=(t,e,n,r)=>{const i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,s=i*2*t.width,a=o*2*t.height,u=TB(e,n);return Math.max(u.width/s,u.height/a)},R0=(t,e)=>{let n=t.width,r=n*e;r>t.height&&(r=t.height,n=r/e);const i=(t.width-n)*.5,o=(t.height-r)*.5;return{x:i,y:o,width:n,height:r}},IB=(t,e={})=>{let{zoom:n,rotation:r,center:i,aspectRatio:o}=e;o||(o=t.height/t.width);const s=SB(t,o,n),a={x:s.width*.5,y:s.height*.5},u={x:0,y:0,width:s.width,height:s.height,center:a},c=typeof e.scaleToFit>"u"||e.scaleToFit,h=x0(t,R0(u,o),r,c?i:{x:.5,y:.5}),p=n*h;return{widthFloat:s.width/p,heightFloat:s.height/p,width:Math.round(s.width/p),height:Math.round(s.height/p)}},Br={type:"spring",stiffness:.5,damping:.45,mass:10},CB=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:n})=>{e.appendChild(n.image)}}),xB=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Br,originY:Br,scaleX:Br,scaleY:Br,translateX:Br,translateY:Br,rotateZ:Br}},create:({root:e,props:n})=>{n.width=n.image.width,n.height=n.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(CB(t),{image:n.image}))},write:({root:e,props:n})=>{const{flip:r}=n.crop,{bitmap:i}=e.ref;i.scaleX=r.horizontal?-1:1,i.scaleY=r.vertical?-1:1}}),RB=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:n}){!n.background||(e.element.style.backgroundColor=n.background)},create:({root:e,props:n})=>{e.ref.image=e.appendChildView(e.createChildView(xB(t),Object.assign({},n))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(bB(t),Object.assign({},n))))},e.ref.destroyMarkup=()=>{!e.ref.markup||(e.removeChildView(e.ref.markup),e.ref.markup=null)};const r=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");r!==null&&(r==="grid"?e.element.dataset.transparencyIndicator=r:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:n,shouldOptimize:r})=>{const{crop:i,markup:o,resize:s,dirty:a,width:u,height:c}=n;e.ref.image.crop=i;const h={x:0,y:0,width:u,height:c,center:{x:u*.5,y:c*.5}},p={width:e.ref.image.width,height:e.ref.image.height},d={x:i.center.x*p.width,y:i.center.y*p.height},g={x:h.center.x-p.width*i.center.x,y:h.center.y-p.height*i.center.y},y=Math.PI*2+i.rotation%(Math.PI*2),m=i.aspectRatio||p.height/p.width,_=typeof i.scaleToFit>"u"||i.scaleToFit,E=x0(p,R0(h,m),y,_?i.center:{x:.5,y:.5}),w=i.zoom*E;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=u,e.ref.markup.height=c,e.ref.markup.resize=s,e.ref.markup.dirty=a,e.ref.markup.markup=o,e.ref.markup.crop=IB(p,i)):e.ref.markup&&e.ref.destroyMarkup();const v=e.ref.image;if(r){v.originX=null,v.originY=null,v.translateX=null,v.translateY=null,v.rotateZ=null,v.scaleX=null,v.scaleY=null;return}v.originX=d.x,v.originY=d.y,v.translateX=g.x,v.translateY=g.y,v.rotateZ=y,v.scaleX=w,v.scaleY=w}}),OB=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Br,scaleY:Br,translateY:Br,opacity:{type:"tween",duration:400}}},create:({root:e,props:n})=>{e.ref.clip=e.appendChildView(e.createChildView(RB(t),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:e,props:n,shouldOptimize:r})=>{const{clip:i}=e.ref,{image:o,crop:s,markup:a,resize:u,dirty:c}=n;if(i.crop=s,i.markup=a,i.resize=u,i.dirty=c,i.opacity=r?0:1,r||e.rect.element.hidden)return;const h=o.height/o.width;let p=s.aspectRatio||h;const d=e.rect.inner.width,g=e.rect.inner.height;let y=e.query("GET_IMAGE_PREVIEW_HEIGHT");const m=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),_=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),E=e.query("GET_PANEL_ASPECT_RATIO"),w=e.query("GET_ALLOW_MULTIPLE");E&&!w&&(y=d*E,p=E);let v=y!==null?y:Math.max(m,Math.min(d*p,_)),b=v/p;b>d&&(b=d,v=b*p),v>g&&(v=g,b=g/p),i.width=b,i.height=v}}),DB=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Fy=0,LB=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:n})=>{let r=DB;if(document.querySelector("base")){const i=new URL(window.location.href.replace(window.location.hash,"")).href;r=r.replace(/url\(\#/g,"url("+i+"#")}Fy++,e.element.classList.add(`filepond--image-preview-overlay-${n.status}`),e.element.innerHTML=r.replace(/__UID__/g,Fy)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),MB=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},kB=function(){self.onmessage=t=>{const e=t.data.message.imageData,n=t.data.message.colorMatrix,r=e.data,i=r.length,o=n[0],s=n[1],a=n[2],u=n[3],c=n[4],h=n[5],p=n[6],d=n[7],g=n[8],y=n[9],m=n[10],_=n[11],E=n[12],w=n[13],v=n[14],b=n[15],T=n[16],I=n[17],S=n[18],C=n[19];let D=0,N=0,P=0,L=0,x=0;for(;D<i;D+=4)N=r[D]/255,P=r[D+1]/255,L=r[D+2]/255,x=r[D+3]/255,r[D]=Math.max(0,Math.min((N*o+P*s+L*a+x*u+c)*255,255)),r[D+1]=Math.max(0,Math.min((N*h+P*p+L*d+x*g+y)*255,255)),r[D+2]=Math.max(0,Math.min((N*m+P*_+L*E+x*w+v)*255,255)),r[D+3]=Math.max(0,Math.min((N*b+P*T+L*I+x*S+C)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},PB=(t,e)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,i=n.naturalHeight;n=null,e(r,i)},n.src=t},NB={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},FB=(t,e,n,r)=>{r!==-1&&t.transform.apply(t,NB[r](e,n))},BB=(t,e,n,r)=>{e=Math.round(e),n=Math.round(n);const i=document.createElement("canvas");i.width=e,i.height=n;const o=i.getContext("2d");return r>=5&&r<=8&&([e,n]=[n,e]),FB(o,e,n,r),o.drawImage(t,0,0,e,n),i},O0=t=>/^image/.test(t.type)&&!/svg/.test(t.type),UB=10,$B=10,GB=t=>{const e=Math.min(UB/t.width,$B/t.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(t.width*e),o=n.height=Math.ceil(t.height*e);r.drawImage(t,0,0,i,o);let s=null;try{s=r.getImageData(0,0,i,o).data}catch{return null}const a=s.length;let u=0,c=0,h=0,p=0;for(;p<a;p+=4)u+=s[p]*s[p],c+=s[p+1]*s[p+1],h+=s[p+2]*s[p+2];return u=hh(u,a),c=hh(c,a),h=hh(h,a),{r:u,g:c,b:h}},hh=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),HB=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),VB=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},WB=t=>new Promise((e,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=t}),jB=t=>{const e=LB(t),n=OB(t),{createWorker:r}=t.utils,i=(w,v,b)=>new Promise(T=>{w.ref.imageData||(w.ref.imageData=b.getContext("2d").getImageData(0,0,b.width,b.height));const I=VB(w.ref.imageData);if(!v||v.length!==20)return b.getContext("2d").putImageData(I,0,0),T();const S=r(kB);S.post({imageData:I,colorMatrix:v},C=>{b.getContext("2d").putImageData(C,0,0),S.terminate(),T()},[I.data.buffer])}),o=(w,v)=>{w.removeChildView(v),v.image.width=1,v.image.height=1,v._destroy()},s=({root:w})=>{const v=w.ref.images.shift();return v.opacity=0,v.translateY=-15,w.ref.imageViewBin.push(v),v},a=({root:w,props:v,image:b})=>{const T=v.id,I=w.query("GET_ITEM",{id:T});if(!I)return;const S=I.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},C=w.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let D,N,P=!1;w.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(D=I.getMetadata("markup")||[],N=I.getMetadata("resize"),P=!0);const L=w.appendChildView(w.createChildView(n,{id:T,image:b,crop:S,resize:N,markup:D,dirty:P,background:C,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),w.childViews.length);w.ref.images.push(L),L.opacity=1,L.scaleX=1,L.scaleY=1,L.translateY=0,setTimeout(()=>{w.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:T})},250)},u=({root:w,props:v})=>{const b=w.query("GET_ITEM",{id:v.id});if(!b)return;const T=w.ref.images[w.ref.images.length-1];T.crop=b.getMetadata("crop"),T.background=w.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),w.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(T.dirty=!0,T.resize=b.getMetadata("resize"),T.markup=b.getMetadata("markup"))},c=({root:w,props:v,action:b})=>{if(!/crop|filter|markup|resize/.test(b.change.key)||!w.ref.images.length)return;const T=w.query("GET_ITEM",{id:v.id});if(!!T){if(/filter/.test(b.change.key)){const I=w.ref.images[w.ref.images.length-1];i(w,b.change.value,I.image);return}if(/crop|markup|resize/.test(b.change.key)){const I=T.getMetadata("crop"),S=w.ref.images[w.ref.images.length-1];if(I&&I.aspectRatio&&S.crop&&S.crop.aspectRatio&&Math.abs(I.aspectRatio-S.crop.aspectRatio)>1e-5){const C=s({root:w});a({root:w,props:v,image:HB(C.image)})}else u({root:w,props:v})}}},h=w=>{const b=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(b?parseInt(b[1]):null)<=58?!1:"createImageBitmap"in window&&O0(w)},p=({root:w,props:v})=>{const{id:b}=v,T=w.query("GET_ITEM",b);if(!T)return;const I=URL.createObjectURL(T.file);PB(I,(S,C)=>{w.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:b,width:S,height:C})})},d=({root:w,props:v})=>{const{id:b}=v,T=w.query("GET_ITEM",b);if(!T)return;const I=URL.createObjectURL(T.file),S=()=>{WB(I).then(C)},C=D=>{URL.revokeObjectURL(I);const P=(T.getMetadata("exif")||{}).orientation||-1;let{width:L,height:x}=D;if(!L||!x)return;P>=5&&P<=8&&([L,x]=[x,L]);const M=Math.max(1,window.devicePixelRatio*.75),R=w.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*M,B=x/L,$=w.rect.element.width,H=w.rect.element.height;let j=$,X=j*B;B>1?(j=Math.min(L,$*R),X=j*B):(X=Math.min(x,H*R),j=X/B);const ft=BB(D,j,X,P),at=()=>{const vt=w.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?GB(data):null;T.setMetadata("color",vt,!0),"close"in D&&D.close(),w.ref.overlayShadow.opacity=1,a({root:w,props:v,image:ft})},ht=T.getMetadata("filter");ht?i(w,ht,ft).then(at):at()};if(h(T.file)){const D=r(MB);D.post({file:T.file},N=>{if(D.terminate(),!N){S();return}C(N)})}else S()},g=({root:w})=>{const v=w.ref.images[w.ref.images.length-1];v.translateY=0,v.scaleX=1,v.scaleY=1,v.opacity=1},y=({root:w})=>{w.ref.overlayShadow.opacity=1,w.ref.overlayError.opacity=0,w.ref.overlaySuccess.opacity=0},m=({root:w})=>{w.ref.overlayShadow.opacity=.25,w.ref.overlayError.opacity=1},_=({root:w})=>{w.ref.overlayShadow.opacity=.25,w.ref.overlaySuccess.opacity=1},E=({root:w})=>{w.ref.images=[],w.ref.imageData=null,w.ref.imageViewBin=[],w.ref.overlayShadow=w.appendChildView(w.createChildView(e,{opacity:0,status:"idle"})),w.ref.overlaySuccess=w.appendChildView(w.createChildView(e,{opacity:0,status:"success"})),w.ref.overlayError=w.appendChildView(w.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:E,styles:["height"],apis:["height"],destroy:({root:w})=>{w.ref.images.forEach(v=>{v.image.width=1,v.image.height=1})},didWriteView:({root:w})=>{w.ref.images.forEach(v=>{v.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:g,DID_IMAGE_PREVIEW_CONTAINER_CREATE:p,DID_FINISH_CALCULATE_PREVIEWSIZE:d,DID_UPDATE_ITEM_METADATA:c,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:_,DID_START_ITEM_PROCESSING:y,DID_REVERT_ITEM_PROCESSING:y},({root:w})=>{const v=w.ref.imageViewBin.filter(b=>b.opacity===0);w.ref.imageViewBin=w.ref.imageViewBin.filter(b=>b.opacity>0),v.forEach(b=>o(w,b)),v.length=0})})},D0=t=>{const{addFilter:e,utils:n}=t,{Type:r,createRoute:i,isFile:o}=n,s=jB(t);return e("CREATE_VIEW",a=>{const{is:u,view:c,query:h}=a;if(!u("file")||!h("GET_ALLOW_IMAGE_PREVIEW"))return;const p=({root:_,props:E})=>{const{id:w}=E,v=h("GET_ITEM",w);if(!v||!o(v.file)||v.archived)return;const b=v.file;if(!ZF(b)||!h("GET_IMAGE_PREVIEW_FILTER_ITEM")(v))return;const T="createImageBitmap"in(window||{}),I=h("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!T&&I&&b.size>I)return;_.ref.imagePreview=c.appendChildView(c.createChildView(s,{id:w}));const S=_.query("GET_IMAGE_PREVIEW_HEIGHT");S&&_.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:v.id,height:S});const C=!T&&b.size>h("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");_.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:w},C)},d=(_,E)=>{if(!_.ref.imagePreview)return;let{id:w}=E;const v=_.query("GET_ITEM",{id:w});if(!v)return;const b=_.query("GET_PANEL_ASPECT_RATIO"),T=_.query("GET_ITEM_PANEL_ASPECT_RATIO"),I=_.query("GET_IMAGE_PREVIEW_HEIGHT");if(b||T||I)return;let{imageWidth:S,imageHeight:C}=_.ref;if(!S||!C)return;const D=_.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),N=_.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),L=(v.getMetadata("exif")||{}).orientation||-1;if(L>=5&&L<=8&&([S,C]=[C,S]),!O0(v.file)||_.query("GET_IMAGE_PREVIEW_UPSCALE")){const $=2048/S;S*=$,C*=$}const x=C/S,M=(v.getMetadata("crop")||{}).aspectRatio||x;let k=Math.max(D,Math.min(C,N));const R=_.rect.element.width,B=Math.min(R*M,k);_.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:v.id,height:B})},g=({root:_})=>{_.ref.shouldRescale=!0},y=({root:_,action:E})=>{E.change.key==="crop"&&(_.ref.shouldRescale=!0)},m=({root:_,action:E})=>{_.ref.imageWidth=E.width,_.ref.imageHeight=E.height,_.ref.shouldRescale=!0,_.ref.shouldDrawPreview=!0,_.dispatch("KICK")};c.registerWriter(i({DID_RESIZE_ROOT:g,DID_STOP_RESIZE:g,DID_LOAD_ITEM:p,DID_IMAGE_PREVIEW_CALCULATE_SIZE:m,DID_UPDATE_ITEM_METADATA:y},({root:_,props:E})=>{!_.ref.imagePreview||_.rect.element.hidden||(_.ref.shouldRescale&&(d(_,E),_.ref.shouldRescale=!1),_.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{_.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:E.id})})}),_.ref.shouldDrawPreview=!1))}))}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[()=>!0,r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,r.FUNCTION]}}},zB=typeof window<"u"&&typeof window.document<"u";zB&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:D0}));var qB=D0;/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var YB=t=>/^image/.test(t.type),KB=(t,e)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,i=n.naturalHeight;n=null,e({width:r,height:i})},n.onerror=()=>e(null),n.src=t},L0=({addFilter:t,utils:e})=>{const{Type:n}=e;return t("DID_LOAD_ITEM",(r,{query:i})=>new Promise((o,s)=>{const a=r.file;if(!YB(a)||!i("GET_ALLOW_IMAGE_RESIZE"))return o(r);const u=i("GET_IMAGE_RESIZE_MODE"),c=i("GET_IMAGE_RESIZE_TARGET_WIDTH"),h=i("GET_IMAGE_RESIZE_TARGET_HEIGHT"),p=i("GET_IMAGE_RESIZE_UPSCALE");if(c===null&&h===null)return o(r);const d=c===null?h:c,g=h===null?d:h,y=URL.createObjectURL(a);KB(y,m=>{if(URL.revokeObjectURL(y),!m)return o(r);let{width:_,height:E}=m;const w=(r.getMetadata("exif")||{}).orientation||-1;if(w>=5&&w<=8&&([_,E]=[E,_]),_===d&&E===g)return o(r);if(!p){if(u==="cover"){if(_<=d||E<=g)return o(r)}else if(_<=d&&E<=d)return o(r)}r.setMetadata("resize",{mode:u,upscale:p,size:{width:d,height:g}}),o(r)})})),{options:{allowImageResize:[!0,n.BOOLEAN],imageResizeMode:["cover",n.STRING],imageResizeUpscale:[!0,n.BOOLEAN],imageResizeTargetWidth:[null,n.INT],imageResizeTargetHeight:[null,n.INT]}}},XB=typeof window<"u"&&typeof window.document<"u";XB&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:L0}));var ZB=L0;/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var JB=t=>/^image/.test(t.type),QB=t=>t.substr(0,t.lastIndexOf("."))||t,t3={jpeg:"jpg","svg+xml":"svg"},e3=(t,e)=>{const n=QB(t),r=e.split("/")[1],i=t3[r]||r;return`${n}.${i}`},n3=t=>/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg",r3=t=>/^image/.test(t.type),i3={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},o3=(t,e,n)=>(n===-1&&(n=1),i3[n](t,e)),Ta=(t,e)=>({x:t,y:e}),s3=(t,e)=>t.x*e.x+t.y*e.y,By=(t,e)=>Ta(t.x-e.x,t.y-e.y),a3=(t,e)=>s3(By(t,e),By(t,e)),Uy=(t,e)=>Math.sqrt(a3(t,e)),$y=(t,e)=>{const n=t,r=1.5707963267948966,i=e,o=1.5707963267948966-e,s=Math.sin(r),a=Math.sin(i),u=Math.sin(o),c=Math.cos(o),h=n/s,p=h*a,d=h*u;return Ta(c*p,c*d)},l3=(t,e)=>{const n=t.width,r=t.height,i=$y(n,e),o=$y(r,e),s=Ta(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),a=Ta(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=Ta(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:Uy(s,a),height:Uy(s,u)}},M0=(t,e,n=0,r={x:.5,y:.5})=>{const i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,s=i*2*t.width,a=o*2*t.height,u=l3(e,n);return Math.max(u.width/s,u.height/a)},k0=(t,e)=>{let n=t.width,r=n*e;r>t.height&&(r=t.height,n=r/e);const i=(t.width-n)*.5,o=(t.height-r)*.5;return{x:i,y:o,width:n,height:r}},Gy=(t,e,n=1)=>{const r=t.height/t.width;let i=1,o=e,s=1,a=r;a>o&&(a=o,s=a/r);const u=Math.max(i/s,o/a),c=t.width/(n*u*s),h=c*e;return{width:c,height:h}},P0=t=>{t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},Hy=t=>t&&(t.horizontal||t.vertical),u3=(t,e,n)=>{if(e<=1&&!Hy(n))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;const r=document.createElement("canvas"),i=t.naturalWidth,o=t.naturalHeight,s=e>=5&&e<=8;s?(r.width=o,r.height=i):(r.width=i,r.height=o);const a=r.getContext("2d");if(e&&a.transform.apply(a,o3(i,o,e)),Hy(n)){const u=[1,0,0,1,0,0];(!s&&n.horizontal||s&n.vertical)&&(u[0]=-1,u[4]=i),(!s&&n.vertical||s&&n.horizontal)&&(u[3]=-1,u[5]=o),a.transform(...u)}return a.drawImage(t,0,0,i,o),r},c3=(t,e,n={},r={})=>{const{canvasMemoryLimit:i,background:o=null}=r,s=n.zoom||1,a=u3(t,e,n.flip),u={width:a.width,height:a.height},c=n.aspectRatio||u.height/u.width;let h=Gy(u,c,s);if(i){const v=h.width*h.height;if(v>i){const b=Math.sqrt(i)/Math.sqrt(v);u.width=Math.floor(u.width*b),u.height=Math.floor(u.height*b),h=Gy(u,c,s)}}const p=document.createElement("canvas"),d={x:h.width*.5,y:h.height*.5},g={x:0,y:0,width:h.width,height:h.height,center:d},y=typeof n.scaleToFit>"u"||n.scaleToFit,m=s*M0(u,k0(g,c),n.rotation,y?n.center:{x:.5,y:.5});p.width=Math.round(h.width/m),p.height=Math.round(h.height/m),d.x/=m,d.y/=m;const _={x:d.x-u.width*(n.center?n.center.x:.5),y:d.y-u.height*(n.center?n.center.y:.5)},E=p.getContext("2d");o&&(E.fillStyle=o,E.fillRect(0,0,p.width,p.height)),E.translate(d.x,d.y),E.rotate(n.rotation||0),E.drawImage(a,_.x-d.x,_.y-d.y,u.width,u.height);const w=E.getImageData(0,0,p.width,p.height);return P0(p),w},f3=(()=>typeof window<"u"&&typeof window.document<"u")();f3&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this.toDataURL(e,n).split(",")[1];setTimeout(function(){for(var i=atob(r),o=i.length,s=new Uint8Array(o),a=0;a<o;a++)s[a]=i.charCodeAt(a);t(new Blob([s],{type:e||"image/png"}))})}}));var h3=(t,e,n=null)=>new Promise(r=>{const i=n?n(t):t;Promise.resolve(i).then(o=>{o.toBlob(r,e.type,e.quality)})}),Lu=(t,e)=>ka(t.x*e,t.y*e),Mu=(t,e)=>ka(t.x+e.x,t.y+e.y),N0=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:ka(t.x/e,t.y/e)},Bi=(t,e,n)=>{const r=Math.cos(e),i=Math.sin(e),o=ka(t.x-n.x,t.y-n.y);return ka(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},ka=(t=0,e=0)=>({x:t,y:e}),on=(t,e,n=1,r)=>{if(typeof t=="string")return parseFloat(t)*n;if(typeof t=="number")return t*(r?e[r]:Math.min(e.width,e.height))},Fo=(t,e,n)=>{const r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",s=on(t.borderWidth||t.lineWidth,e,n),a=t.lineCap||"round",u=t.lineJoin||"round",c=typeof r=="string"?"":r.map(p=>on(p,e,n)).join(","),h=t.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":u,"stroke-width":s||0,"stroke-dasharray":c,stroke:o,fill:i,opacity:h}},cr=t=>t!=null,Us=(t,e,n=1)=>{let r=on(t.x,e,n,"width")||on(t.left,e,n,"width"),i=on(t.y,e,n,"height")||on(t.top,e,n,"height"),o=on(t.width,e,n,"width"),s=on(t.height,e,n,"height"),a=on(t.right,e,n,"width"),u=on(t.bottom,e,n,"height");return cr(i)||(cr(s)&&cr(u)?i=e.height-s-u:i=u),cr(r)||(cr(o)&&cr(a)?r=e.width-o-a:r=a),cr(o)||(cr(r)&&cr(a)?o=e.width-r-a:o=0),cr(s)||(cr(i)&&cr(u)?s=e.height-i-u:s=0),{x:r||0,y:i||0,width:o||0,height:s||0}},d3=t=>t.map((e,n)=>`${n===0?"M":"L"} ${e.x} ${e.y}`).join(" "),Gr=(t,e)=>Object.keys(e).forEach(n=>t.setAttribute(n,e[n])),p3="http://www.w3.org/2000/svg",ps=(t,e)=>{const n=document.createElementNS(p3,t);return e&&Gr(n,e),n},g3=t=>Gr(t,{...t.rect,...t.styles}),m3=t=>{const e=t.rect.x+t.rect.width*.5,n=t.rect.y+t.rect.height*.5,r=t.rect.width*.5,i=t.rect.height*.5;return Gr(t,{cx:e,cy:n,rx:r,ry:i,...t.styles})},v3={contain:"xMidYMid meet",cover:"xMidYMid slice"},y3=(t,e)=>{Gr(t,{...t.rect,...t.styles,preserveAspectRatio:v3[e.fit]||"none"})},_3={left:"start",center:"middle",right:"end"},E3=(t,e,n,r)=>{const i=on(e.fontSize,n,r),o=e.fontFamily||"sans-serif",s=e.fontWeight||"normal",a=_3[e.textAlign]||"start";Gr(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":s,"font-size":i,"font-family":o,"text-anchor":a}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},b3=(t,e,n,r)=>{Gr(t,{...t.rect,...t.styles,fill:"none"});const i=t.childNodes[0],o=t.childNodes[1],s=t.childNodes[2],a=t.rect,u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(Gr(i,{x1:a.x,y1:a.y,x2:u.x,y2:u.y}),!e.lineDecoration)return;o.style.display="none",s.style.display="none";const c=N0({x:u.x-a.x,y:u.y-a.y}),h=on(.05,n,r);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const p=Lu(c,h),d=Mu(a,p),g=Bi(a,2,d),y=Bi(a,-2,d);Gr(o,{style:"display:block;",d:`M${g.x},${g.y} L${a.x},${a.y} L${y.x},${y.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const p=Lu(c,-h),d=Mu(u,p),g=Bi(u,2,d),y=Bi(u,-2,d);Gr(s,{style:"display:block;",d:`M${g.x},${g.y} L${u.x},${u.y} L${y.x},${y.y}`})}},w3=(t,e,n,r)=>{Gr(t,{...t.styles,fill:"none",d:d3(e.points.map(i=>({x:on(i.x,n,r,"width"),y:on(i.y,n,r,"height")})))})},Wl=t=>e=>ps(t,{id:e.id}),A3=t=>{const e=ps("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},T3=t=>{const e=ps("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=ps("line");e.appendChild(n);const r=ps("path");e.appendChild(r);const i=ps("path");return e.appendChild(i),e},S3={image:A3,rect:Wl("rect"),ellipse:Wl("ellipse"),text:Wl("text"),path:Wl("path"),line:T3},I3={rect:g3,ellipse:m3,image:y3,text:E3,path:w3,line:b3},C3=(t,e)=>S3[t](e),x3=(t,e,n,r,i)=>{e!=="path"&&(t.rect=Us(n,r,i)),t.styles=Fo(n,r,i),I3[e](t,n,r,i)},F0=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,R3=(t,e={},n,r)=>new Promise(i=>{const{background:o=null}=r,s=new FileReader;s.onloadend=()=>{const a=s.result,u=document.createElement("div");u.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",u.innerHTML=a;const c=u.querySelector("svg");document.body.appendChild(u);const h=c.getBBox();u.parentNode.removeChild(u);const p=u.querySelector("title"),d=c.getAttribute("viewBox")||"",g=c.getAttribute("width")||"",y=c.getAttribute("height")||"";let m=parseFloat(g)||null,_=parseFloat(y)||null;const E=(g.match(/[a-z]+/)||[])[0]||"",w=(y.match(/[a-z]+/)||[])[0]||"",v=d.split(" ").map(parseFloat),b=v.length?{x:v[0],y:v[1],width:v[2],height:v[3]}:h;let T=m!=null?m:b.width,I=_!=null?_:b.height;c.style.overflow="visible",c.setAttribute("width",T),c.setAttribute("height",I);let S="";if(n&&n.length){const ht={width:T,height:I};S=n.sort(F0).reduce((vt,ct)=>{const bt=C3(ct[0],ct[1]);return x3(bt,ct[0],ct[1],ht),bt.removeAttribute("id"),bt.getAttribute("opacity")===1&&bt.removeAttribute("opacity"),vt+`
`+bt.outerHTML+`
`},""),S=`

<g>${S.replace(/&nbsp;/g," ")}</g>

`}const C=e.aspectRatio||I/T,D=T,N=D*C,P=typeof e.scaleToFit>"u"||e.scaleToFit,L=e.center?e.center.x:.5,x=e.center?e.center.y:.5,M=M0({width:T,height:I},k0({width:D,height:N},C),e.rotation,P?{x:L,y:x}:{x:.5,y:.5}),k=e.zoom*M,R=e.rotation*(180/Math.PI),B={x:D*.5,y:N*.5},$={x:B.x-T*L,y:B.y-I*x},H=[`rotate(${R} ${B.x} ${B.y})`,`translate(${B.x} ${B.y})`,`scale(${k})`,`translate(${-B.x} ${-B.y})`,`translate(${$.x} ${$.y})`],j=e.flip&&e.flip.horizontal,X=e.flip&&e.flip.vertical,ft=[`scale(${j?-1:1} ${X?-1:1})`,`translate(${j?-T:0} ${X?-I:0})`],at=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${D}${E}" height="${N}${w}" 
viewBox="0 0 ${D} ${N}" ${o?'style="background:'+o+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${p?p.textContent:""}</title>
<g transform="${H.join(" ")}">
<g transform="${ft.join(" ")}">
${c.outerHTML}${S}
</g>
</g>
</svg>`;i(at)},s.readAsText(t)}),O3=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},D3=()=>{const t={resize:h,filter:c},e=(p,d)=>(p.forEach(g=>{d=t[g.type](d,g.data)}),d),n=(p,d)=>{let g=p.transforms,y=null;if(g.forEach(m=>{m.type==="filter"&&(y=m)}),y){let m=null;g.forEach(_=>{_.type==="resize"&&(m=_)}),m&&(m.data.matrix=y.data,g=g.filter(_=>_.type!=="filter"))}d(e(g,p.imageData))};self.onmessage=p=>{n(p.data.message,d=>{self.postMessage({id:p.data.id,message:d},[d.data.buffer])})};const r=1,i=1,o=1;function s(p,d,g){const y=d[p]/255,m=d[p+1]/255,_=d[p+2]/255,E=d[p+3]/255,w=y*g[0]+m*g[1]+_*g[2]+E*g[3]+g[4],v=y*g[5]+m*g[6]+_*g[7]+E*g[8]+g[9],b=y*g[10]+m*g[11]+_*g[12]+E*g[13]+g[14],T=y*g[15]+m*g[16]+_*g[17]+E*g[18]+g[19],I=Math.max(0,w*T)+r*(1-T),S=Math.max(0,v*T)+i*(1-T),C=Math.max(0,b*T)+o*(1-T);d[p]=Math.max(0,Math.min(1,I))*255,d[p+1]=Math.max(0,Math.min(1,S))*255,d[p+2]=Math.max(0,Math.min(1,C))*255}const a=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function u(p){return self.JSON.stringify(p||[])===a}function c(p,d){if(!d||u(d))return p;const g=p.data,y=g.length,m=d[0],_=d[1],E=d[2],w=d[3],v=d[4],b=d[5],T=d[6],I=d[7],S=d[8],C=d[9],D=d[10],N=d[11],P=d[12],L=d[13],x=d[14],M=d[15],k=d[16],R=d[17],B=d[18],$=d[19];let H=0,j=0,X=0,ft=0,at=0,ht=0,vt=0,ct=0,bt=0,wt=0,Rt=0,Ot=0;for(;H<y;H+=4)j=g[H]/255,X=g[H+1]/255,ft=g[H+2]/255,at=g[H+3]/255,ht=j*m+X*_+ft*E+at*w+v,vt=j*b+X*T+ft*I+at*S+C,ct=j*D+X*N+ft*P+at*L+x,bt=j*M+X*k+ft*R+at*B+$,wt=Math.max(0,ht*bt)+r*(1-bt),Rt=Math.max(0,vt*bt)+i*(1-bt),Ot=Math.max(0,ct*bt)+o*(1-bt),g[H]=Math.max(0,Math.min(1,wt))*255,g[H+1]=Math.max(0,Math.min(1,Rt))*255,g[H+2]=Math.max(0,Math.min(1,Ot))*255;return p}function h(p,d){let{mode:g="contain",upscale:y=!1,width:m,height:_,matrix:E}=d;if(E=!E||u(E)?null:E,!m&&!_)return c(p,E);if(m===null?m=_:_===null&&(_=m),g!=="force"){let L=m/p.width,x=_/p.height,M=1;if(g==="cover"?M=Math.max(L,x):g==="contain"&&(M=Math.min(L,x)),M>1&&y===!1)return c(p,E);m=p.width*M,_=p.height*M}const w=p.width,v=p.height,b=Math.round(m),T=Math.round(_),I=p.data,S=new Uint8ClampedArray(b*T*4),C=w/b,D=v/T,N=Math.ceil(C*.5),P=Math.ceil(D*.5);for(let L=0;L<T;L++)for(let x=0;x<b;x++){let M=(x+L*b)*4,k=0,R=0,B=0,$=0,H=0,j=0,X=0,ft=(L+.5)*D;for(let at=Math.floor(L*D);at<(L+1)*D;at++){let ht=Math.abs(ft-(at+.5))/P,vt=(x+.5)*C,ct=ht*ht;for(let bt=Math.floor(x*C);bt<(x+1)*C;bt++){let wt=Math.abs(vt-(bt+.5))/N,Rt=Math.sqrt(ct+wt*wt);if(Rt>=-1&&Rt<=1&&(k=2*Rt*Rt*Rt-3*Rt*Rt+1,k>0)){wt=4*(bt+at*w);let Ot=I[wt+3];X+=k*Ot,B+=k,Ot<255&&(k=k*Ot/250),$+=k*I[wt],H+=k*I[wt+1],j+=k*I[wt+2],R+=k}}}S[M]=$/R,S[M+1]=H/R,S[M+2]=j/R,S[M+3]=X/B,E&&s(M,S,E)}return{data:S,width:b,height:T}}},L3=(t,e)=>{if(t.getUint32(e+4,!1)!==1165519206)return;e+=4;const n=t.getUint16(e+=6,!1)===18761;e+=t.getUint32(e+4,n);const r=t.getUint16(e,n);e+=2;for(let i=0;i<r;i++)if(t.getUint16(e+i*12,n)===274)return t.setUint16(e+i*12+8,1,n),!0;return!1},M3=t=>{const e=new DataView(t);if(e.getUint16(0)!==65496)return null;let n=2,r,i,o=!1;for(;n<e.byteLength&&(r=e.getUint16(n,!1),i=e.getUint16(n+2,!1)+2,!(!(r>=65504&&r<=65519||r===65534)||(o||(o=L3(e,n)),n+i>e.byteLength)));)n+=i;return t.slice(0,n)},k3=t=>new Promise(e=>{const n=new FileReader;n.onload=()=>e(M3(n.result)||null),n.readAsArrayBuffer(t.slice(0,256*1024))}),P3=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,N3=(t,e)=>{const n=P3();if(n){const r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},F3=()=>Math.random().toString(36).substr(2,9),B3=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n),i=[];return{transfer:()=>{},post:(o,s,a)=>{const u=F3();i[u]=s,r.onmessage=c=>{const h=i[c.data.id];!h||(h(c.data.message),delete i[c.data.id])},r.postMessage({id:u,message:o},a)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},U3=t=>new Promise((e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=t}),$3=t=>t.reduce((e,n)=>e.then(r=>n().then(Array.prototype.concat.bind(r))),Promise.resolve([])),G3=(t,e)=>new Promise(n=>{const r={width:t.width,height:t.height},i=t.getContext("2d"),o=e.sort(F0).map(s=>()=>new Promise(a=>{Y3[s[0]](i,r,s[1],a)&&a()}));$3(o).then(()=>n(t))}),$s=(t,e)=>{t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},Gs=t=>{t.fill(),t.stroke(),t.globalAlpha=1},H3=(t,e,n)=>{const r=Us(n,e),i=Fo(n,e);return $s(t,i),t.rect(r.x,r.y,r.width,r.height),Gs(t),!0},V3=(t,e,n)=>{const r=Us(n,e),i=Fo(n,e);$s(t,i);const o=r.x,s=r.y,a=r.width,u=r.height,c=.5522848,h=a/2*c,p=u/2*c,d=o+a,g=s+u,y=o+a/2,m=s+u/2;return t.moveTo(o,m),t.bezierCurveTo(o,m-p,y-h,s,y,s),t.bezierCurveTo(y+h,s,d,m-p,d,m),t.bezierCurveTo(d,m+p,y+h,g,y,g),t.bezierCurveTo(y-h,g,o,m+p,o,m),Gs(t),!0},W3=(t,e,n,r)=>{const i=Us(n,e),o=Fo(n,e);$s(t,o);const s=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(s.crossOrigin=""),s.onload=()=>{if(n.fit==="cover"){const u=i.width/i.height,c=u>1?s.width:s.height*u,h=u>1?s.width/u:s.height,p=s.width*.5-c*.5,d=s.height*.5-h*.5;t.drawImage(s,p,d,c,h,i.x,i.y,i.width,i.height)}else if(n.fit==="contain"){const u=Math.min(i.width/s.width,i.height/s.height),c=u*s.width,h=u*s.height,p=i.x+i.width*.5-c*.5,d=i.y+i.height*.5-h*.5;t.drawImage(s,0,0,s.width,s.height,p,d,c,h)}else t.drawImage(s,0,0,s.width,s.height,i.x,i.y,i.width,i.height);Gs(t),r()},s.src=n.src},j3=(t,e,n)=>{const r=Us(n,e),i=Fo(n,e);$s(t,i);const o=on(n.fontSize,e),s=n.fontFamily||"sans-serif",a=n.fontWeight||"normal",u=n.textAlign||"left";return t.font=`${a} ${o}px ${s}`,t.textAlign=u,t.fillText(n.text,r.x,r.y),Gs(t),!0},z3=(t,e,n)=>{const r=Fo(n,e);$s(t,r),t.beginPath();const i=n.points.map(s=>({x:on(s.x,e,1,"width"),y:on(s.y,e,1,"height")}));t.moveTo(i[0].x,i[0].y);const o=i.length;for(let s=1;s<o;s++)t.lineTo(i[s].x,i[s].y);return Gs(t),!0},q3=(t,e,n)=>{const r=Us(n,e),i=Fo(n,e);$s(t,i),t.beginPath();const o={x:r.x,y:r.y},s={x:r.x+r.width,y:r.y+r.height};t.moveTo(o.x,o.y),t.lineTo(s.x,s.y);const a=N0({x:s.x-o.x,y:s.y-o.y}),u=.04*Math.min(e.width,e.height);if(n.lineDecoration.indexOf("arrow-begin")!==-1){const c=Lu(a,u),h=Mu(o,c),p=Bi(o,2,h),d=Bi(o,-2,h);t.moveTo(p.x,p.y),t.lineTo(o.x,o.y),t.lineTo(d.x,d.y)}if(n.lineDecoration.indexOf("arrow-end")!==-1){const c=Lu(a,-u),h=Mu(s,c),p=Bi(s,2,h),d=Bi(s,-2,h);t.moveTo(p.x,p.y),t.lineTo(s.x,s.y),t.lineTo(d.x,d.y)}return Gs(t),!0},Y3={rect:H3,ellipse:V3,image:W3,text:j3,line:q3,path:z3},K3=t=>{const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e},X3=(t,e,n={})=>new Promise((r,i)=>{if(!t||!r3(t))return i({status:"not an image file",file:t});const{stripImageHead:o,beforeCreateBlob:s,afterCreateBlob:a,canvasMemoryLimit:u}=n,{crop:c,size:h,filter:p,markup:d,output:g}=e,y=e.image&&e.image.orientation?Math.max(1,Math.min(8,e.image.orientation)):null,m=g&&g.quality,_=m===null?null:m/100,E=g&&g.type||null,w=g&&g.background||null,v=[];h&&(typeof h.width=="number"||typeof h.height=="number")&&v.push({type:"resize",data:h}),p&&p.length===20&&v.push({type:"filter",data:p});const b=S=>{const C=a?a(S):S;Promise.resolve(C).then(r)},T=(S,C)=>{const D=K3(S),N=d.length?G3(D,d):D;Promise.resolve(N).then(P=>{h3(P,C,s).then(L=>{if(P0(P),o)return b(L);k3(t).then(x=>{x!==null&&(L=new Blob([x,L.slice(20)],{type:L.type})),b(L)})}).catch(i)})};if(/svg/.test(t.type)&&E===null)return R3(t,c,d,{background:w}).then(S=>{r(N3(S,"image/svg+xml"))});const I=URL.createObjectURL(t);U3(I).then(S=>{URL.revokeObjectURL(I);const C=c3(S,y,c,{canvasMemoryLimit:u,background:w}),D={quality:_,type:E||t.type};if(!v.length)return T(C,D);const N=B3(D3);N.post({transforms:v,imageData:C},P=>{T(O3(P),D),N.terminate()},[C.data.buffer])}).catch(i)}),Z3=["x","y","left","top","right","bottom","width","height"],J3=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,Q3=t=>{const[e,n]=t,r=n.points?{}:Z3.reduce((i,o)=>(i[o]=J3(n[o]),i),{});return[e,{zIndex:0,...n,...r}]},tU=t=>new Promise((e,n)=>{const r=new Image;r.src=URL.createObjectURL(t);const i=()=>{const s=r.naturalWidth,a=r.naturalHeight;!(s&&a)||(URL.revokeObjectURL(r.src),clearInterval(o),e({width:s,height:a}))};r.onerror=s=>{URL.revokeObjectURL(r.src),clearInterval(o),n(s)};const o=setInterval(i,1);i()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){const r=this;setTimeout(()=>{const i=r.toDataURL(e,n).split(",")[1],o=atob(i);let s=o.length;const a=new Uint8Array(s);for(;s--;)a[s]=o.charCodeAt(s);t(new Blob([a],{type:e||"image/png"}))})}}));var _p=typeof window<"u"&&typeof window.document<"u",eU=_p&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,B0=({addFilter:t,utils:e})=>{const{Type:n,forin:r,getFileFromBlob:i,isFile:o}=e,s=["crop","resize","filter","markup","output"],a=h=>(p,d,g)=>p(d,h?h(g):g),u=h=>h.aspectRatio===null&&h.rotation===0&&h.zoom===1&&h.center&&h.center.x===.5&&h.center.y===.5&&h.flip&&h.flip.horizontal===!1&&h.flip.vertical===!1;t("SHOULD_PREPARE_OUTPUT",(h,{query:p})=>new Promise(d=>{d(!p("IS_ASYNC"))}));const c=(h,p,d)=>new Promise(g=>{if(!h("GET_ALLOW_IMAGE_TRANSFORM")||d.archived||!o(p)||!JB(p))return g(!1);tU(p).then(()=>{const y=h("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(y){const m=y(p);if(m==null)return handleRevert(!0);if(typeof m=="boolean")return g(m);if(typeof m.then=="function")return m.then(g)}g(!0)}).catch(y=>{g(!1)})});return t("DID_CREATE_ITEM",(h,{query:p,dispatch:d})=>{!p("GET_ALLOW_IMAGE_TRANSFORM")||h.extend("requestPrepare",()=>new Promise((g,y)=>{d("REQUEST_PREPARE_OUTPUT",{query:h.id,item:h,success:g,failure:y},!0)}))}),t("PREPARE_OUTPUT",(h,{query:p,item:d})=>new Promise(g=>{c(p,h,d).then(y=>{if(!y)return g(h);const m=[];p("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&m.push(()=>new Promise(C=>{C({name:p("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:h})})),p("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&m.push((C,D,N)=>new Promise(P=>{C(D,N).then(L=>P({name:p("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:L}))}));const _=p("GET_IMAGE_TRANSFORM_VARIANTS")||{};r(_,(C,D)=>{const N=a(D);m.push((P,L,x)=>new Promise(M=>{N(P,L,x).then(k=>M({name:C,file:k}))}))});const E=p("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),w=p("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),v=E===null?null:E/100,b=p("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),T=p("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||s;d.setMetadata("output",{type:b,quality:v,client:T},!0);const I=(C,D)=>new Promise((N,P)=>{const L={...D};Object.keys(L).filter(X=>X!=="exif").forEach(X=>{T.indexOf(X)===-1&&delete L[X]});const{resize:x,exif:M,output:k,crop:R,filter:B,markup:$}=L,H={image:{orientation:M?M.orientation:null},output:k&&(k.type||typeof k.quality=="number"||k.background)?{type:k.type,quality:typeof k.quality=="number"?k.quality*100:null,background:k.background||p("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:x&&(x.size.width||x.size.height)?{mode:x.mode,upscale:x.upscale,...x.size}:void 0,crop:R&&!u(R)?{...R}:void 0,markup:$&&$.length?$.map(Q3):[],filter:B};if(H.output){const X=k.type?k.type!==C.type:!1,ft=/\/jpe?g$/.test(C.type),at=k.quality!==null?ft&&w==="always":!1;if(!!!(H.size||H.crop||H.filter||X||at))return N(C)}const j={beforeCreateBlob:p("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:p("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:p("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:p("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};X3(C,H,j).then(X=>{const ft=i(X,e3(C.name,n3(X.type)));N(ft)}).catch(P)}),S=m.map(C=>C(I,h,d.getMetadata()));Promise.all(S).then(C=>{g(C.length===1&&C[0].name===null?C[0].file:C)})})})),{options:{allowImageTransform:[!0,n.BOOLEAN],imageTransformImageFilter:[null,n.FUNCTION],imageTransformOutputMimeType:[null,n.STRING],imageTransformOutputQuality:[null,n.INT],imageTransformOutputStripImageHead:[!0,n.BOOLEAN],imageTransformClientTransforms:[null,n.ARRAY],imageTransformOutputQualityMode:["always",n.STRING],imageTransformVariants:[null,n.OBJECT],imageTransformVariantsIncludeDefault:[!0,n.BOOLEAN],imageTransformVariantsDefaultName:[null,n.STRING],imageTransformVariantsIncludeOriginal:[!1,n.BOOLEAN],imageTransformVariantsOriginalName:["original_",n.STRING],imageTransformBeforeCreateBlob:[null,n.FUNCTION],imageTransformAfterCreateBlob:[null,n.FUNCTION],imageTransformCanvasMemoryLimit:[_p&&eU?4096*4096:null,n.INT],imageTransformCanvasBackgroundColor:[null,n.STRING]}}};_p&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:B0}));var nU=B0;/*!
 * FilePondPluginMediaPreview 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */var fd=t=>/^video/.test(t.type),Sa=t=>/^audio/.test(t.type),rU=class{constructor(t,e){this.mediaEl=t,this.audioElems=e,this.onplayhead=!1,this.duration=0,this.timelineWidth=this.audioElems.timeline.offsetWidth-this.audioElems.playhead.offsetWidth,this.moveplayheadFn=this.moveplayhead.bind(this),this.registerListeners()}registerListeners(){this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1),this.mediaEl.addEventListener("canplaythrough",()=>this.duration=this.mediaEl.duration,!1),this.audioElems.timeline.addEventListener("click",this.timelineClicked.bind(this),!1),this.audioElems.button.addEventListener("click",this.play.bind(this)),this.audioElems.playhead.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.addEventListener("mouseup",this.mouseUp.bind(this),!1)}play(){this.mediaEl.paused?this.mediaEl.play():this.mediaEl.pause(),this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause")}timeUpdate(){let t=this.mediaEl.currentTime/this.duration*100;this.audioElems.playhead.style.marginLeft=t+"%",this.mediaEl.currentTime===this.duration&&(this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause"))}moveplayhead(t){let e=t.clientX-this.getPosition(this.audioElems.timeline);e>=0&&e<=this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=e+"px"),e<0&&(this.audioElems.playhead.style.marginLeft="0px"),e>this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=this.timelineWidth-4+"px")}timelineClicked(t){this.moveplayhead(t),this.mediaEl.currentTime=this.duration*this.clickPercent(t)}mouseDown(){this.onplayhead=!0,window.addEventListener("mousemove",this.moveplayheadFn,!0),this.mediaEl.removeEventListener("timeupdate",this.timeUpdate.bind(this),!1)}mouseUp(t){window.removeEventListener("mousemove",this.moveplayheadFn,!0),this.onplayhead==!0&&(this.moveplayhead(t),this.mediaEl.currentTime=this.duration*this.clickPercent(t),this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1)),this.onplayhead=!1}clickPercent(t){return(t.clientX-this.getPosition(this.audioElems.timeline))/this.timelineWidth}getPosition(t){return t.getBoundingClientRect().left}},iU=t=>t.utils.createView({name:"media-preview",tag:"div",ignoreRect:!0,create:({root:e,props:n})=>{const r=e.query("GET_ITEM",{id:n.id});let i=Sa(r.file)?"audio":"video";if(e.ref.media=document.createElement(i),e.ref.media.setAttribute("controls",!0),e.element.appendChild(e.ref.media),Sa(r.file)){let o=document.createDocumentFragment();e.ref.audio=[],e.ref.audio.container=document.createElement("div"),e.ref.audio.button=document.createElement("span"),e.ref.audio.timeline=document.createElement("div"),e.ref.audio.playhead=document.createElement("div"),e.ref.audio.container.className="audioplayer",e.ref.audio.button.className="playpausebtn play",e.ref.audio.timeline.className="timeline",e.ref.audio.playhead.className="playhead",e.ref.audio.timeline.appendChild(e.ref.audio.playhead),e.ref.audio.container.appendChild(e.ref.audio.button),e.ref.audio.container.appendChild(e.ref.audio.timeline),o.appendChild(e.ref.audio.container),e.element.appendChild(o)}},write:t.utils.createRoute({DID_MEDIA_PREVIEW_LOAD:({root:e,props:n})=>{const r=e.query("GET_ITEM",{id:n.id});if(!r)return;let i=window.URL||window.webkitURL,o=new Blob([r.file],{type:r.file.type});e.ref.media.type=r.file.type,e.ref.media.src=r.file.mock&&r.file.url||i.createObjectURL(o),Sa(r.file)&&new rU(e.ref.media,e.ref.audio),e.ref.media.addEventListener("loadeddata",()=>{let s=75;if(fd(r.file)){let a=e.ref.media.offsetWidth,u=e.ref.media.videoWidth/a;s=e.ref.media.videoHeight/u}e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:s})},!1)}})}),oU=t=>{const e=({root:r,props:i})=>{const{id:o}=i;!r.query("GET_ITEM",o)||r.dispatch("DID_MEDIA_PREVIEW_LOAD",{id:o})},n=({root:r,props:i})=>{const o=iU(t);r.ref.media=r.appendChildView(r.createChildView(o,{id:i.id}))};return t.utils.createView({name:"media-preview-wrapper",create:n,write:t.utils.createRoute({DID_MEDIA_PREVIEW_CONTAINER_CREATE:e})})},U0=t=>{const{addFilter:e,utils:n}=t,{Type:r,createRoute:i}=n,o=oU(t);return e("CREATE_VIEW",s=>{const{is:a,view:u,query:c}=s;if(!a("file"))return;const h=({root:p,props:d})=>{const{id:g}=d,y=c("GET_ITEM",g),m=c("GET_ALLOW_VIDEO_PREVIEW"),_=c("GET_ALLOW_AUDIO_PREVIEW");!y||y.archived||(!fd(y.file)||!m)&&(!Sa(y.file)||!_)||(p.ref.mediaPreview=u.appendChildView(u.createChildView(o,{id:g})),p.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:g}))};u.registerWriter(i({DID_LOAD_ITEM:h},({root:p,props:d})=>{const{id:g}=d,y=c("GET_ITEM",g),m=p.query("GET_ALLOW_VIDEO_PREVIEW"),_=p.query("GET_ALLOW_AUDIO_PREVIEW");!y||(!fd(y.file)||!m)&&(!Sa(y.file)||!_)||p.rect.element.hidden}))}),{options:{allowVideoPreview:[!0,r.BOOLEAN],allowAudioPreview:[!0,r.BOOLEAN]}}},sU=typeof window<"u"&&typeof window.document<"u";sU&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:U0}));Ir(BF);Ir($F);Ir(HF);Ir(XF);Ir(qB);Ir(ZB);Ir(nU);Ir(U0);window.FilePond=Mb;var aU=t=>{t.data("fileUploadFormComponent",({acceptedFileTypes:e,canDownload:n,canOpen:r,canPreview:i,canReorder:o,deleteUploadedFileUsing:s,getUploadedFileUrlsUsing:a,imageCropAspectRatio:u,imagePreviewHeight:c,imageResizeMode:h,imageResizeTargetHeight:p,imageResizeTargetWidth:d,isAvatar:g,loadingIndicatorPosition:y,panelAspectRatio:m,panelLayout:_,placeholder:E,maxSize:w,minSize:v,removeUploadedFileButtonPosition:b,removeUploadedFileUsing:T,reorderUploadedFilesUsing:I,shouldAppendFiles:S,shouldTransformImage:C,state:D,uploadButtonPosition:N,uploadProgressIndicatorPosition:P,uploadUsing:L})=>({fileKeyIndex:{},pond:null,shouldUpdateState:!0,state:D,lastState:null,uploadedFileUrlIndex:{},init:async function(){this.pond=wa(this.$refs.input,{acceptedFileTypes:e,allowPaste:!1,allowReorder:o,allowImagePreview:i,allowVideoPreview:i,allowAudioPreview:i,allowImageTransform:C,credits:!1,files:await this.getFiles(),imageCropAspectRatio:u,imagePreviewHeight:c,imageResizeTargetHeight:p,imageResizeTargetWidth:d,imageResizeMode:h,itemInsertLocation:S?"after":"before",...E&&{labelIdle:E},maxFileSize:w,minFileSize:v,styleButtonProcessItemPosition:N,styleButtonRemoveItemPosition:b,styleLoadIndicatorPosition:y,stylePanelAspectRatio:m,stylePanelLayout:_,styleProgressIndicatorPosition:P,server:{load:async(x,M)=>{let R=await(await fetch(x)).blob();M(R)},process:(x,M,k,R,B,$)=>{this.shouldUpdateState=!1;let H=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,j=>(j^crypto.getRandomValues(new Uint8Array(1))[0]&15>>j/4).toString(16));L(H,M,j=>{this.shouldUpdateState=!0,R(j)},B,$)},remove:async(x,M)=>{var R;let k=(R=this.uploadedFileUrlIndex[x])!=null?R:null;!k||(await s(k),M())},revert:async(x,M)=>{await T(x),M()}}}),this.$watch("state",async()=>{!this.shouldUpdateState||Object.values(this.state).filter(x=>x.startsWith("livewire-file:")).length||JSON.stringify(this.state)!==this.lastState&&(this.lastState=JSON.stringify(this.state),this.pond.files=await this.getFiles())}),this.pond.on("reorderfiles",async x=>{const M=x.map(k=>{var R;return k.source instanceof File?k.serverId:(R=this.uploadedFileUrlIndex[k.source])!=null?R:null}).filter(k=>k);await I(S?M:M.reverse())}),this.pond.on("initfile",async x=>{!n||g||this.insertDownloadLink(x)}),this.pond.on("initfile",async x=>{!r||g||this.insertOpenLink(x)}),this.pond.on("processfilestart",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfileprogress",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfile",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfiles",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfileabort",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfilerevert",async()=>{this.dispatchFormEvent("file-upload-finished")})},dispatchFormEvent:function(x){var M;(M=this.$el.closest("form"))==null||M.dispatchEvent(new CustomEvent(x,{composed:!0,cancelable:!0}))},getUploadedFileUrls:async function(){const x=await a();this.fileKeyIndex=x!=null?x:{},this.uploadedFileUrlIndex=Object.entries(this.fileKeyIndex).filter(M=>M).reduce((M,[k,R])=>(M[R]=k,M),{})},getFiles:async function(){await this.getUploadedFileUrls();let x=[];for(const M of Object.values(this.fileKeyIndex))!M||x.push({source:M,options:{type:"local"}});return S?x:x.reverse()},insertDownloadLink:function(x){if(x.origin!==Du.LOCAL)return;const M=this.getDownloadLink(x);!M||document.getElementById(`filepond--item-${x.id}`).querySelector(".filepond--file-info-main").prepend(M)},insertOpenLink:function(x){if(x.origin!==Du.LOCAL)return;const M=this.getOpenLink(x);!M||document.getElementById(`filepond--item-${x.id}`).querySelector(".filepond--file-info-main").prepend(M)},getDownloadLink:function(x){let M=x.source;if(!M)return;const k=document.createElement("a");return k.className="filepond--download-icon",k.href=M,k.download=x.file.name,k},getOpenLink:function(x){let M=x.source;if(!M)return;const k=document.createElement("a");return k.className="filepond--open-icon",k.href=M,k.target="_blank",k}}))},lU=t=>{t.data("keyValueFormComponent",({state:e})=>({state:e,rows:[],shouldUpdateRows:!0,init:function(){this.updateRows(),this.rows.length<=0&&this.addRow(),this.$watch("state",()=>{if(!this.shouldUpdateRows){this.shouldUpdateRows=!0;return}this.updateRows()})},addRow:function(){this.rows.push({key:"",value:""}),this.updateState()},deleteRow:function(n){this.rows.splice(n,1),this.rows.length<=0&&this.addRow(),this.updateState(),this.shouldUpdateRows=!0},updateRows:function(){var r;let n=[];for(let[i,o]of Object.entries((r=this.state)!=null?r:{}))n.push({key:i,value:o});this.rows=n},updateState:function(){let n={};this.rows.forEach(r=>{r.key===""||r.key===null||(n[r.key]=r.value)}),this.shouldUpdateRows=!1,this.state=n}}))},Ds=class{constructor(t,e){this.file=t,this.directory=e,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,e){return uU(t,e)}static from(t){const e=[];for(const n of t)if(n instanceof File)e.push(new Ds(n));else if(n instanceof Ds)e.push(n);else throw new Error("Unexpected type");return e}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}saving(t){if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var e,n,r;if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=(e=t==null?void 0:t.id)!==null&&e!==void 0?e:null,this.href=(n=t==null?void 0:t.href)!==null&&n!==void 0?n:null,this.name=(r=t==null?void 0:t.name)!==null&&r!==void 0?r:null}isPending(){return this.state==="pending"}isSaving(){return this.state==="saving"}isSaved(){return this.state==="saved"}};function uU(t,e){return e&&dU(t)?G0("",pU(t)):Promise.resolve($0(Array.from(t.files||[])).map(n=>new Ds(n)))}function cU(t){return t.name.startsWith(".")}function $0(t){return Array.from(t).filter(e=>!cU(e))}function fU(t){return new Promise(function(e,n){t.file(e,n)})}function hU(t){return new Promise(function(e,n){const r=[],i=t.createReader(),o=()=>{i.readEntries(s=>{s.length>0?(r.push(...s),o()):e(r)},n)};o()})}async function G0(t,e){const n=[];for(const r of $0(e))if(r.isDirectory)n.push(...await G0(r.fullPath,await hU(r)));else{const i=await fU(r);n.push(new Ds(i,t))}return n}function dU(t){return t.items&&Array.from(t.items).some(e=>{const n=e.webkitGetAsEntry&&e.webkitGetAsEntry();return n&&n.isDirectory})}function pU(t){return Array.from(t.items).map(e=>e.webkitGetAsEntry()).filter(e=>e!=null)}var Pa=class extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",jl),this.addEventListener("dragover",jl),this.addEventListener("dragleave",Vy),this.addEventListener("drop",Wy),this.addEventListener("paste",jy),this.addEventListener("change",zy)}disconnectedCallback(){this.removeEventListener("dragenter",jl),this.removeEventListener("dragover",jl),this.removeEventListener("dragleave",Vy),this.removeEventListener("drop",Wy),this.removeEventListener("paste",jy),this.removeEventListener("change",zy)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){const e=t instanceof DataTransfer?await Ds.traverse(t,this.directory):Ds.from(t);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:e}}))&&e.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:e}}))}};function H0(t){return Array.from(t.types).indexOf("Files")>=0}var dh=null;function jl(t){const e=t.currentTarget;dh&&clearTimeout(dh),dh=window.setTimeout(()=>e.removeAttribute("hover"),200);const n=t.dataTransfer;!n||!H0(n)||(n.dropEffect="copy",e.setAttribute("hover",""),t.stopPropagation(),t.preventDefault())}function Vy(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function Wy(t){const e=t.currentTarget;if(!(e instanceof Pa))return;e.removeAttribute("hover");const n=t.dataTransfer;!n||!H0(n)||(e.attach(n),t.stopPropagation(),t.preventDefault())}var gU=/^image\/(gif|png|jpeg)$/;function mU(t){for(const e of t)if(gU.test(e.type))return e.getAsFile();return null}function jy(t){if(!t.clipboardData||!t.clipboardData.items)return;const e=t.currentTarget;if(!(e instanceof Pa))return;const n=mU(t.clipboardData.items);if(!n)return;const r=[n];e.attach(r),t.preventDefault()}function zy(t){const e=t.currentTarget;if(!(e instanceof Pa))return;const n=t.target;if(!(n instanceof HTMLInputElement))return;const r=e.getAttribute("input");if(r&&n.id!==r)return;const i=n.files;!i||i.length===0||(e.attach(i),n.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=Pa,window.customElements.define("file-attachment",Pa));var vU=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function V0(t){const e=[];for(const n of t.querySelectorAll(vU.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")===t&&e.push(n);return e}function yU(t){return function(e){(e.key===" "||e.key==="Enter")&&(e.preventDefault(),t(e))}}var wn=new WeakMap,Kn=class extends HTMLElement{constructor(){super();const t=()=>{const e=wn.get(this);!e||u_(this,e)};this.addEventListener("keydown",yU(t)),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const t=wn.get(this);!t||u_(this,t)}},qy=class extends Kn{constructor(){super();const t=parseInt(this.getAttribute("level")||"3",10);if(t<1||t>6)return;const e=`${"#".repeat(t)} `;wn.set(this,{prefix:e})}};window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=qy,window.customElements.define("md-header",qy));var Yy=class extends Kn{constructor(){super(),wn.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=Yy,window.customElements.define("md-bold",Yy));var Ky=class extends Kn{constructor(){super(),wn.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=Ky,window.customElements.define("md-italic",Ky));var Xy=class extends Kn{constructor(){super(),wn.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","."),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=Xy,window.customElements.define("md-quote",Xy));var Zy=class extends Kn{constructor(){super(),wn.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","e")}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=Zy,window.customElements.define("md-code",Zy));var Jy=class extends Kn{constructor(){super(),wn.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=Jy,window.customElements.define("md-link",Jy));var Qy=class extends Kn{constructor(){super(),wn.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=Qy,window.customElements.define("md-image",Qy));var t_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","8"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=t_,window.customElements.define("md-unordered-list",t_));var e_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","7"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=e_,window.customElements.define("md-ordered-list",e_));var n_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=n_,window.customElements.define("md-task-list",n_));var r_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=r_,window.customElements.define("md-mention",r_));var i_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=i_,window.customElements.define("md-ref",i_));var o_=class extends Kn{constructor(){super(),wn.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=o_,window.customElements.define("md-strikethrough",o_));var s_=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",hd=class extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",a_);const t=wU.bind(null,this);this.field&&(this.field.addEventListener("keydown",t),ph.set(this,t)),this.setAttribute("tabindex","0"),this.addEventListener("focus",_U,{once:!0})}disconnectedCallback(){const t=ph.get(this);t&&this.field&&(this.field.removeEventListener("keydown",t),ph.delete(this)),this.removeEventListener("keydown",a_)}get field(){const t=this.getAttribute("for");if(!t)return null;const e="getRootNode"in this?this.getRootNode():document;let n;return(e instanceof Document||e instanceof ShadowRoot)&&(n=e.getElementById(t)),n instanceof HTMLTextAreaElement?n:null}};function _U({target:t}){if(!(t instanceof Element))return;t.removeAttribute("tabindex");let e="0";for(const n of V0(t))n.setAttribute("tabindex",e),e==="0"&&(n.focus(),e="-1")}function a_(t){const e=t.key;if(e!=="ArrowRight"&&e!=="ArrowLeft"&&e!=="Home"&&e!=="End")return;const n=t.currentTarget;if(!(n instanceof HTMLElement))return;const r=V0(n),i=r.indexOf(t.target),o=r.length;if(i===-1)return;let s=0;e==="ArrowLeft"&&(s=i-1),e==="ArrowRight"&&(s=i+1),e==="End"&&(s=o-1),s<0&&(s=o-1),s>o-1&&(s=0);for(let a=0;a<o;a+=1)r[a].setAttribute("tabindex",a===s?"0":"-1");t.preventDefault(),r[s].focus()}var ph=new WeakMap;function EU(t){return t.hasAttribute("hotkey-requires-shift")&&t.getAttribute("hotkey-requires-shift")!=="false"}function bU(t,e,n){for(const r of t.querySelectorAll("[hotkey]"))if(r.getAttribute("hotkey")===e&&(!EU(r)||n))return r;return null}function wU(t,e){if(e.metaKey&&s_==="Meta"||e.ctrlKey&&s_==="Control"){const n=e.shiftKey?e.key.toUpperCase():e.key,r=bU(t,n,e.shiftKey);r&&(r.click(),e.preventDefault())}}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=hd,window.customElements.define("markdown-toolbar",hd));function dd(t){return t.trim().split(`
`).length>1}function l_(t,e){return Array(e+1).join(t)}function AU(t,e){let n=e;for(;t[n]&&t[n-1]!=null&&!t[n-1].match(/\s/);)n--;return n}function W0(t,e,n){let r=e;const i=n?/\n/:/\s/;for(;t[r]&&!t[r].match(i);)r++;return r}var po=null;function TU(t,{text:e,selectionStart:n,selectionEnd:r}){const i=t.selectionStart,o=t.value.slice(0,i),s=t.value.slice(t.selectionEnd);if(po===null||po===!0){t.contentEditable="true";try{po=document.execCommand("insertText",!1,e)}catch{po=!1}t.contentEditable="false"}if(po&&!t.value.slice(0,t.selectionStart).endsWith(e)&&(po=!1),!po){try{document.execCommand("ms-beginUndoUnit")}catch{}t.value=o+e+s;try{document.execCommand("ms-endUndoUnit")}catch{}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}n!=null&&r!=null?t.setSelectionRange(n,r):t.setSelectionRange(i,t.selectionEnd)}function SU(t,e){const n=t.value.slice(t.selectionStart,t.selectionEnd);let r;e.orderedList?r=RU(t):e.multiline&&dd(n)?r=xU(t,e):r=CU(t,e),TU(t,r)}function IU(t,e,n,r=!1){if(t.selectionStart===t.selectionEnd)t.selectionStart=AU(t.value,t.selectionStart),t.selectionEnd=W0(t.value,t.selectionEnd,r);else{const i=t.selectionStart-e.length,o=t.selectionEnd+n.length,s=t.value.slice(i,t.selectionStart)===e,a=t.value.slice(t.selectionEnd,o)===n;s&&a&&(t.selectionStart=i,t.selectionEnd=o)}return t.value.slice(t.selectionStart,t.selectionEnd)}function Ep(t){const e=t.value.slice(0,t.selectionStart),n=t.value.slice(t.selectionEnd),r=e.match(/\n*$/),i=n.match(/^\n*/),o=r?r[0].length:0,s=i?i[0].length:0;let a,u;return e.match(/\S/)&&o<2&&(a=l_(`
`,2-o)),n.match(/\S/)&&s<2&&(u=l_(`
`,2-s)),a==null&&(a=""),u==null&&(u=""),{newlinesToAppend:a,newlinesToPrepend:u}}function CU(t,e){let n,r;const{prefix:i,suffix:o,blockPrefix:s,blockSuffix:a,replaceNext:u,prefixSpace:c,scanFor:h,surroundWithNewlines:p}=e,d=t.selectionStart,g=t.selectionEnd;let y=t.value.slice(t.selectionStart,t.selectionEnd),m=dd(y)&&s.length>0?`${s}
`:i,_=dd(y)&&a.length>0?`
${a}`:o;if(c){const b=t.value[t.selectionStart-1];t.selectionStart!==0&&b!=null&&!b.match(/\s/)&&(m=` ${m}`)}y=IU(t,m,_,e.multiline);let E=t.selectionStart,w=t.selectionEnd;const v=u.length>0&&_.indexOf(u)>-1&&y.length>0;if(p){const b=Ep(t);n=b.newlinesToAppend,r=b.newlinesToPrepend,m=n+i,_+=r}if(y.startsWith(m)&&y.endsWith(_)){const b=y.slice(m.length,y.length-_.length);if(d===g){let T=d-m.length;T=Math.max(T,E),T=Math.min(T,E+b.length),E=w=T}else w=E+b.length;return{text:b,selectionStart:E,selectionEnd:w}}else if(v)if(h.length>0&&y.match(h)){_=_.replace(u,y);const b=m+_;return E=w=E+m.length,{text:b,selectionStart:E,selectionEnd:w}}else{const b=m+y+_;return E=E+m.length+y.length+_.indexOf(u),w=E+u.length,{text:b,selectionStart:E,selectionEnd:w}}else{let b=m+y+_;E=d+m.length,w=g+m.length;const T=y.match(/^\s*|\s*$/g);if(e.trimFirst&&T){const I=T[0]||"",S=T[1]||"";b=I+m+y.trim()+_+S,E+=I.length,w-=S.length}return{text:b,selectionStart:E,selectionEnd:w}}}function xU(t,e){const{prefix:n,suffix:r,surroundWithNewlines:i}=e;let o=t.value.slice(t.selectionStart,t.selectionEnd),s=t.selectionStart,a=t.selectionEnd;const u=o.split(`
`);if(u.every(h=>h.startsWith(n)&&h.endsWith(r)))o=u.map(h=>h.slice(n.length,h.length-r.length)).join(`
`),a=s+o.length;else if(o=u.map(h=>n+h+r).join(`
`),i){const{newlinesToAppend:h,newlinesToPrepend:p}=Ep(t);s+=h.length,a=s+o.length,o=h+o+p}return{text:o,selectionStart:s,selectionEnd:a}}function RU(t){const e=/^\d+\.\s+/,n=t.selectionStart===t.selectionEnd;let r,i,o=t.value.slice(t.selectionStart,t.selectionEnd),s=o,a=o.split(`
`),u,c;if(n){const d=t.value.slice(0,t.selectionStart).split(/\n/);u=t.selectionStart-d[d.length-1].length,c=W0(t.value,t.selectionStart,!0),s=t.value.slice(u,c)}const h=s.split(`
`);if(h.every(d=>e.test(d))){if(a=h.map(d=>d.replace(e,"")),o=a.join(`
`),n&&u&&c){const d=h[0].length-a[0].length;i=r=t.selectionStart-d,t.selectionStart=u,t.selectionEnd=c}}else{a=OU(a),o=a.join(`
`);const{newlinesToAppend:d,newlinesToPrepend:g}=Ep(t);i=t.selectionStart+d.length,r=i+o.length,n&&(i=r),o=d+o+g}return{text:o,selectionStart:i,selectionEnd:r}}function OU(t){let e,n,r;const i=[];for(r=e=0,n=t.length;e<n;r=++e){const o=t[r];i.push(`${r+1}. ${o}`)}return i}function u_(t,e){const n=t.closest("markdown-toolbar");if(!(n instanceof hd))return;const i=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1}),e),o=n.field;o&&(o.focus(),SU(o,i))}/*! @license DOMPurify 2.3.10 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.10/LICENSE */function Pi(t){return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(t)}function pd(t,e){return pd=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pd(t,e)}function DU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function au(t,e,n){return DU()?au=Reflect.construct:au=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),c=new u;return s&&pd(c,s.prototype),c},au.apply(null,arguments)}function Er(t){return LU(t)||MU(t)||kU(t)||PU()}function LU(t){if(Array.isArray(t))return gd(t)}function MU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kU(t,e){if(!!t){if(typeof t=="string")return gd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gd(t,e)}}function gd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NU=Object.hasOwnProperty,c_=Object.setPrototypeOf,FU=Object.isFrozen,BU=Object.getPrototypeOf,UU=Object.getOwnPropertyDescriptor,An=Object.freeze,Vr=Object.seal,$U=Object.create,j0=typeof Reflect<"u"&&Reflect,ku=j0.apply,md=j0.construct;ku||(ku=function(e,n,r){return e.apply(n,r)});An||(An=function(e){return e});Vr||(Vr=function(e){return e});md||(md=function(e,n){return au(e,Er(n))});var GU=Cr(Array.prototype.forEach),f_=Cr(Array.prototype.pop),da=Cr(Array.prototype.push),lu=Cr(String.prototype.toLowerCase),HU=Cr(String.prototype.match),Oi=Cr(String.prototype.replace),VU=Cr(String.prototype.indexOf),WU=Cr(String.prototype.trim),vn=Cr(RegExp.prototype.test),gh=jU(TypeError);function Cr(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ku(t,e,r)}}function jU(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return md(t,n)}}function Yt(t,e,n){n=n||lu,c_&&c_(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var o=n(i);o!==i&&(FU(e)||(e[r]=o),i=o)}t[i]=!0}return t}function go(t){var e=$U(null),n;for(n in t)ku(NU,t,[n])&&(e[n]=t[n]);return e}function zl(t,e){for(;t!==null;){var n=UU(t,e);if(n){if(n.get)return Cr(n.get);if(typeof n.value=="function")return Cr(n.value)}t=BU(t)}function r(i){return console.warn("fallback value for",i),null}return r}var h_=An(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mh=An(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vh=An(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zU=An(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yh=An(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qU=An(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),d_=An(["#text"]),p_=An(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_h=An(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),g_=An(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ql=An(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YU=Vr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KU=Vr(/<%[\w\W]*|[\w\W]*%>/gm),XU=Vr(/^data-[\-\w.\u00B7-\uFFFF]/),ZU=Vr(/^aria-[\-\w]+$/),JU=Vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),QU=Vr(/^(?:\w+script|data):/i),t$=Vr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),e$=Vr(/^html$/i),n$=function(){return typeof window>"u"?null:window},r$=function(e,n){if(Pi(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function z0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n$(),e=function(q){return z0(q)};if(e.version="2.3.10",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,u=t.NodeFilter,c=t.NamedNodeMap,h=c===void 0?t.NamedNodeMap||t.MozNamedAttrMap:c,p=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,y=a.prototype,m=zl(y,"cloneNode"),_=zl(y,"nextSibling"),E=zl(y,"childNodes"),w=zl(y,"parentNode");if(typeof o=="function"){var v=r.createElement("template");v.content&&v.content.ownerDocument&&(r=v.content.ownerDocument)}var b=r$(g,n),T=b?b.createHTML(""):"",I=r,S=I.implementation,C=I.createNodeIterator,D=I.createDocumentFragment,N=I.getElementsByTagName,P=n.importNode,L={};try{L=go(r).documentMode?r.documentMode:{}}catch{}var x={};e.isSupported=typeof w=="function"&&S&&typeof S.createHTMLDocument<"u"&&L!==9;var M=YU,k=KU,R=XU,B=ZU,$=QU,H=t$,j=JU,X=null,ft=Yt({},[].concat(Er(h_),Er(mh),Er(vh),Er(yh),Er(d_))),at=null,ht=Yt({},[].concat(Er(p_),Er(_h),Er(g_),Er(ql))),vt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ct=null,bt=null,wt=!0,Rt=!0,Ot=!1,ee=!1,ae=!1,an=!1,me=!1,qe=!1,Yr=!1,ln=!1,qi=!0,Yi=!0,Sn=!1,Re={},un=null,Or=Yt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Uo=null,Dr=Yt({},["audio","video","img","source","image","track"]),Ki=null,Lr=Yt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xn="http://www.w3.org/1998/Math/MathML",dr="http://www.w3.org/2000/svg",In="http://www.w3.org/1999/xhtml",Zn=In,Jn=!1,Cn,Kr=["application/xhtml+xml","text/html"],Xi="text/html",ve,Nn=null,$o=r.createElement("form"),Go=function(q){return q instanceof RegExp||q instanceof Function},Zi=function(q){Nn&&Nn===q||((!q||Pi(q)!=="object")&&(q={}),q=go(q),Cn=Kr.indexOf(q.PARSER_MEDIA_TYPE)===-1?Cn=Xi:Cn=q.PARSER_MEDIA_TYPE,ve=Cn==="application/xhtml+xml"?function(ot){return ot}:lu,X="ALLOWED_TAGS"in q?Yt({},q.ALLOWED_TAGS,ve):ft,at="ALLOWED_ATTR"in q?Yt({},q.ALLOWED_ATTR,ve):ht,Ki="ADD_URI_SAFE_ATTR"in q?Yt(go(Lr),q.ADD_URI_SAFE_ATTR,ve):Lr,Uo="ADD_DATA_URI_TAGS"in q?Yt(go(Dr),q.ADD_DATA_URI_TAGS,ve):Dr,un="FORBID_CONTENTS"in q?Yt({},q.FORBID_CONTENTS,ve):Or,ct="FORBID_TAGS"in q?Yt({},q.FORBID_TAGS,ve):{},bt="FORBID_ATTR"in q?Yt({},q.FORBID_ATTR,ve):{},Re="USE_PROFILES"in q?q.USE_PROFILES:!1,wt=q.ALLOW_ARIA_ATTR!==!1,Rt=q.ALLOW_DATA_ATTR!==!1,Ot=q.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=q.SAFE_FOR_TEMPLATES||!1,ae=q.WHOLE_DOCUMENT||!1,qe=q.RETURN_DOM||!1,Yr=q.RETURN_DOM_FRAGMENT||!1,ln=q.RETURN_TRUSTED_TYPE||!1,me=q.FORCE_BODY||!1,qi=q.SANITIZE_DOM!==!1,Yi=q.KEEP_CONTENT!==!1,Sn=q.IN_PLACE||!1,j=q.ALLOWED_URI_REGEXP||j,Zn=q.NAMESPACE||In,q.CUSTOM_ELEMENT_HANDLING&&Go(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vt.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&Go(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vt.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vt.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Rt=!1),Yr&&(qe=!0),Re&&(X=Yt({},Er(d_)),at=[],Re.html===!0&&(Yt(X,h_),Yt(at,p_)),Re.svg===!0&&(Yt(X,mh),Yt(at,_h),Yt(at,ql)),Re.svgFilters===!0&&(Yt(X,vh),Yt(at,_h),Yt(at,ql)),Re.mathMl===!0&&(Yt(X,yh),Yt(at,g_),Yt(at,ql))),q.ADD_TAGS&&(X===ft&&(X=go(X)),Yt(X,q.ADD_TAGS,ve)),q.ADD_ATTR&&(at===ht&&(at=go(at)),Yt(at,q.ADD_ATTR,ve)),q.ADD_URI_SAFE_ATTR&&Yt(Ki,q.ADD_URI_SAFE_ATTR,ve),q.FORBID_CONTENTS&&(un===Or&&(un=go(un)),Yt(un,q.FORBID_CONTENTS,ve)),Yi&&(X["#text"]=!0),ae&&Yt(X,["html","head","body"]),X.table&&(Yt(X,["tbody"]),delete ct.tbody),An&&An(q),Nn=q)},Ji=Yt({},["mi","mo","mn","ms","mtext"]),Qi=Yt({},["foreignobject","desc","title","annotation-xml"]),Mr=Yt({},["title","style","font","a","script"]),J=Yt({},mh);Yt(J,vh),Yt(J,zU);var z=Yt({},yh);Yt(z,qU);var Q=function(q){var ot=w(q);(!ot||!ot.tagName)&&(ot={namespaceURI:In,tagName:"template"});var pt=lu(q.tagName),zt=lu(ot.tagName);return q.namespaceURI===dr?ot.namespaceURI===In?pt==="svg":ot.namespaceURI===Xn?pt==="svg"&&(zt==="annotation-xml"||Ji[zt]):Boolean(J[pt]):q.namespaceURI===Xn?ot.namespaceURI===In?pt==="math":ot.namespaceURI===dr?pt==="math"&&Qi[zt]:Boolean(z[pt]):q.namespaceURI===In?ot.namespaceURI===dr&&!Qi[zt]||ot.namespaceURI===Xn&&!Ji[zt]?!1:!z[pt]&&(Mr[pt]||!J[pt]):!1},et=function(q){da(e.removed,{element:q});try{q.parentNode.removeChild(q)}catch{try{q.outerHTML=T}catch{q.remove()}}},lt=function(q,ot){try{da(e.removed,{attribute:ot.getAttributeNode(q),from:ot})}catch{da(e.removed,{attribute:null,from:ot})}if(ot.removeAttribute(q),q==="is"&&!at[q])if(qe||Yr)try{et(ot)}catch{}else try{ot.setAttribute(q,"")}catch{}},ut=function(q){var ot,pt;if(me)q="<remove></remove>"+q;else{var zt=HU(q,/^[\r\n\t ]+/);pt=zt&&zt[0]}Cn==="application/xhtml+xml"&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");var Oe=b?b.createHTML(q):q;if(Zn===In)try{ot=new d().parseFromString(Oe,Cn)}catch{}if(!ot||!ot.documentElement){ot=S.createDocument(Zn,"template",null);try{ot.documentElement.innerHTML=Jn?"":Oe}catch{}}var Pe=ot.body||ot.documentElement;return q&&pt&&Pe.insertBefore(r.createTextNode(pt),Pe.childNodes[0]||null),Zn===In?N.call(ot,ae?"html":"body")[0]:ae?ot.documentElement:Pe},gt=function(q){return C.call(q.ownerDocument||q,q,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},yt=function(q){return q instanceof p&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof h)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function")},Et=function(q){return Pi(s)==="object"?q instanceof s:q&&Pi(q)==="object"&&typeof q.nodeType=="number"&&typeof q.nodeName=="string"},At=function(q,ot,pt){!x[q]||GU(x[q],function(zt){zt.call(e,ot,pt,Nn)})},Ct=function(q){var ot;if(At("beforeSanitizeElements",q,null),yt(q)||vn(/[\u0080-\uFFFF]/,q.nodeName))return et(q),!0;var pt=ve(q.nodeName);if(At("uponSanitizeElement",q,{tagName:pt,allowedTags:X}),q.hasChildNodes()&&!Et(q.firstElementChild)&&(!Et(q.content)||!Et(q.content.firstElementChild))&&vn(/<[/\w]/g,q.innerHTML)&&vn(/<[/\w]/g,q.textContent)||pt==="select"&&vn(/<template/i,q.innerHTML))return et(q),!0;if(!X[pt]||ct[pt]){if(!ct[pt]&&Kt(pt)&&(vt.tagNameCheck instanceof RegExp&&vn(vt.tagNameCheck,pt)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(pt)))return!1;if(Yi&&!un[pt]){var zt=w(q)||q.parentNode,Oe=E(q)||q.childNodes;if(Oe&&zt)for(var Pe=Oe.length,we=Pe-1;we>=0;--we)zt.insertBefore(m(Oe[we],!0),_(q))}return et(q),!0}return q instanceof a&&!Q(q)||(pt==="noscript"||pt==="noembed")&&vn(/<\/no(script|embed)/i,q.innerHTML)?(et(q),!0):(ee&&q.nodeType===3&&(ot=q.textContent,ot=Oi(ot,M," "),ot=Oi(ot,k," "),q.textContent!==ot&&(da(e.removed,{element:q.cloneNode()}),q.textContent=ot)),At("afterSanitizeElements",q,null),!1)},Ut=function(q,ot,pt){if(qi&&(ot==="id"||ot==="name")&&(pt in r||pt in $o))return!1;if(!(Rt&&!bt[ot]&&vn(R,ot))){if(!(wt&&vn(B,ot))){if(!at[ot]||bt[ot]){if(!(Kt(q)&&(vt.tagNameCheck instanceof RegExp&&vn(vt.tagNameCheck,q)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(q))&&(vt.attributeNameCheck instanceof RegExp&&vn(vt.attributeNameCheck,ot)||vt.attributeNameCheck instanceof Function&&vt.attributeNameCheck(ot))||ot==="is"&&vt.allowCustomizedBuiltInElements&&(vt.tagNameCheck instanceof RegExp&&vn(vt.tagNameCheck,pt)||vt.tagNameCheck instanceof Function&&vt.tagNameCheck(pt))))return!1}else if(!Ki[ot]){if(!vn(j,Oi(pt,H,""))){if(!((ot==="src"||ot==="xlink:href"||ot==="href")&&q!=="script"&&VU(pt,"data:")===0&&Uo[q])){if(!(Ot&&!vn($,Oi(pt,H,"")))){if(pt)return!1}}}}}}return!0},Kt=function(q){return q.indexOf("-")>0},le=function(q){var ot,pt,zt,Oe;At("beforeSanitizeAttributes",q,null);var Pe=q.attributes;if(!!Pe){var we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:at};for(Oe=Pe.length;Oe--;){ot=Pe[Oe];var He=ot,de=He.name,tn=He.namespaceURI;if(pt=de==="value"?ot.value:WU(ot.value),zt=ve(de),we.attrName=zt,we.attrValue=pt,we.keepAttr=!0,we.forceKeepAttr=void 0,At("uponSanitizeAttribute",q,we),pt=we.attrValue,!we.forceKeepAttr&&(lt(de,q),!!we.keepAttr)){if(vn(/\/>/i,pt)){lt(de,q);continue}ee&&(pt=Oi(pt,M," "),pt=Oi(pt,k," "));var to=ve(q.nodeName);if(!!Ut(to,zt,pt)){if(b&&Pi(g)==="object"&&typeof g.getAttributeType=="function"&&!tn)switch(g.getAttributeType(to,zt)){case"TrustedHTML":pt=b.createHTML(pt);break;case"TrustedScriptURL":pt=b.createScriptURL(pt);break}try{tn?q.setAttributeNS(tn,de,pt):q.setAttribute(de,pt),f_(e.removed)}catch{}}}}At("afterSanitizeAttributes",q,null)}},be=function _t(q){var ot,pt=gt(q);for(At("beforeSanitizeShadowDOM",q,null);ot=pt.nextNode();)At("uponSanitizeShadowNode",ot,null),!Ct(ot)&&(ot.content instanceof i&&_t(ot.content),le(ot));At("afterSanitizeShadowDOM",q,null)};return e.sanitize=function(_t,q){var ot,pt,zt,Oe,Pe;if(Jn=!_t,Jn&&(_t="<!-->"),typeof _t!="string"&&!Et(_t)){if(typeof _t.toString!="function")throw gh("toString is not a function");if(_t=_t.toString(),typeof _t!="string")throw gh("dirty is not a string, aborting")}if(!e.isSupported){if(Pi(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof _t=="string")return t.toStaticHTML(_t);if(Et(_t))return t.toStaticHTML(_t.outerHTML)}return _t}if(an||Zi(q),e.removed=[],typeof _t=="string"&&(Sn=!1),Sn){if(_t.nodeName){var we=ve(_t.nodeName);if(!X[we]||ct[we])throw gh("root node is forbidden and cannot be sanitized in-place")}}else if(_t instanceof s)ot=ut("<!---->"),pt=ot.ownerDocument.importNode(_t,!0),pt.nodeType===1&&pt.nodeName==="BODY"||pt.nodeName==="HTML"?ot=pt:ot.appendChild(pt);else{if(!qe&&!ee&&!ae&&_t.indexOf("<")===-1)return b&&ln?b.createHTML(_t):_t;if(ot=ut(_t),!ot)return qe?null:ln?T:""}ot&&me&&et(ot.firstChild);for(var He=gt(Sn?_t:ot);zt=He.nextNode();)zt.nodeType===3&&zt===Oe||Ct(zt)||(zt.content instanceof i&&be(zt.content),le(zt),Oe=zt);if(Oe=null,Sn)return _t;if(qe){if(Yr)for(Pe=D.call(ot.ownerDocument);ot.firstChild;)Pe.appendChild(ot.firstChild);else Pe=ot;return at.shadowroot&&(Pe=P.call(n,Pe,!0)),Pe}var de=ae?ot.outerHTML:ot.innerHTML;return ae&&X["!doctype"]&&ot.ownerDocument&&ot.ownerDocument.doctype&&ot.ownerDocument.doctype.name&&vn(e$,ot.ownerDocument.doctype.name)&&(de="<!DOCTYPE "+ot.ownerDocument.doctype.name+`>
`+de),ee&&(de=Oi(de,M," "),de=Oi(de,k," ")),b&&ln?b.createHTML(de):de},e.setConfig=function(_t){Zi(_t),an=!0},e.clearConfig=function(){Nn=null,an=!1},e.isValidAttribute=function(_t,q,ot){Nn||Zi({});var pt=ve(_t),zt=ve(q);return Ut(pt,zt,ot)},e.addHook=function(_t,q){typeof q=="function"&&(x[_t]=x[_t]||[],da(x[_t],q))},e.removeHook=function(_t){if(x[_t])return f_(x[_t])},e.removeHooks=function(_t){x[_t]&&(x[_t]=[])},e.removeAllHooks=function(){x={}},e}var i$=z0();function q0(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Hs=q0();function o$(t){Hs=t}var s$=/[&<>"']/,a$=/[&<>"']/g,l$=/[<>"']|&(?!#?\w+;)/,u$=/[<>"']|&(?!#?\w+;)/g,c$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m_=t=>c$[t];function Xe(t,e){if(e){if(s$.test(t))return t.replace(a$,m_)}else if(l$.test(t))return t.replace(u$,m_);return t}var f$=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Y0(t){return t.replace(f$,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var h$=/(^|[^\[])\^/g;function he(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(h$,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}var d$=/[^\w:]/g,p$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v_(t,e,n){if(t){let r;try{r=decodeURIComponent(Y0(n)).replace(d$,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!p$.test(n)&&(n=y$(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Yl={},g$=/^[^:]+:\/*[^/]*$/,m$=/^([^:]+:)[\s\S]*$/,v$=/^([^:]+:\/*[^/]*)[\s\S]*$/;function y$(t,e){Yl[" "+t]||(g$.test(t)?Yl[" "+t]=t+"/":Yl[" "+t]=uu(t,"/",!0)),t=Yl[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(m$,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(v$,"$1")+e:t+e}var Pu={exec:function(){}};function Rr(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function y_(t,e){const n=t.replace(/\|/g,(o,s,a)=>{let u=!1,c=s;for(;--c>=0&&a[c]==="\\";)u=!u;return u?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function uu(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.slice(0,r-i)}function _$(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function K0(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function __(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function E_(t,e,n,r){const i=e.href,o=e.title?Xe(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:o,text:Xe(s)}}function E$(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}var bp=class{constructor(t){this.options=t||Hs}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:uu(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],r=E$(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(/#$/.test(n)){const i=uu(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}const r={type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const n=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n,r,i,o,s,a,u,c,h,p,d,g,y=e[1].trim();const m=y.length>1,_={type:"list",raw:"",ordered:m,start:m?+y.slice(0,-1):"",loose:!1,items:[]};y=m?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=m?y:"[*+-]");const E=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(g=!1,!(!(e=E.exec(t))||this.rules.block.hr.test(t)));){if(n=e[0],t=t.substring(n.length),c=e[2].split(`
`,1)[0],h=t.split(`
`,1)[0],this.options.pedantic?(o=2,d=c.trimLeft()):(o=e[2].search(/[^ ]/),o=o>4?1:o,d=c.slice(o),o+=e[1].length),a=!1,!c&&/^ *$/.test(h)&&(n+=h+`
`,t=t.substring(h.length+1),g=!0),!g){const v=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(p=t.split(`
`,1)[0],c=p,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(T.test(c)||I.test(c)||v.test(c)||b.test(t)));){if(c.search(/[^ ]/)>=o||!c.trim())d+=`
`+c.slice(o);else if(!a)d+=`
`+c;else break;!a&&!c.trim()&&(a=!0),n+=p+`
`,t=t.substring(p.length+1)}}_.loose||(u?_.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d),r&&(i=r[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),_.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),_.raw+=n}_.items[_.items.length-1].raw=n.trimRight(),_.items[_.items.length-1].text=d.trimRight(),_.raw=_.raw.trimRight();const w=_.items.length;for(s=0;s<w;s++){this.lexer.state.top=!1,_.items[s].tokens=this.lexer.blockTokens(_.items[s].text,[]);const v=_.items[s].tokens.filter(T=>T.type==="space"),b=v.every(T=>{const I=T.raw.split("");let S=0;for(const C of I)if(C===`
`&&(S+=1),S>1)return!0;return!1});!_.loose&&v.length&&b&&(_.loose=!0,_.items[s].loose=!0)}return _}}html(t){const e=this.rules.block.html.exec(t);if(e){const n={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(e[0]):Xe(e[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(t){const e=this.rules.block.def.exec(t);if(e){e[3]&&(e[3]=e[3].substring(1,e[3].length-1));const n=e[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:e[0],href:e[2],title:e[3]}}}table(t){const e=this.rules.block.table.exec(t);if(e){const n={type:"table",header:y_(e[1]).map(r=>({text:r})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=e[0];let r=n.align.length,i,o,s,a;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.rows.length,i=0;i<r;i++)n.rows[i]=y_(n.rows[i],n.header.length).map(u=>({text:u}));for(r=n.header.length,o=0;o<r;o++)n.header[o].tokens=[],this.lexer.inline(n.header[o].text,n.header[o].tokens);for(r=n.rows.length,o=0;o<r;o++)for(a=n.rows[o],s=0;s<a.length;s++)a[s].tokens=[],this.lexer.inline(a[s].text,a[s].tokens);return n}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const n={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(t){const e=this.rules.block.text.exec(t);if(e){const n={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Xe(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Xe(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=uu(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=_$(e[2],"()");if(o>-1){const a=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),E_(e,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=e[r.toLowerCase()],!r||!r.href){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return E_(n,r,n[0],this.lexer)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){const o=r[0].length-1;let s,a,u=o,c=0;const h=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+o);(r=h.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=s.length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(u-=a,u>0)continue;if(a=Math.min(a,a+u+c),Math.min(o,a)%2){const d=t.slice(1,o+r.index+a);return{type:"em",raw:t.slice(0,o+r.index+a+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}const p=t.slice(2,o+r.index+a-1);return{type:"strong",raw:t.slice(0,o+r.index+a+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(/\n/g," ");const r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=Xe(n,!0),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=Xe(this.options.mangle?e(n[1]):n[1]),i="mailto:"+r):(r=Xe(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t,e){let n;if(n=this.rules.inline.url.exec(t)){let r,i;if(n[2]==="@")r=Xe(this.options.mangle?e(n[0]):n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);r=Xe(n[0]),n[1]==="www."?i="http://"+r:i=r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,e){const n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xe(n[0]):n[0]:r=Xe(this.options.smartypants?e(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}},xt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};xt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;xt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;xt.def=he(xt.def).replace("label",xt._label).replace("title",xt._title).getRegex();xt.bullet=/(?:[*+-]|\d{1,9}[.)])/;xt.listItemStart=he(/^( *)(bull) */).replace("bull",xt.bullet).getRegex();xt.list=he(xt.list).replace(/bull/g,xt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xt.def.source+")").getRegex();xt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";xt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;xt.html=he(xt.html,"i").replace("comment",xt._comment).replace("tag",xt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();xt.paragraph=he(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex();xt.blockquote=he(xt.blockquote).replace("paragraph",xt.paragraph).getRegex();xt.normal=Rr({},xt);xt.gfm=Rr({},xt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});xt.gfm.table=he(xt.gfm.table).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex();xt.gfm.paragraph=he(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex();xt.pedantic=Rr({},xt.normal,{html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",xt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pu,paragraph:he(xt.normal._paragraph).replace("hr",xt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var St={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};St._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";St.punctuation=he(St.punctuation).replace(/punctuation/g,St._punctuation).getRegex();St.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;St.escapedEmSt=/\\\*|\\_/g;St._comment=he(xt._comment).replace("(?:-->|$)","-->").getRegex();St.emStrong.lDelim=he(St.emStrong.lDelim).replace(/punct/g,St._punctuation).getRegex();St.emStrong.rDelimAst=he(St.emStrong.rDelimAst,"g").replace(/punct/g,St._punctuation).getRegex();St.emStrong.rDelimUnd=he(St.emStrong.rDelimUnd,"g").replace(/punct/g,St._punctuation).getRegex();St._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;St._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;St._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;St.autolink=he(St.autolink).replace("scheme",St._scheme).replace("email",St._email).getRegex();St._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;St.tag=he(St.tag).replace("comment",St._comment).replace("attribute",St._attribute).getRegex();St._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;St._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;St._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;St.link=he(St.link).replace("label",St._label).replace("href",St._href).replace("title",St._title).getRegex();St.reflink=he(St.reflink).replace("label",St._label).replace("ref",xt._label).getRegex();St.nolink=he(St.nolink).replace("ref",xt._label).getRegex();St.reflinkSearch=he(St.reflinkSearch,"g").replace("reflink",St.reflink).replace("nolink",St.nolink).getRegex();St.normal=Rr({},St);St.pedantic=Rr({},St.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",St._label).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",St._label).getRegex()});St.gfm=Rr({},St.normal,{escape:he(St.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});St.gfm.url=he(St.gfm.url,"i").replace("email",St.gfm._extended_email).getRegex();St.breaks=Rr({},St.gfm,{br:he(St.br).replace("{2,}","*").getRegex(),text:he(St.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function b$(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function b_(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var Vi=class{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Hs,this.options.tokenizer=this.options.tokenizer||new bp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:xt.normal,inline:St.normal};this.options.pedantic?(e.block=xt.pedantic,e.inline=St.pedantic):this.options.gfm&&(e.block=xt.gfm,this.options.breaks?e.inline=St.breaks:e.inline=St.gfm),this.tokenizer.rules=e}static get rules(){return{block:xt,inline:St}}static lex(t,e){return new Vi(e).lex(t)}static lexInline(t,e){return new Vi(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(s,a,u)=>a+"    ".repeat(u.length));let n,r,i,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(n=s.call({lexer:this},t,e))?(t=t.substring(n.raw.length),e.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),e.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const a=t.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=e[e.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n),o=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);continue}if(t){const s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let n,r,i,o=t,s,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,s.index)+"["+__("a",s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,s.index)+"["+__("a",s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,s.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},t,e))?(t=t.substring(n.raw.length),e.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),r=e[e.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),r=e[e.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.emStrong(t,o,u)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.autolink(t,b_)){t=t.substring(n.raw.length),e.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t,b_))){t=t.substring(n.raw.length),e.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const h=t.slice(1);let p;this.options.extensions.startInline.forEach(function(d){p=d.call({lexer:this},h),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(i=t.substring(0,c+1))}if(n=this.tokenizer.inlineText(i,b$)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return e}},wp=class{constructor(t){this.options=t||Hs}code(t,e,n){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,r);i!=null&&i!==t&&(n=!0,t=i)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Xe(r,!0)+'">'+(n?t:Xe(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:Xe(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,e,n,r){if(this.options.headerIds){const i=this.options.headerPrefix+r.slug(n);return`<h${e} id="${i}">${t}</h${e}>
`}return`<h${e}>${t}</h${e}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,n){const r=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+r+i+`>
`+t+"</"+r+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,e){const n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,n){if(t=v_(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let r='<a href="'+Xe(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>",r}image(t,e,n){if(t=v_(this.options.sanitize,this.options.baseUrl,t),t===null)return n;let r=`<img src="${t}" alt="${n}"`;return e&&(r+=` title="${e}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}},X0=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}},Z0=class{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do r++,n=t+"-"+r;while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n}slug(t,e={}){const n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)}},Wi=class{constructor(t){this.options=t||Hs,this.options.renderer=this.options.renderer||new wp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X0,this.slugger=new Z0}static parse(t,e){return new Wi(e).parse(t)}static parseInline(t,e){return new Wi(e).parseInline(t)}parse(t,e=!0){let n="",r,i,o,s,a,u,c,h,p,d,g,y,m,_,E,w,v,b,T;const I=t.length;for(r=0;r<I;r++){if(d=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(T=this.options.extensions.renderers[d.type].call({parser:this},d),T!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){n+=T||"";continue}switch(d.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(d.tokens),d.depth,Y0(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(d.text,d.lang,d.escaped);continue}case"table":{for(h="",c="",s=d.header.length,i=0;i<s;i++)c+=this.renderer.tablecell(this.parseInline(d.header[i].tokens),{header:!0,align:d.align[i]});for(h+=this.renderer.tablerow(c),p="",s=d.rows.length,i=0;i<s;i++){for(u=d.rows[i],c="",a=u.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:d.align[o]});p+=this.renderer.tablerow(c)}n+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(d.tokens),n+=this.renderer.blockquote(p);continue}case"list":{for(g=d.ordered,y=d.start,m=d.loose,s=d.items.length,p="",i=0;i<s;i++)E=d.items[i],w=E.checked,v=E.task,_="",E.task&&(b=this.renderer.checkbox(w),m?E.tokens.length>0&&E.tokens[0].type==="paragraph"?(E.tokens[0].text=b+" "+E.tokens[0].text,E.tokens[0].tokens&&E.tokens[0].tokens.length>0&&E.tokens[0].tokens[0].type==="text"&&(E.tokens[0].tokens[0].text=b+" "+E.tokens[0].tokens[0].text)):E.tokens.unshift({type:"text",text:b}):_+=b),_+=this.parse(E.tokens,m),p+=this.renderer.listitem(_,v,w);n+=this.renderer.list(p,g,y);continue}case"html":{n+=this.renderer.html(d.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{for(p=d.tokens?this.parseInline(d.tokens):d.text;r+1<I&&t[r+1].type==="text";)d=t[++r],p+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);n+=e?this.renderer.paragraph(p):p;continue}default:{const S='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return n}parseInline(t,e){e=e||this.renderer;let n="",r,i,o;const s=t.length;for(r=0;r<s;r++){if(i=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(o=this.options.extensions.renderers[i.type].call({parser:this},i),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=o||"";continue}switch(i.type){case"escape":{n+=e.text(i.text);break}case"html":{n+=e.html(i.text);break}case"link":{n+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break}case"image":{n+=e.image(i.href,i.title,i.text);break}case"strong":{n+=e.strong(this.parseInline(i.tokens,e));break}case"em":{n+=e.em(this.parseInline(i.tokens,e));break}case"codespan":{n+=e.codespan(i.text);break}case"br":{n+=e.br();break}case"del":{n+=e.del(this.parseInline(i.tokens,e));break}case"text":{n+=e.text(i.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}};function Ft(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=Rr({},Ft.defaults,e||{}),K0(e),n){const r=e.highlight;let i;try{i=Vi.lex(t,e)}catch(a){return n(a)}const o=function(a){let u;if(!a)try{e.walkTokens&&Ft.walkTokens(i,e.walkTokens),u=Wi.parse(i,e)}catch(c){a=c}return e.highlight=r,a?n(a):n(null,u)};if(!r||r.length<3||(delete e.highlight,!i.length))return o();let s=0;Ft.walkTokens(i,function(a){a.type==="code"&&(s++,setTimeout(()=>{r(a.text,a.lang,function(u,c){if(u)return o(u);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),s--,s===0&&o()})},0))}),s===0&&o();return}try{const r=Vi.lex(t,e);return e.walkTokens&&Ft.walkTokens(r,e.walkTokens),Wi.parse(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xe(r.message+"",!0)+"</pre>";throw r}}Ft.options=Ft.setOptions=function(t){return Rr(Ft.defaults,t),o$(Ft.defaults),Ft};Ft.getDefaults=q0;Ft.defaults=Hs;Ft.use=function(...t){const e=Rr({},...t),n=Ft.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const s=n.renderers?n.renderers[o.name]:null;s?n.renderers[o.name]=function(...a){let u=o.renderer.apply(this,a);return u===!1&&(u=s.apply(this,a)),u}:n.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)})),i.renderer){const o=Ft.defaults.renderer||new wp;for(const s in i.renderer){const a=o[s];o[s]=(...u)=>{let c=i.renderer[s].apply(o,u);return c===!1&&(c=a.apply(o,u)),c}}e.renderer=o}if(i.tokenizer){const o=Ft.defaults.tokenizer||new bp;for(const s in i.tokenizer){const a=o[s];o[s]=(...u)=>{let c=i.tokenizer[s].apply(o,u);return c===!1&&(c=a.apply(o,u)),c}}e.tokenizer=o}if(i.walkTokens){const o=Ft.defaults.walkTokens;e.walkTokens=function(s){i.walkTokens.call(this,s),o&&o.call(this,s)}}r&&(e.extensions=n),Ft.setOptions(e)})};Ft.walkTokens=function(t,e){for(const n of t)switch(e.call(Ft,n),n.type){case"table":{for(const r of n.header)Ft.walkTokens(r.tokens,e);for(const r of n.rows)for(const i of r)Ft.walkTokens(i.tokens,e);break}case"list":{Ft.walkTokens(n.items,e);break}default:Ft.defaults.extensions&&Ft.defaults.extensions.childTokens&&Ft.defaults.extensions.childTokens[n.type]?Ft.defaults.extensions.childTokens[n.type].forEach(function(r){Ft.walkTokens(n[r],e)}):n.tokens&&Ft.walkTokens(n.tokens,e)}};Ft.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=Rr({},Ft.defaults,e||{}),K0(e);try{const n=Vi.lexInline(t,e);return e.walkTokens&&Ft.walkTokens(n,e.walkTokens),Wi.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xe(n.message+"",!0)+"</pre>";throw n}};Ft.Parser=Wi;Ft.parser=Wi.parse;Ft.Renderer=wp;Ft.TextRenderer=X0;Ft.Lexer=Vi;Ft.lexer=Vi.lex;Ft.Tokenizer=bp;Ft.Slugger=Z0;Ft.parse=Ft;Ft.options;Ft.setOptions;Ft.use;Ft.walkTokens;Ft.parseInline;Wi.parse;Vi.lex;function cu(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var w_={space:/^\n+/,blockCode:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)(\n)(|[\s\S]*?\n)( {0,3}\1[~`]* *(?:\n+|$)|$)/,heading:/^#{1,6} [^\n]+(\n|$)/,lheading:/^[^\n]+\n {0,3}(=+|-+) *(\n+|$)/,hr:/^(([-_*]) *){3,}(\n+|$)/,list:/^( {0})((?:[*+-]|\d{1,9}\.)) [\s\S]+?(?:\n+(?! )(?!\1(?:[*+-]|\d{1,9}\.) )\n*|\s*$)/,blockquote:/^( {0,3}> ?([^\n]*)(?:\n|$))+/,html:/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?-->[^\n]*(\n+|$)|<\/?(\w+)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$))/,paragraph:/^[^\n]+/},A_={strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,inlineCode:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,link:/^!?\[([\s\S]+)\]\(\s*([\s\S]+)(?:\s+([\s\S]+))?\s*\)/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/},Fr=(t,e,n)=>`<${t} class="mdhl-${n}">${e}</${t}>`,w$={codeInFences:(t,e)=>Fr("span",cu(t),"codeInFences"),heading:(t,e,n)=>Fr("b",n(t.text,e),t.type),lheading:(t,e,n)=>Fr("b",n(t.text,e),"heading"),paragraph:(t,e,n)=>Fr("span",n(t.text,e),t.type),list:(t,e,n)=>{const r=t.text.split(`
`).map(i=>{const o=i.substr(0,1),s=i.substr(1),a=n(s,e);return`${Fr("span",o,"bullet")}${a}`}).join(`
`);return Fr("span",r,"list")},fences:(t,e)=>{const[,n,r,i,o,s]=t.cap,a=e.codeInFences(o,r);return`${n}${cu(r)}${i}${a}${s}`},space:t=>t.text,text:t=>t.text,em:t=>Fr("i",t.text,t.type),strong:t=>Fr("b",t.text,t.type),defaultInlineRenderer:t=>Fr("span",t.text,t.type),defaultBlockRenderer:t=>Fr("span",cu(t.text),t.type)};function J0(t,e){let n="";for(;t;)if(!Object.keys(A_).some(r=>{const i=A_[r].exec(t);if(i){const o=i[0];t=t.substring(o.length);const s=cu(o);return n+=(e[r]||e.defaultInlineRenderer)({type:r,text:s,cap:i},e,J0),!0}return!1}))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return n}function A$(t){const e=[];for(t=t.replace(/^ +$/gm,"");t;)if(!Object.keys(w_).some(n=>{const r=w_[n].exec(t);if(r){const i=r[0];return t=t.substring(i.length),e.push({text:i,type:n,cap:r}),!0}return!1}))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return e}function T$(t,e){return t.map(n=>(e[n.type]||e.defaultBlockRenderer)(n,e,J0)).join("").replace(/\n/g,"<br/>")}function S$(t,e=w$){return T$(A$(t),e)}var I$=t=>{t.data("markdownEditorFormComponent",({state:e,tab:n})=>({attachment:null,overlay:null,preview:"",state:e,tab:n,init:function(){this.state!==null&&this.$nextTick(()=>{this.render()}),this.$watch("state",()=>{this.render()})},render:function(){this.$refs.textarea.scrollHeight>0&&(this.$refs.overlay.style.height="150px",this.$refs.overlay.style.height=this.$refs.textarea.scrollHeight+"px"),this.overlay=null,this.overlay=S$(this.state),this.preview=null,this.preview=i$.sanitize(Ft(this.state))},checkForAutoInsertion(r){const i=this.$refs.textarea.value.split(`
`),o=this.$refs.textarea.value.substring(0,this.$refs.textarea.value.selectionStart).split(`
`).length,s=i[o-2];if(!!s.match(/^(\*\s|-\s)|^(\d)+\./)){if(s.match(/^(\*\s)/))s.trim().length>1?i[o-1]="* ":delete i[o-2];else if(s.match(/^(-\s)/))s.trim().length>1?i[o-1]="- ":delete i[o-2];else{const u=s.match(/^(\d)+/)[0];s.trim().length>u.length+2?i[o-1]=`${parseInt(u)+1}. `:delete i[o-2]}this.state=i.join(`
`),this.render()}}}))},Lo=Fs(RL());Lo.default.config.blockAttributes.default.tagName="p";Lo.default.config.blockAttributes.default.breakOnReturn=!0;Lo.default.config.blockAttributes.heading={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1};Lo.default.config.blockAttributes.subHeading={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1};Lo.default.Block.prototype.breaksOnReturn=function(){var n;const t=this.getLastAttribute(),e=Lo.default.getBlockConfig(t||"default");return(n=e==null?void 0:e.breakOnReturn)!=null?n:!1};Lo.default.LineBreakInsertion.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset>0:this.shouldBreakFormattedBlock()?!1:this.breaksOnReturn};var C$=t=>{t.data("richEditorFormComponent",({state:e})=>({state:e,init:function(){var n,r;(r=(n=this.$refs.trix)==null?void 0:n.editor)==null||r.loadHTML(this.state),this.$watch("state",()=>{var i,o;document.activeElement!==this.$refs.trix&&((o=(i=this.$refs.trix)==null?void 0:i.editor)==null||o.loadHTML(this.state))})}}))},x$=Fs(OL()),R$=t=>{t.data("selectFormComponent",({isHtmlAllowed:e,getOptionLabelUsing:n,getOptionLabelsUsing:r,getOptionsUsing:i,getSearchResultsUsing:o,isAutofocused:s,isMultiple:a,hasDynamicOptions:u,hasDynamicSearchResults:c,loadingMessage:h,maxItems:p,noSearchResultsMessage:d,options:g,placeholder:y,searchingMessage:m,searchPrompt:_,state:E})=>({isSearching:!1,select:null,selectedOptions:[],isStateBeingUpdated:!1,state:E,init:async function(){this.select=new x$.default(this.$refs.input,{allowHTML:e,duplicateItemsAllowed:!1,itemSelectText:"",loadingText:h,maxItemCount:p!=null?p:-1,noChoicesText:_,noResultsText:d,placeholderValue:y,removeItemButton:!0,renderChoiceLimit:50,searchChoices:!c,searchFields:["label"],searchResultLimit:50,shouldSort:!1}),await this.refreshChoices({withInitialOptions:!0}),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state)),this.refreshPlaceholder(),s&&this.select.showDropdown(),this.$refs.input.addEventListener("change",()=>{var w;this.refreshPlaceholder(),!this.isStateBeingUpdated&&(this.isStateBeingUpdated=!0,this.state=(w=this.select.getValue(!0))!=null?w:null,this.$nextTick(()=>this.isStateBeingUpdated=!1))}),u&&this.$refs.input.addEventListener("showDropdown",async()=>{this.select.clearChoices(),await this.select.setChoices([{value:"",label:h,disabled:!0}]),await this.refreshChoices()}),c&&(this.$refs.input.addEventListener("search",async w=>{var b;let v=(b=w.detail.value)==null?void 0:b.trim();[null,void 0,""].includes(v)||(this.isSearching=!0,this.select.clearChoices(),await this.select.setChoices([{value:"",label:m,disabled:!0}]))}),this.$refs.input.addEventListener("search",t.debounce(async w=>{var v;await this.refreshChoices({search:(v=w.detail.value)==null?void 0:v.trim()}),this.isSearching=!1},1e3))),this.$watch("state",async()=>{if(this.refreshPlaceholder(),this.isStateBeingUpdated)return;const w=await this.getChoices({withInitialOptions:!u});this.select.clearStore(),this.setChoices(w),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state))})},refreshChoices:async function(w={}){this.setChoices(await this.getChoices(w))},setChoices:function(w){this.select.setChoices(w,"value","label",!0)},getChoices:async function(w={}){const v=await this.getOptions(w);return this.transformOptionsIntoChoices({...v,...await this.getMissingOptions(v)})},getOptions:async function({search:w,withInitialOptions:v}){return v?g:w!==""&&w!==null&&w!==void 0?await o(w):await i()},transformOptionsIntoChoices:function(w){return Object.entries(w).map(([v,b])=>({label:b,value:v}))},refreshPlaceholder:function(){a||(this.select._renderItems(),[null,void 0,""].includes(this.state)&&(this.$el.querySelector(".choices__list--single").innerHTML=`<div class="choices__placeholder choices__item">${y}</div>`))},formatState:function(w){return a?(w!=null?w:[]).map(v=>v==null?void 0:v.toString()):w==null?void 0:w.toString()},getMissingOptions:async function(w){if([null,void 0,"",[],{}].includes(this.state))return{};if(w.length||(w={}),a)return this.state.every(b=>b in w)?{}:await r();if(this.state in w)return w;let v={};return v[this.state]=await n(),v}}))},O$=t=>{t.data("tagsInputFormComponent",({state:e})=>({newTag:"",state:e,createTag:function(){if(this.newTag=this.newTag.trim(),this.newTag!==""){if(this.state.includes(this.newTag)){this.newTag="";return}this.state.push(this.newTag),this.newTag=""}},deleteTag:function(n){this.state=this.state.filter(r=>r!==n)}}))};function Nu(t){return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function $e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return e&&T_(t.prototype,e),n&&T_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vd(t,e)}function Bt(t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bt(t)}function vd(t,e){return vd=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vd(t,e)}function L$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Va(t,e){if(t==null)return{};var n=M$(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function k$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$(t)}function qr(t){var e=L$();return function(){var r=Bt(t),i;if(e){var o=Bt(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return P$(this,i)}}function Q0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Bt(t),t!==null););return t}function Qt(){return typeof Reflect<"u"&&Reflect.get?Qt=Reflect.get:Qt=function(e,n,r){var i=Q0(e,n);if(!!i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qt.apply(this,arguments)}function fu(t,e,n,r){return typeof Reflect<"u"&&Reflect.set?fu=Reflect.set:fu=function(o,s,a,u){var c=Q0(o,s),h;if(c){if(h=Object.getOwnPropertyDescriptor(c,s),h.set)return h.set.call(u,a),!0;if(!h.writable)return!1}if(h=Object.getOwnPropertyDescriptor(u,s),h){if(!h.writable)return!1;h.value=a,Object.defineProperty(u,s,h)}else D$(u,s,a);return!0},fu(t,e,n,r)}function li(t,e,n,r,i){var o=fu(t,e,n,r||t);if(!o&&i)throw new Error("failed to set property");return n}function si(t,e){return N$(t)||F$(t,e)||B$(t,e)||U$()}function N$(t){if(Array.isArray(t))return t}function F$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function B$(t,e){if(!!t){if(typeof t=="string")return S_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(t,e)}}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee=function(){function t(e){$e(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return Ge(t,[{key:"aggregate",value:function(n){return this.rawInserted+=n.rawInserted,this.skip=this.skip||n.skip,this.inserted+=n.inserted,this.tailShift+=n.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}();function _s(t){return typeof t=="string"||t instanceof String}var kt={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function $$(t){switch(t){case kt.LEFT:return kt.FORCE_LEFT;case kt.RIGHT:return kt.FORCE_RIGHT;default:return t}}function Eh(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function Ap(t){return Array.isArray(t)?t:[t,new Ee]}function yd(t,e){if(e===t)return!0;var n=Array.isArray(e),r=Array.isArray(t),i;if(n&&r){if(e.length!=t.length)return!1;for(i=0;i<e.length;i++)if(!yd(e[i],t[i]))return!1;return!0}if(n!=r)return!1;if(e&&t&&Nu(e)==="object"&&Nu(t)==="object"){var o=e instanceof Date,s=t instanceof Date;if(o&&s)return e.getTime()==t.getTime();if(o!=s)return!1;var a=e instanceof RegExp,u=t instanceof RegExp;if(a&&u)return e.toString()==t.toString();if(a!=u)return!1;var c=Object.keys(e);for(i=0;i<c.length;i++)if(!Object.prototype.hasOwnProperty.call(t,c[i]))return!1;for(i=0;i<c.length;i++)if(!yd(t[c[i]],e[c[i]]))return!1;return!0}else if(e&&t&&typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();return!1}var G$=function(){function t(e,n,r,i){for($e(this,t),this.value=e,this.cursorPos=n,this.oldValue=r,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ge(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?kt.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?kt.RIGHT:kt.LEFT}}]),t}(),ai=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;$e(this,t),this.value=e,this.from=n,this.stop=r}return Ge(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(n){this.value+=String(n)}},{key:"appendTo",value:function(n){return n.append(this.toString(),{tail:!0}).aggregate(n._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(n){Object.assign(this,n)}},{key:"unshift",value:function(n){if(!this.value.length||n!=null&&this.from>=n)return"";var r=this.value[0];return this.value=this.value.slice(1),r}},{key:"shift",value:function(){if(!this.value.length)return"";var n=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),n}}]),t}();function Zt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Zt.InputMask(t,e)}var Bo=function(){function t(e){$e(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,e)),this.isInitialized=!0}return Ge(t,[{key:"updateOptions",value:function(n){!Object.keys(n).length||this.withValueRefresh(this._update.bind(this,n))}},{key:"_update",value:function(n){Object.assign(this,n)}},{key:"state",get:function(){return{_value:this.value}},set:function(n){this._value=n._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(n){this.resolve(n)}},{key:"resolve",value:function(n){return this.reset(),this.append(n,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(n){this.reset(),this.append(n,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(n){this.value=this.doFormat(n)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(n){this.reset(),this.append(n,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(n,r){return n}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(n,r)}},{key:"extractTail",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new ai(this.extractInput(n,r),n)}},{key:"appendTail",value:function(n){return _s(n)&&(n=new ai(String(n))),n.appendTo(this)}},{key:"_appendCharRaw",value:function(n){return n?(this._value+=n,new Ee({inserted:n,rawInserted:n})):new Ee}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=this.state,s,a=Ap(this.doPrepare(n,r)),u=si(a,2);if(n=u[0],s=u[1],s=s.aggregate(this._appendCharRaw(n,r)),s.inserted){var c,h=this.doValidate(r)!==!1;if(h&&i!=null){var p=this.state;this.overwrite===!0&&(c=i.state,i.unshift(this.value.length));var d=this.appendTail(i);h=d.rawInserted===i.toString(),!(h&&d.inserted)&&this.overwrite==="shift"&&(this.state=p,c=i.state,i.shift(),d=this.appendTail(i),h=d.rawInserted===i.toString()),h&&d.inserted&&(this.state=p)}h||(s=new Ee,this.state=o,i&&c&&(i.state=c))}return s}},{key:"_appendPlaceholder",value:function(){return new Ee}},{key:"_appendEager",value:function(){return new Ee}},{key:"append",value:function(n,r,i){if(!_s(n))throw new Error("value should be string");var o=new Ee,s=_s(i)?new ai(String(i)):i;r&&r.tail&&(r._beforeTailState=this.state);for(var a=0;a<n.length;++a)o.aggregate(this._appendChar(n[a],r,s));return s!=null&&(o.tailShift+=this.appendTail(s).tailShift),this.eager&&r!==null&&r!==void 0&&r.input&&n&&o.aggregate(this._appendEager()),o}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,n)+this.value.slice(r),new Ee}},{key:"withValueRefresh",value:function(n){if(this._refreshing||!this.isInitialized)return n();this._refreshing=!0;var r=this.rawInputValue,i=this.value,o=n();return this.rawInputValue=r,this.value&&this.value!==i&&i.indexOf(this.value)===0&&this.append(i.slice(this.value.length),{},""),delete this._refreshing,o}},{key:"runIsolated",value:function(n){if(this._isolated||!this.isInitialized)return n(this);this._isolated=!0;var r=this.state,i=n(this);return this.state=r,delete this._isolated,i}},{key:"doPrepare",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(n,this,r):n}},{key:"doValidate",value:function(n){return(!this.validate||this.validate(this.value,this,n))&&(!this.parent||this.parent.doValidate(n))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(n){return this.format?this.format(n,this):n}},{key:"doParse",value:function(n){return this.parse?this.parse(n,this):n}},{key:"splice",value:function(n,r,i,o){var s=n+r,a=this.extractTail(s),u;this.eager&&(o=$$(o),u=this.extractInput(0,s,{raw:!0}));var c=this.nearestInputPos(n,r>1&&n!==0&&!this.eager?kt.NONE:o),h=new Ee({tailShift:c-n}).aggregate(this.remove(c));if(this.eager&&o!==kt.NONE&&u===this.rawInputValue)if(o===kt.FORCE_LEFT)for(var p;u===this.rawInputValue&&(p=this.value.length);)h.aggregate(new Ee({tailShift:-1})).aggregate(this.remove(p-1));else o===kt.FORCE_RIGHT&&a.unshift();return h.aggregate(this.append(i,{input:!0},a))}},{key:"maskEquals",value:function(n){return this.mask===n}}]),t}();Bo.DEFAULTS={format:function(e){return e},parse:function(e){return e}};Zt.Masked=Bo;function tw(t){if(t==null)throw new Error("mask property should be defined");return t instanceof RegExp?Zt.MaskedRegExp:_s(t)?Zt.MaskedPattern:t instanceof Date||t===Date?Zt.MaskedDate:t instanceof Number||typeof t=="number"||t===Number?Zt.MaskedNumber:Array.isArray(t)||t===Array?Zt.MaskedDynamic:Zt.Masked&&t.prototype instanceof Zt.Masked?t:t instanceof Zt.Masked?t.constructor:t instanceof Function?Zt.MaskedFunction:(console.warn("Mask not found for mask",t),Zt.Masked)}function Mo(t){if(Zt.Masked&&t instanceof Zt.Masked)return t;t=Object.assign({},t);var e=t.mask;if(Zt.Masked&&e instanceof Zt.Masked)return e;var n=tw(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t)}Zt.createMask=Mo;var H$=["mask"],V$={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},ew=function(){function t(e){$e(this,t);var n=e.mask,r=Va(e,H$);this.masked=Mo({mask:n}),Object.assign(this,r)}return Ge(t,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return n===0&&r>=1?(this.isFilled=!1,this.masked.remove(n,r)):new Ee}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new Ee;var i=this.masked.state,o=this.masked._appendChar(n,r);return o.inserted&&this.doValidate(r)===!1&&(o.inserted=o.rawInserted="",this.masked.state=i),!o.inserted&&!this.isOptional&&!this.lazy&&!r.input&&(o.inserted=this.placeholderChar),o.skip=!o.inserted&&!this.isOptional,this.isFilled=Boolean(o.inserted),o}},{key:"append",value:function(){var n;return(n=this.masked).append.apply(n,arguments)}},{key:"_appendPlaceholder",value:function(){var n=new Ee;return this.isFilled||this.isOptional||(this.isFilled=!0,n.inserted=this.placeholderChar),n}},{key:"_appendEager",value:function(){return new Ee}},{key:"extractTail",value:function(){var n;return(n=this.masked).extractTail.apply(n,arguments)}},{key:"appendTail",value:function(){var n;return(n=this.masked).appendTail.apply(n,arguments)}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(n,r,i)}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kt.NONE,i=0,o=this.value.length,s=Math.min(Math.max(n,i),o);switch(r){case kt.LEFT:case kt.FORCE_LEFT:return this.isComplete?s:i;case kt.RIGHT:case kt.FORCE_RIGHT:return this.isComplete?s:o;case kt.NONE:default:return s}}},{key:"doValidate",value:function(){var n,r;return(n=this.masked).doValidate.apply(n,arguments)&&(!this.parent||(r=this.parent).doValidate.apply(r,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,isFilled:this.isFilled}},set:function(n){this.masked.state=n.masked,this.isFilled=n.isFilled}}]),t}(),nw=function(){function t(e){$e(this,t),Object.assign(this,e),this._value="",this.isFixed=!0}return Ge(t,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,n)+this._value.slice(r),this._value||(this._isRawInput=!1),new Ee}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kt.NONE,i=0,o=this._value.length;switch(r){case kt.LEFT:case kt.FORCE_LEFT:return i;case kt.NONE:case kt.RIGHT:case kt.FORCE_RIGHT:default:return o}}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.raw&&this._isRawInput&&this._value.slice(n,r)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new Ee;if(this._value)return i;var o=this.char===n,s=o&&(this.isUnmasking||r.input||r.raw)&&!this.eager&&!r.tail;return s&&(i.rawInserted=this.char),this._value=i.inserted=this.char,this._isRawInput=s&&(r.raw||r.input),i}},{key:"_appendEager",value:function(){return this._appendChar(this.char)}},{key:"_appendPlaceholder",value:function(){var n=new Ee;return this._value||(this._value=n.inserted=this.char),n}},{key:"extractTail",value:function(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new ai("")}},{key:"appendTail",value:function(n){return _s(n)&&(n=new ai(String(n))),n.appendTo(this)}},{key:"append",value:function(n,r,i){var o=this._appendChar(n[0],r);return i!=null&&(o.tailShift+=this.appendTail(i).tailShift),o}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(n){Object.assign(this,n)}}]),t}(),W$=["chunks"],I_=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;$e(this,t),this.chunks=e,this.from=n}return Ge(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(n){if(!!String(n)){_s(n)&&(n=new ai(String(n)));var r=this.chunks[this.chunks.length-1],i=r&&(r.stop===n.stop||n.stop==null)&&n.from===r.from+r.toString().length;if(n instanceof ai)i?r.extend(n.toString()):this.chunks.push(n);else if(n instanceof t){if(n.stop==null)for(var o;n.chunks.length&&n.chunks[0].stop==null;)o=n.chunks.shift(),o.from+=n.from,this.extend(o);n.toString()&&(n.stop=n.blockIndex,this.chunks.push(n))}}}},{key:"appendTo",value:function(n){if(!(n instanceof Zt.MaskedPattern)){var r=new ai(this.toString());return r.appendTo(n)}for(var i=new Ee,o=0;o<this.chunks.length&&!i.skip;++o){var s=this.chunks[o],a=n._mapPosToBlock(n.value.length),u=s.stop,c=void 0;if(u!=null&&(!a||a.index<=u)&&((s instanceof t||n._stops.indexOf(u)>=0)&&i.aggregate(n._appendPlaceholder(u)),c=s instanceof t&&n._blocks[u]),c){var h=c.appendTail(s);h.skip=!1,i.aggregate(h),n._value+=h.inserted;var p=s.toString().slice(h.rawInserted.length);p&&i.aggregate(n.append(p,{tail:!0}))}else i.aggregate(n.append(s.toString(),{tail:!0}))}return i}},{key:"state",get:function(){return{chunks:this.chunks.map(function(n){return n.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(n){var r=n.chunks,i=Va(n,W$);Object.assign(this,i),this.chunks=r.map(function(o){var s="chunks"in o?new t:new ai;return s.state=o,s})}},{key:"unshift",value:function(n){if(!this.chunks.length||n!=null&&this.from>=n)return"";for(var r=n!=null?n-this.from:n,i=0;i<this.chunks.length;){var o=this.chunks[i],s=o.unshift(r);if(o.toString()){if(!s)break;++i}else this.chunks.splice(i,1);if(s)return s}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var n=this.chunks.length-1;0<=n;){var r=this.chunks[n],i=r.shift();if(r.toString()){if(!i)break;--n}else this.chunks.splice(n,1);if(i)return i}return""}}]),t}(),j$=function(){function t(e,n){$e(this,t),this.masked=e,this._log=[];var r=e._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),i=r.offset,o=r.index;this.offset=i,this.index=o,this.ok=!1}return Ge(t,[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(n){Object.assign(this,n)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var n=this._log.pop();return this.state=n,n}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}},{key:"_pushLeft",value:function(n){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((r=this.block)===null||r===void 0?void 0:r.value.length)||0){var r;if(n())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(n){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(n())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,kt.FORCE_LEFT),n.offset!==0))return!0})}},{key:"pushLeftBeforeInput",value:function(){var n=this;return this._pushLeft(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,kt.LEFT),!0})}},{key:"pushLeftBeforeRequired",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,kt.LEFT),!0})}},{key:"pushRightBeforeFilled",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,kt.FORCE_RIGHT),n.offset!==n.block.value.length))return!0})}},{key:"pushRightBeforeInput",value:function(){var n=this;return this._pushRight(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,kt.NONE),!0})}},{key:"pushRightBeforeRequired",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,kt.NONE),!0})}}]),t}(),z$=function(t){zr(n,t);var e=qr(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ge(n,[{key:"_update",value:function(i){i.mask&&(i.validate=function(o){return o.search(i.mask)>=0}),Qt(Bt(n.prototype),"_update",this).call(this,i)}}]),n}(Bo);Zt.MaskedRegExp=z$;var q$=["_blocks"],mi=function(t){zr(n,t);var e=qr(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return $e(this,n),r.definitions=Object.assign({},V$,r.definitions),e.call(this,Object.assign({},n.DEFAULTS,r))}return Ge(n,[{key:"_update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.definitions=Object.assign({},this.definitions,i.definitions),Qt(Bt(n.prototype),"_update",this).call(this,i),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var i=this,o=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var s=this.mask;if(!(!s||!o))for(var a=!1,u=!1,c=0;c<s.length;++c){if(this.blocks){var h=function(){var y=s.slice(c),m=Object.keys(i.blocks).filter(function(w){return y.indexOf(w)===0});m.sort(function(w,v){return v.length-w.length});var _=m[0];if(_){var E=Mo(Object.assign({parent:i,lazy:i.lazy,eager:i.eager,placeholderChar:i.placeholderChar,overwrite:i.overwrite},i.blocks[_]));return E&&(i._blocks.push(E),i._maskedBlocks[_]||(i._maskedBlocks[_]=[]),i._maskedBlocks[_].push(i._blocks.length-1)),c+=_.length-1,"continue"}}();if(h==="continue")continue}var p=s[c],d=p in o;if(p===n.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(p==="{"||p==="}"){a=!a;continue}if(p==="["||p==="]"){u=!u;continue}if(p===n.ESCAPE_CHAR){if(++c,p=s[c],!p)break;d=!1}var g=d?new ew({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:o[p],isOptional:u}):new nw({char:p,eager:this.eager,isUnmasking:a});this._blocks.push(g)}}},{key:"state",get:function(){return Object.assign({},Qt(Bt(n.prototype),"state",this),{_blocks:this._blocks.map(function(i){return i.state})})},set:function(i){var o=i._blocks,s=Va(i,q$);this._blocks.forEach(function(a,u){return a.state=o[u]}),li(Bt(n.prototype),"state",s,this,!0)}},{key:"reset",value:function(){Qt(Bt(n.prototype),"reset",this).call(this),this._blocks.forEach(function(i){return i.reset()})}},{key:"isComplete",get:function(){return this._blocks.every(function(i){return i.isComplete})}},{key:"isFilled",get:function(){return this._blocks.every(function(i){return i.isFilled})}},{key:"isFixed",get:function(){return this._blocks.every(function(i){return i.isFixed})}},{key:"isOptional",get:function(){return this._blocks.every(function(i){return i.isOptional})}},{key:"doCommit",value:function(){this._blocks.forEach(function(i){return i.doCommit()}),Qt(Bt(n.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(i,o){return i+=o.unmaskedValue},"")},set:function(i){li(Bt(n.prototype),"unmaskedValue",i,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(i,o){return i+=o.value},"")},set:function(i){li(Bt(n.prototype),"value",i,this,!0)}},{key:"appendTail",value:function(i){return Qt(Bt(n.prototype),"appendTail",this).call(this,i).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var i,o=new Ee,s=(i=this._mapPosToBlock(this.value.length))===null||i===void 0?void 0:i.index;if(s==null)return o;this._blocks[s].isFilled&&++s;for(var a=s;a<this._blocks.length;++a){var u=this._blocks[a]._appendEager();if(!u.inserted)break;o.aggregate(u)}return o}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._mapPosToBlock(this.value.length),a=new Ee;if(!s)return a;for(var u=s.index;;++u){var c,h=this._blocks[u];if(!h)break;var p=h._appendChar(i,Object.assign({},o,{_beforeTailState:(c=o._beforeTailState)===null||c===void 0?void 0:c._blocks[u]})),d=p.skip;if(a.aggregate(p),d||p.rawInserted)break}return a}},{key:"extractTail",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,a=new I_;return o===s||this._forEachBlocksInRange(o,s,function(u,c,h,p){var d=u.extractTail(h,p);d.stop=i._findStopBefore(c),d.from=i._blockStartPos(c),d instanceof I_&&(d.blockIndex=c),a.extend(d)}),a}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i===o)return"";var a="";return this._forEachBlocksInRange(i,o,function(u,c,h,p){a+=u.extractInput(h,p,s)}),a}},{key:"_findStopBefore",value:function(i){for(var o,s=0;s<this._stops.length;++s){var a=this._stops[s];if(a<=i)o=a;else break}return o}},{key:"_appendPlaceholder",value:function(i){var o=this,s=new Ee;if(this.lazy&&i==null)return s;var a=this._mapPosToBlock(this.value.length);if(!a)return s;var u=a.index,c=i!=null?i:this._blocks.length;return this._blocks.slice(u,c).forEach(function(h){if(!h.lazy||i!=null){var p=h._blocks!=null?[h._blocks.length]:[],d=h._appendPlaceholder.apply(h,p);o._value+=d.inserted,s.aggregate(d)}}),s}},{key:"_mapPosToBlock",value:function(i){for(var o="",s=0;s<this._blocks.length;++s){var a=this._blocks[s],u=o.length;if(o+=a.value,i<=o.length)return{index:s,offset:i-u}}}},{key:"_blockStartPos",value:function(i){return this._blocks.slice(0,i).reduce(function(o,s){return o+=s.value.length},0)}},{key:"_forEachBlocksInRange",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2?arguments[2]:void 0,a=this._mapPosToBlock(i);if(a){var u=this._mapPosToBlock(o),c=u&&a.index===u.index,h=a.offset,p=u&&c?u.offset:this._blocks[a.index].value.length;if(s(this._blocks[a.index],a.index,h,p),u&&!c){for(var d=a.index+1;d<u.index;++d)s(this._blocks[d],d,0,this._blocks[d].value.length);s(this._blocks[u.index],u.index,0,u.offset)}}}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=Qt(Bt(n.prototype),"remove",this).call(this,i,o);return this._forEachBlocksInRange(i,o,function(a,u,c,h){s.aggregate(a.remove(c,h))}),s}},{key:"nearestInputPos",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kt.NONE;if(!this._blocks.length)return 0;var s=new j$(this,i);if(o===kt.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.value.length;if(o===kt.LEFT||o===kt.FORCE_LEFT){if(o===kt.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===i)return i;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),o===kt.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=i||(s.popState(),s.ok&&s.pos<=i))return s.pos;s.popState()}return s.ok?s.pos:o===kt.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return o===kt.RIGHT||o===kt.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:o===kt.FORCE_RIGHT?this.value.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(i,kt.LEFT))):i}},{key:"maskedBlock",value:function(i){return this.maskedBlocks(i)[0]}},{key:"maskedBlocks",value:function(i){var o=this,s=this._maskedBlocks[i];return s?s.map(function(a){return o._blocks[a]}):[]}}]),n}(Bo);mi.DEFAULTS={lazy:!0,placeholderChar:"_"};mi.STOP_CHAR="`";mi.ESCAPE_CHAR="\\";mi.InputDefinition=ew;mi.FixedDefinition=nw;Zt.MaskedPattern=mi;var hu=function(t){zr(n,t);var e=qr(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ge(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(i){i=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},i);var o=String(i.to).length;i.maxLength!=null&&(o=Math.max(o,i.maxLength)),i.maxLength=o;for(var s=String(i.from).padStart(o,"0"),a=String(i.to).padStart(o,"0"),u=0;u<a.length&&a[u]===s[u];)++u;i.mask=a.slice(0,u).replace(/0/g,"\\0")+"0".repeat(o-u),Qt(Bt(n.prototype),"_update",this).call(this,i)}},{key:"isComplete",get:function(){return Qt(Bt(n.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(i){var o="",s="",a=i.match(/^(\D*)(\d*)(\D*)/)||[],u=si(a,3),c=u[1],h=u[2];return h&&(o="0".repeat(c.length)+h,s="9".repeat(c.length)+h),o=o.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[o,s]}},{key:"doPrepare",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,a=Ap(Qt(Bt(n.prototype),"doPrepare",this).call(this,i.replace(/\D/g,""),o)),u=si(a,2);if(i=u[0],s=u[1],!this.autofix||!i)return i;var c=String(this.from).padStart(this.maxLength,"0"),h=String(this.to).padStart(this.maxLength,"0"),p=this.value+i;if(p.length>this.maxLength)return"";var d=this.boundaries(p),g=si(d,2),y=g[0],m=g[1];return Number(m)<this.from?c[p.length-1]:Number(y)>this.to?this.autofix==="pad"&&p.length<this.maxLength?["",s.aggregate(this.append(c[p.length-1]+i,o))]:h[p.length-1]:i}},{key:"doValidate",value:function(){var i,o=this.value,s=o.search(/[^0]/);if(s===-1&&o.length<=this._matchFrom)return!0;for(var a=this.boundaries(o),u=si(a,2),c=u[0],h=u[1],p=arguments.length,d=new Array(p),g=0;g<p;g++)d[g]=arguments[g];return this.from<=Number(h)&&Number(c)<=this.to&&(i=Qt(Bt(n.prototype),"doValidate",this)).call.apply(i,[this].concat(d))}}]),n}(mi);Zt.MaskedRange=hu;var Tp=function(t){zr(n,t);var e=qr(n);function n(r){return $e(this,n),e.call(this,Object.assign({},n.DEFAULTS,r))}return Ge(n,[{key:"_update",value:function(i){i.mask===Date&&delete i.mask,i.pattern&&(i.mask=i.pattern);var o=i.blocks;i.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),i.min&&(i.blocks.Y.from=i.min.getFullYear()),i.max&&(i.blocks.Y.to=i.max.getFullYear()),i.min&&i.max&&i.blocks.Y.from===i.blocks.Y.to&&(i.blocks.m.from=i.min.getMonth()+1,i.blocks.m.to=i.max.getMonth()+1,i.blocks.m.from===i.blocks.m.to&&(i.blocks.d.from=i.min.getDate(),i.blocks.d.to=i.max.getDate())),Object.assign(i.blocks,this.blocks,o),Object.keys(i.blocks).forEach(function(s){var a=i.blocks[s];!("autofix"in a)&&"autofix"in i&&(a.autofix=i.autofix)}),Qt(Bt(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i,o=this.date,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(i=Qt(Bt(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.isComplete||this.isDateExist(this.value)&&o!=null&&(this.min==null||this.min<=o)&&(this.max==null||o<=this.max))}},{key:"isDateExist",value:function(i){return this.format(this.parse(i,this),this).indexOf(i)>=0}},{key:"date",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"typedValue",get:function(){return this.isComplete?Qt(Bt(n.prototype),"typedValue",this):null},set:function(i){li(Bt(n.prototype),"typedValue",i,this,!0)}},{key:"maskEquals",value:function(i){return i===Date||Qt(Bt(n.prototype),"maskEquals",this).call(this,i)}}]),n}(mi);Tp.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(e){if(!e)return"";var n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return[n,r,i].join(".")},parse:function(e){var n=e.split("."),r=si(n,3),i=r[0],o=r[1],s=r[2];return new Date(s,o-1,i)}};Tp.GET_DEFAULT_BLOCKS=function(){return{d:{mask:hu,from:1,to:31,maxLength:2},m:{mask:hu,from:1,to:12,maxLength:2},Y:{mask:hu,from:1900,to:9999}}};Zt.MaskedDate=Tp;var Sp=function(){function t(){$e(this,t)}return Ge(t,[{key:"selectionStart",get:function(){var n;try{n=this._unsafeSelectionStart}catch{}return n!=null?n:this.value.length}},{key:"selectionEnd",get:function(){var n;try{n=this._unsafeSelectionEnd}catch{}return n!=null?n:this.value.length}},{key:"select",value:function(n,r){if(!(n==null||r==null||n===this.selectionStart&&r===this.selectionEnd))try{this._unsafeSelect(n,r)}catch{}}},{key:"_unsafeSelect",value:function(n,r){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(n){}},{key:"unbindEvents",value:function(){}}]),t}();Zt.MaskElement=Sp;var Ec=function(t){zr(n,t);var e=qr(n);function n(r){var i;return $e(this,n),i=e.call(this),i.input=r,i._handlers={},i}return Ge(n,[{key:"rootElement",get:function(){var i,o,s;return(i=(o=(s=this.input).getRootNode)===null||o===void 0?void 0:o.call(s))!==null&&i!==void 0?i:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(i,o){this.input.setSelectionRange(i,o)}},{key:"value",get:function(){return this.input.value},set:function(i){this.input.value=i}},{key:"bindEvents",value:function(i){var o=this;Object.keys(i).forEach(function(s){return o._toggleEventHandler(n.EVENTS_MAP[s],i[s])})}},{key:"unbindEvents",value:function(){var i=this;Object.keys(this._handlers).forEach(function(o){return i._toggleEventHandler(o)})}},{key:"_toggleEventHandler",value:function(i,o){this._handlers[i]&&(this.input.removeEventListener(i,this._handlers[i]),delete this._handlers[i]),o&&(this.input.addEventListener(i,o),this._handlers[i]=o)}}]),n}(Sp);Ec.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};Zt.HTMLMaskElement=Ec;var rw=function(t){zr(n,t);var e=qr(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ge(n,[{key:"_unsafeSelectionStart",get:function(){var i=this.rootElement,o=i.getSelection&&i.getSelection(),s=o&&o.anchorOffset,a=o&&o.focusOffset;return a==null||s==null||s<a?s:a}},{key:"_unsafeSelectionEnd",get:function(){var i=this.rootElement,o=i.getSelection&&i.getSelection(),s=o&&o.anchorOffset,a=o&&o.focusOffset;return a==null||s==null||s>a?s:a}},{key:"_unsafeSelect",value:function(i,o){if(!!this.rootElement.createRange){var s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,i),s.setEnd(this.input.lastChild||this.input,o);var a=this.rootElement,u=a.getSelection&&a.getSelection();u&&(u.removeAllRanges(),u.addRange(s))}}},{key:"value",get:function(){return this.input.textContent},set:function(i){this.input.textContent=i}}]),n}(Ec);Zt.HTMLContenteditableMaskElement=rw;var Y$=["mask"],K$=function(){function t(e,n){$e(this,t),this.el=e instanceof Sp?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new rw(e):new Ec(e),this.masked=Mo(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ge(t,[{key:"mask",get:function(){return this.masked.mask},set:function(n){if(!this.maskEquals(n)){if(!(n instanceof Zt.Masked)&&this.masked.constructor===tw(n)){this.masked.updateOptions({mask:n});return}var r=Mo({mask:n});r.unmaskedValue=this.masked.unmaskedValue,this.masked=r}}},{key:"maskEquals",value:function(n){var r;return n==null||((r=this.masked)===null||r===void 0?void 0:r.maskEquals(n))}},{key:"value",get:function(){return this._value},set:function(n){this.masked.value=n,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(n){this.masked.unmaskedValue=n,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(n){this.masked.typedValue=n,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=this._listeners[n];!s||s.forEach(function(a){return a.apply(void 0,i)})}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(n){!this.el||!this.el.isActive||(this.el.select(n,n),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var n=this.masked.unmaskedValue,r=this.masked.value,i=this.unmaskedValue!==n||this.value!==r;this._unmaskedValue=n,this._value=r,this.el.value!==r&&(this.el.value=r),i&&this._fireChangeEvents()}},{key:"updateOptions",value:function(n){var r=n.mask,i=Va(n,Y$),o=!this.maskEquals(r),s=!yd(this.masked,i);o&&(this.mask=r),s&&this.masked.updateOptions(i),(o||s)&&this.updateControl()}},{key:"updateCursor",value:function(n){n!=null&&(this.cursorPos=n,this._delayUpdateCursor(n))}},{key:"_delayUpdateCursor",value:function(n){var r=this;this._abortUpdateCursor(),this._changingCursorPos=n,this._cursorChanging=setTimeout(function(){!r.el||(r.cursorPos=r._changingCursorPos,r._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,kt.LEFT))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(n,r){return this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r),this}},{key:"off",value:function(n,r){if(!this._listeners[n])return this;if(!r)return delete this._listeners[n],this;var i=this._listeners[n].indexOf(r);return i>=0&&this._listeners[n].splice(i,1),this}},{key:"_onInput",value:function(n){if(this._inputEvent=n,this._abortUpdateCursor(),!this._selection)return this.updateValue();var r=new G$(this.el.value,this.cursorPos,this.value,this._selection),i=this.masked.rawInputValue,o=this.masked.splice(r.startChangePos,r.removed.length,r.inserted,r.removeDirection).offset,s=i===this.masked.rawInputValue?r.removeDirection:kt.NONE,a=this.masked.nearestInputPos(r.startChangePos+o,s);s!==kt.NONE&&(a=this.masked.nearestInputPos(a,kt.NONE)),this.updateControl(),this.updateCursor(a),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_onFocus",value:function(n){this.alignCursorFriendly()}},{key:"_onClick",value:function(n){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),t}();Zt.InputMask=K$;var X$=function(t){zr(n,t);var e=qr(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ge(n,[{key:"_update",value:function(i){i.enum&&(i.mask="*".repeat(i.enum[0].length)),Qt(Bt(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i=this,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return this.enum.some(function(c){return c.indexOf(i.unmaskedValue)>=0})&&(o=Qt(Bt(n.prototype),"doValidate",this)).call.apply(o,[this].concat(a))}}]),n}(mi);Zt.MaskedEnum=X$;var iw=function(t){zr(n,t);var e=qr(n);function n(r){return $e(this,n),e.call(this,Object.assign({},n.DEFAULTS,r))}return Ge(n,[{key:"_update",value:function(i){Qt(Bt(n.prototype),"_update",this).call(this,i),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var i="^"+(this.allowNegative?"[+|\\-]?":""),o="(0|([1-9]+\\d*))?",s="\\d*",a=(this.scale?"("+Eh(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(i+o+a),this._numberRegExp=new RegExp(i+s+a),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Eh).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Eh(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(i){return i.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(i){var o=i.split(this.radix);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),o.join(this.radix)}},{key:"doPrepare",value:function(i){var o;i=i.replace(this._mapToRadixRegExp,this.radix);for(var s=this._removeThousandsSeparators(i),a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];var h=Ap((o=Qt(Bt(n.prototype),"doPrepare",this)).call.apply(o,[this,s].concat(u))),p=si(h,2),d=p[0],g=p[1];return i&&!s&&(g.skip=!0),[d,g]}},{key:"_separatorsCount",value:function(i){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=0,a=0;a<i;++a)this._value.indexOf(this.thousandsSeparator,a)===a&&(++s,o&&(i+=this.thousandsSeparator.length));return s}},{key:"_separatorsCountFromSlice",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(i).length,!0)}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2?arguments[2]:void 0,a=this._adjustRangeWithSeparators(i,o),u=si(a,2);return i=u[0],o=u[1],this._removeThousandsSeparators(Qt(Bt(n.prototype),"extractInput",this).call(this,i,o,s))}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return Qt(Bt(n.prototype),"_appendCharRaw",this).call(this,i,o);var s=o.tail&&o._beforeTailState?o._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);var u=Qt(Bt(n.prototype),"_appendCharRaw",this).call(this,i,o);this._value=this._insertThousandsSeparators(this._value);var c=o.tail&&o._beforeTailState?o._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(c);return u.tailShift+=(h-a)*this.thousandsSeparator.length,u.skip=!u.rawInserted&&i===this.thousandsSeparator,u}},{key:"_findSeparatorAround",value:function(i){if(this.thousandsSeparator){var o=i-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,o);if(s<=i)return s}return-1}},{key:"_adjustRangeWithSeparators",value:function(i,o){var s=this._findSeparatorAround(i);s>=0&&(i=s);var a=this._findSeparatorAround(o);return a>=0&&(o=a+this.thousandsSeparator.length),[i,o]}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=this._adjustRangeWithSeparators(i,o),a=si(s,2);i=a[0],o=a[1];var u=this.value.slice(0,i),c=this.value.slice(o),h=this._separatorsCount(u.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(u+c));var p=this._separatorsCountFromSlice(u);return new Ee({tailShift:(p-h)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(i,o){if(!this.thousandsSeparator)return i;switch(o){case kt.NONE:case kt.LEFT:case kt.FORCE_LEFT:{var s=this._findSeparatorAround(i-1);if(s>=0){var a=s+this.thousandsSeparator.length;if(i<a||this.value.length<=a||o===kt.FORCE_LEFT)return s}break}case kt.RIGHT:case kt.FORCE_RIGHT:{var u=this._findSeparatorAround(i);if(u>=0)return u+this.thousandsSeparator.length}}return i}},{key:"doValidate",value:function(i){var o=i.input?this._numberRegExpInput:this._numberRegExp,s=o.test(this._removeThousandsSeparators(this.value));if(s){var a=this.number;s=s&&!isNaN(a)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return s&&Qt(Bt(n.prototype),"doValidate",this).call(this,i)}},{key:"doCommit",value:function(){if(this.value){var i=this.number,o=i;this.min!=null&&(o=Math.max(o,this.min)),this.max!=null&&(o=Math.min(o,this.max)),o!==i&&(this.unmaskedValue=String(o));var s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}Qt(Bt(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(i){var o=this._removeThousandsSeparators(i).split(this.radix);return o[0]=o[0].replace(/^(\D*)(0*)(\d*)/,function(s,a,u,c){return a+c}),i.length&&!/\d$/.test(o[0])&&(o[0]=o[0]+"0"),o.length>1&&(o[1]=o[1].replace(/0*$/,""),o[1].length||(o.length=1)),this._insertThousandsSeparators(o.join(this.radix))}},{key:"_padFractionalZeros",value:function(i){if(!i)return i;var o=i.split(this.radix);return o.length<2&&o.push(""),o[1]=o[1].padEnd(this.scale,"0"),o.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(i){li(Bt(n.prototype),"unmaskedValue",i.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(i){li(Bt(n.prototype),"unmaskedValue",String(i),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"allowNegative",get:function(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}}]),n}(Bo);iw.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};Zt.MaskedNumber=iw;var Z$=function(t){zr(n,t);var e=qr(n);function n(){return $e(this,n),e.apply(this,arguments)}return Ge(n,[{key:"_update",value:function(i){i.mask&&(i.validate=i.mask),Qt(Bt(n.prototype),"_update",this).call(this,i)}}]),n}(Bo);Zt.MaskedFunction=Z$;var J$=["compiledMasks","currentMaskRef","currentMask"],ow=function(t){zr(n,t);var e=qr(n);function n(r){var i;return $e(this,n),i=e.call(this,Object.assign({},n.DEFAULTS,r)),i.currentMask=null,i}return Ge(n,[{key:"_update",value:function(i){Qt(Bt(n.prototype),"_update",this).call(this,i),"mask"in i&&(this.compiledMasks=Array.isArray(i.mask)?i.mask.map(function(o){return Mo(o)}):[])}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._applyDispatch(i,o);return this.currentMask&&s.aggregate(this.currentMask._appendChar(i,o)),s}},{key:"_applyDispatch",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.tail&&o._beforeTailState!=null?o._beforeTailState._value:this.value,a=this.rawInputValue,u=o.tail&&o._beforeTailState!=null?o._beforeTailState._rawInputValue:a,c=a.slice(u.length),h=this.currentMask,p=new Ee,d=h&&h.state;if(this.currentMask=this.doDispatch(i,Object.assign({},o)),this.currentMask)if(this.currentMask!==h){if(this.currentMask.reset(),u){var g=this.currentMask.append(u,{raw:!0});p.tailShift=g.inserted.length-s.length}c&&(p.tailShift+=this.currentMask.append(c,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=d;return p}},{key:"_appendPlaceholder",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendPlaceholder()),i}},{key:"_appendEager",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendEager()),i}},{key:"doDispatch",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.dispatch(i,this,o)}},{key:"doValidate",value:function(){for(var i,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return(i=Qt(Bt(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.currentMask||(o=this.currentMask).doValidate.apply(o,a))}},{key:"reset",value:function(){var i;(i=this.currentMask)===null||i===void 0||i.reset(),this.compiledMasks.forEach(function(o){return o.reset()})}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(i){li(Bt(n.prototype),"value",i,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(i){li(Bt(n.prototype),"unmaskedValue",i,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(i){var o=String(i);this.currentMask&&(this.currentMask.typedValue=i,o=this.currentMask.unmaskedValue),this.unmaskedValue=o}},{key:"isComplete",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isComplete)}},{key:"isFilled",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isFilled)}},{key:"remove",value:function(){var i=new Ee;if(this.currentMask){var o;i.aggregate((o=this.currentMask).remove.apply(o,arguments)).aggregate(this._applyDispatch())}return i}},{key:"state",get:function(){return Object.assign({},Qt(Bt(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(i){return i.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(i){var o=i.compiledMasks,s=i.currentMaskRef,a=i.currentMask,u=Va(i,J$);this.compiledMasks.forEach(function(c,h){return c.state=o[h]}),s!=null&&(this.currentMask=s,this.currentMask.state=a),li(Bt(n.prototype),"state",u,this,!0)}},{key:"extractInput",value:function(){var i;return this.currentMask?(i=this.currentMask).extractInput.apply(i,arguments):""}},{key:"extractTail",value:function(){for(var i,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return this.currentMask?(i=this.currentMask).extractTail.apply(i,a):(o=Qt(Bt(n.prototype),"extractTail",this)).call.apply(o,[this].concat(a))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Qt(Bt(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var i,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return this.currentMask?(i=this.currentMask).nearestInputPos.apply(i,a):(o=Qt(Bt(n.prototype),"nearestInputPos",this)).call.apply(o,[this].concat(a))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Qt(Bt(n.prototype),"overwrite",this)},set:function(i){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:Qt(Bt(n.prototype),"eager",this)},set:function(i){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}},{key:"maskEquals",value:function(i){return Array.isArray(i)&&this.compiledMasks.every(function(o,s){var a;return o.maskEquals((a=i[s])===null||a===void 0?void 0:a.mask)})}}]),n}(Bo);ow.DEFAULTS={dispatch:function(e,n,r){if(!!n.compiledMasks.length){var i=n.rawInputValue,o=n.compiledMasks.map(function(s,a){s.reset(),s.append(i,{raw:!0}),s.append(e,r);var u=s.rawInputValue.length;return{weight:u,index:a}});return o.sort(function(s,a){return a.weight-s.weight}),n.compiledMasks[o[0].index]}}};Zt.MaskedDynamic=ow;var _d={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function sw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_d.MASKED,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_d.MASKED,r=Mo(t);return function(i){return r.runIsolated(function(o){return o[e]=i,o[n]})}}function Q$(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return sw.apply(void 0,n)(t)}Zt.PIPE_TYPE=_d;Zt.createPipe=sw;Zt.pipe=Q$;try{globalThis.IMask=Zt}catch{}var tG=t=>{t.data("textInputFormComponent",({getMaskOptionsUsing:e,state:n})=>({mask:null,state:n,init:function(){var r;!e||(this.state&&(this.$el.value=(r=this.state)==null?void 0:r.valueOf()),this.mask=Zt(this.$el,e(Zt)).on("accept",()=>{this.state=this.mask.unmaskedValue}),this.$watch("state",()=>{var i,o;this.mask.unmaskedValue=(o=(i=this.state)==null?void 0:i.valueOf())!=null?o:""}))}}))},eG=t=>{t.data("textareaFormComponent",()=>({init:function(){this.$nextTick(()=>{this.render()})},render:function(){this.$el.scrollHeight>0&&(this.$el.style.height="150px",this.$el.style.height=this.$el.scrollHeight+2+"px")}}))};function hi(t){return t.split("-")[0]}function Es(t){return t.split("-")[1]}function Vs(t){return["top","bottom"].includes(hi(t))?"x":"y"}function Ip(t){return t==="y"?"height":"width"}function C_(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Vs(e),u=Ip(a),c=r[u]/2-i[u]/2,h=hi(e),p=a==="x";let d;switch(h){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(Es(e)){case"start":d[a]-=c*(n&&p?-1:1);break;case"end":d[a]+=c*(n&&p?-1:1);break}return d}var nG=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(e));if(s==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),o.filter(y=>{let{name:m}=y;return m==="autoPlacement"||m==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=C_(u,r,a),p=r,d={},g=0;for(let y=0;y<o.length;y++){if(g++,g>100)throw new Error(["Floating UI: The middleware lifecycle appears to be","running in an infinite loop. This is usually caused by a `reset`","continually being returned without a break condition."].join(" "));const{name:m,fn:_}=o[y],{x:E,y:w,data:v,reset:b}=await _({x:c,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:d,rects:u,platform:s,elements:{reference:t,floating:e}});if(c=E!=null?E:c,h=w!=null?w:h,d={...d,[m]:{...d[m],...v}},b){typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(u=b.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:c,y:h}=C_(u,p,a)),y=-1;continue}}return{x:c,y:h,placement:p,strategy:i,middlewareData:d}};function rG(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cp(t){return typeof t!="number"?rG(t):{top:t,right:t,bottom:t,left:t}}function Na(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function Fa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:d=!1,padding:g=0}=e,y=Cp(g),_=a[d?p==="floating"?"reference":"floating":p],E=Na(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),w=Na(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:u}):s[p]);return{top:E.top-w.top+y.top,bottom:w.bottom-E.bottom+y.bottom,left:E.left-w.left+y.left,right:w.right-E.right+y.right}}var aw=Math.min,lw=Math.max;function Ed(t,e,n){return lw(t,aw(e,n))}var uw=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t!=null?t:{},{x:i,y:o,placement:s,rects:a,platform:u}=e;if(n==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const c=Cp(r),h={x:i,y:o},p=Vs(s),d=Ip(p),g=await u.getDimensions(n),y=p==="y"?"top":"left",m=p==="y"?"bottom":"right",_=a.reference[d]+a.reference[p]-h[p]-a.floating[d],E=h[p]-a.reference[p],w=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n)),v=w?p==="y"?w.clientHeight||0:w.clientWidth||0:0,b=_/2-E/2,T=c[y],I=v-g[d]-c[m],S=v/2-g[d]/2+b,C=Ed(T,S,I);return{data:{[p]:C,centerOffset:S-C}}}}),iG={left:"right",right:"left",bottom:"top",top:"bottom"};function Fu(t){return t.replace(/left|right|bottom|top/g,e=>iG[e])}function cw(t,e,n){n===void 0&&(n=!1);const r=Es(t),i=Vs(t),o=Ip(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Fu(s)),{main:s,cross:Fu(s)}}var oG={start:"end",end:"start"};function bd(t){return t.replace(/start|end/g,e=>oG[e])}var fw=["top","right","bottom","left"],sG=fw.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function aG(t,e,n){return(t?[...n.filter(i=>Es(i)===t),...n.filter(i=>Es(i)!==t)]:n.filter(i=>hi(i)===i)).filter(i=>t?Es(i)===t||(e?bd(i)!==i:!1):!0)}var xp=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i,o,s;const{x:a,y:u,rects:c,middlewareData:h,placement:p,platform:d,elements:g}=e,{alignment:y=null,allowedPlacements:m=sG,autoAlignment:_=!0,...E}=t,w=aG(y,_,m),v=await Fa(e,E),b=(n=(r=h.autoPlacement)==null?void 0:r.index)!=null?n:0,T=w[b];if(T==null)return{};const{main:I,cross:S}=cw(T,c,await(d.isRTL==null?void 0:d.isRTL(g.floating)));if(p!==T)return{x:a,y:u,reset:{placement:w[0]}};const C=[v[hi(T)],v[I],v[S]],D=[...(i=(o=h.autoPlacement)==null?void 0:o.overflows)!=null?i:[],{placement:T,overflows:C}],N=w[b+1];if(N)return{data:{index:b+1,overflows:D},reset:{placement:N}};const P=D.slice().sort((M,k)=>M.overflows[0]-k.overflows[0]),L=(s=P.find(M=>{let{overflows:k}=M;return k.every(R=>R<=0)}))==null?void 0:s.placement,x=L!=null?L:P[0].placement;return x!==p?{data:{index:b+1,overflows:D},reset:{placement:x}}:{}}}};function lG(t){const e=Fu(t);return[bd(t),e,bd(e)]}var hw=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",flipAlignment:g=!0,...y}=t,m=hi(r),E=p||(m===s||!g?[Fu(s)]:lG(s)),w=[s,...E],v=await Fa(e,y),b=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&b.push(v[m]),h){const{main:D,cross:N}=cw(r,o,await(a.isRTL==null?void 0:a.isRTL(u.floating)));b.push(v[D],v[N])}if(T=[...T,{placement:r,overflows:b}],!b.every(D=>D<=0)){var I,S;const D=((I=(S=i.flip)==null?void 0:S.index)!=null?I:0)+1,N=w[D];if(N)return{data:{index:D,overflows:T},reset:{placement:N}};let P="bottom";switch(d){case"bestFit":{var C;const L=(C=T.map(x=>[x,x.overflows.filter(M=>M>0).reduce((M,k)=>M+k,0)]).sort((x,M)=>x[1]-M[1])[0])==null?void 0:C[0].placement;L&&(P=L);break}case"initialPlacement":P=s;break}if(r!==P)return{reset:{placement:P}}}return{}}}};function x_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function R_(t){return fw.some(e=>t[e]>=0)}var dw=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(r){const{rects:i}=r;switch(e){case"referenceHidden":{const o=await Fa(r,{...n,elementContext:"reference"}),s=x_(o,i.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:R_(s)}}}case"escaped":{const o=await Fa(r,{...n,altBoundary:!0}),s=x_(o,i.floating);return{data:{escapedOffsets:s,escaped:R_(s)}}}default:return{}}}}};function uG(t,e,n,r){r===void 0&&(r=!1);const i=hi(t),o=Es(t),s=Vs(t)==="x",a=["left","top"].includes(i)?-1:1,u=r&&s?-1:1,c=typeof n=="function"?n({...e,placement:t}):n;let{mainAxis:h,crossAxis:p,alignmentAxis:d}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return o&&typeof d=="number"&&(p=o==="end"?d*-1:d),s?{x:p*u,y:h*a}:{x:h*a,y:p*u}}var pw=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=e,u=uG(i,o,t,await(s.isRTL==null?void 0:s.isRTL(a.floating)));return{x:n+u.x,y:r+u.y,data:u}}}};function cG(t){return t==="x"?"y":"x"}var gw=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:E,y:w}=_;return{x:E,y:w}}},...u}=t,c={x:n,y:r},h=await Fa(e,u),p=Vs(hi(i)),d=cG(p);let g=c[p],y=c[d];if(o){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=g+h[_],v=g-h[E];g=Ed(w,g,v)}if(s){const _=d==="y"?"top":"left",E=d==="y"?"bottom":"right",w=y+h[_],v=y-h[E];y=Ed(w,y,v)}const m=a.fn({...e,[p]:g,[d]:y});return{...m,data:{x:m.x-n,y:m.y-r}}}}},mw=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:r,elements:i,rects:o,platform:s,strategy:a}=e,{padding:u=2,x:c,y:h}=t,p=Na(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:a}):o.reference),d=(n=await(s.getClientRects==null?void 0:s.getClientRects(i.reference)))!=null?n:[],g=Cp(u);function y(){if(d.length===2&&d[0].left>d[1].right&&c!=null&&h!=null){var _;return(_=d.find(E=>c>E.left-g.left&&c<E.right+g.right&&h>E.top-g.top&&h<E.bottom+g.bottom))!=null?_:p}if(d.length>=2){if(Vs(r)==="x"){const P=d[0],L=d[d.length-1],x=hi(r)==="top",M=P.top,k=L.bottom,R=x?P.left:L.left,B=x?P.right:L.right,$=B-R,H=k-M;return{top:M,bottom:k,left:R,right:B,width:$,height:H,x:R,y:M}}const E=hi(r)==="left",w=lw(...d.map(P=>P.right)),v=aw(...d.map(P=>P.left)),b=d.filter(P=>E?P.left===v:P.right===w),T=b[0].top,I=b[b.length-1].bottom,S=v,C=w,D=C-S,N=I-T;return{top:T,bottom:I,left:S,right:C,width:D,height:N,x:S,y:T}}return p}const m=await s.getElementRects({reference:{getBoundingClientRect:y},floating:i.floating,strategy:a});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};function vw(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function vi(t){if(t==null)return window;if(!vw(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wa(t){return vi(t).getComputedStyle(t)}function di(t){return vw(t)?"":t?(t.nodeName||"").toLowerCase():""}function Wr(t){return t instanceof vi(t).HTMLElement}function ji(t){return t instanceof vi(t).Element}function fG(t){return t instanceof vi(t).Node}function Rp(t){if(typeof ShadowRoot>"u")return!1;const e=vi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function bc(t){const{overflow:e,overflowX:n,overflowY:r}=Wa(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function hG(t){return["table","td","th"].includes(di(t))}function yw(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=Wa(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function _w(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var O_=Math.min,Ia=Math.max,Bu=Math.round;function pi(t,e,n){var r,i,o,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let u=1,c=1;e&&Wr(t)&&(u=t.offsetWidth>0&&Bu(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&Bu(a.height)/t.offsetHeight||1);const h=ji(t)?vi(t):window,p=!_w()&&n,d=(a.left+(p&&(r=(i=h.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,g=(a.top+(p&&(o=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/c,y=a.width/u,m=a.height/c;return{width:y,height:m,top:g,right:d+y,bottom:g+m,left:d,x:d,y:g}}function zi(t){return((fG(t)?t.ownerDocument:t.document)||window.document).documentElement}function wc(t){return ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ew(t){return pi(zi(t)).left+wc(t).scrollLeft}function dG(t){const e=pi(t);return Bu(e.width)!==t.offsetWidth||Bu(e.height)!==t.offsetHeight}function pG(t,e,n){const r=Wr(e),i=zi(e),o=pi(t,r&&dG(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((di(e)!=="body"||bc(i))&&(s=wc(e)),Wr(e)){const u=pi(e,!0);a.x=u.x+e.clientLeft,a.y=u.y+e.clientTop}else i&&(a.x=Ew(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function bw(t){return di(t)==="html"?t:t.assignedSlot||t.parentNode||(Rp(t)?t.host:null)||zi(t)}function D_(t){return!Wr(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function gG(t){let e=bw(t);for(Rp(e)&&(e=e.host);Wr(e)&&!["html","body"].includes(di(e));){if(yw(e))return e;e=e.parentNode}return null}function wd(t){const e=vi(t);let n=D_(t);for(;n&&hG(n)&&getComputedStyle(n).position==="static";)n=D_(n);return n&&(di(n)==="html"||di(n)==="body"&&getComputedStyle(n).position==="static"&&!yw(n))?e:n||gG(t)||e}function L_(t){if(Wr(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=pi(t);return{width:e.width,height:e.height}}function mG(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Wr(n),o=zi(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((di(n)!=="body"||bc(o))&&(s=wc(n)),Wr(n))){const u=pi(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}}function vG(t,e){const n=vi(t),r=zi(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const c=_w();(c||!c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}function yG(t){var e;const n=zi(t),r=wc(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ia(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ia(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+Ew(t);const u=-r.scrollTop;return Wa(i||n).direction==="rtl"&&(a+=Ia(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:u}}function ww(t){const e=bw(t);return["html","body","#document"].includes(di(e))?t.ownerDocument.body:Wr(e)&&bc(e)?e:ww(e)}function Uu(t,e){var n;e===void 0&&(e=[]);const r=ww(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=vi(r),s=i?[o].concat(o.visualViewport||[],bc(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Uu(s))}function _G(t,e){const n=e==null||e.getRootNode==null?void 0:e.getRootNode();if(t!=null&&t.contains(e))return!0;if(n&&Rp(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function EG(t,e){const n=pi(t,!1,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:r,left:i,x:i,y:r,right:i+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function M_(t,e,n){return e==="viewport"?Na(vG(t,n)):ji(e)?EG(e,n):Na(yG(zi(t)))}function bG(t){const e=Uu(t),r=["absolute","fixed"].includes(Wa(t).position)&&Wr(t)?wd(t):t;return ji(r)?e.filter(i=>ji(i)&&_G(i,r)&&di(i)!=="body"):[]}function wG(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?bG(e):[].concat(n),r],a=s[0],u=s.reduce((c,h)=>{const p=M_(e,h,i);return c.top=Ia(p.top,c.top),c.right=O_(p.right,c.right),c.bottom=O_(p.bottom,c.bottom),c.left=Ia(p.left,c.left),c},M_(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}var AG={getClippingRect:wG,convertOffsetParentRelativeRectToViewportRelativeRect:mG,isElement:ji,getDimensions:L_,getOffsetParent:wd,getDocumentElement:zi,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:pG(e,wd(n),r),floating:{...L_(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Wa(t).direction==="rtl"};function k_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r;let u=!1;const c=i&&!a,h=o&&!a,p=s&&!a,d=c||h?[...ji(t)?Uu(t):[],...Uu(e)]:[];d.forEach(E=>{c&&E.addEventListener("scroll",n,{passive:!0}),h&&E.addEventListener("resize",n)});let g=null;p&&(g=new ResizeObserver(n),ji(t)&&g.observe(t),g.observe(e));let y,m=a?pi(t):null;a&&_();function _(){if(u)return;const E=pi(t);m&&(E.x!==m.x||E.y!==m.y||E.width!==m.width||E.height!==m.height)&&n(),m=E,y=requestAnimationFrame(_)}return()=>{var E;u=!0,d.forEach(w=>{c&&w.removeEventListener("scroll",n),h&&w.removeEventListener("resize",n)}),(E=g)==null||E.disconnect(),g=null,a&&cancelAnimationFrame(y)}}var P_=(t,e,n)=>nG(t,e,{platform:AG,...n}),TG=t=>{const e={placement:"bottom",middleware:[]},n=Object.keys(t),r=i=>t[i];return n.includes("offset")&&e.middleware.push(pw(r("offset"))),n.includes("placement")&&(e.placement=r("placement")),n.includes("autoPlacement")&&!n.includes("flip")&&e.middleware.push(xp(r("autoPlacement"))),n.includes("flip")&&e.middleware.push(hw(r("flip"))),n.includes("shift")&&e.middleware.push(gw(r("shift"))),n.includes("inline")&&e.middleware.push(mw(r("inline"))),n.includes("arrow")&&e.middleware.push(uw(r("arrow"))),n.includes("hide")&&e.middleware.push(dw(r("hide"))),e},SG=(t,e)=>{const n={component:{trap:!1},float:{placement:"bottom",strategy:"absolute",middleware:[]}},r=i=>t[t.indexOf(i)+1];return t.includes("trap")&&(n.component.trap=!0),t.includes("teleport")&&(n.float.strategy="fixed"),t.includes("offset")&&n.float.middleware.push(pw(e.offset||10)),t.includes("placement")&&(n.float.placement=r("placement")),t.includes("autoPlacement")&&!t.includes("flip")&&n.float.middleware.push(xp(e.autoPlacement)),t.includes("flip")&&n.float.middleware.push(hw(e.flip)),t.includes("shift")&&n.float.middleware.push(gw(e.shift)),t.includes("inline")&&n.float.middleware.push(mw(e.inline)),t.includes("arrow")&&n.float.middleware.push(uw(e.arrow)),t.includes("hide")&&n.float.middleware.push(dw(e.hide)),n},IG=t=>{var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n="";t||(t=Math.floor(Math.random()*e.length));for(var r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n};function CG(t){const e={dismissable:!0,trap:!1};function n(o,s,a=null){if(!!s){if(s.hasAttribute("aria-expanded")||s.setAttribute("aria-expanded",!1),a.hasAttribute("id"))s.setAttribute("aria-controls",a.getAttribute("id"));else{const u=`panel-${IG(8)}`;s.setAttribute("aria-controls",u),a.setAttribute("id",u)}a.setAttribute("aria-modal",!0),a.setAttribute("role","dialog")}}const r=document.querySelectorAll('[\\@click^="$float"]'),i=document.querySelectorAll('[x-on\\:click^="$float"]');[...r,...i].forEach(o=>{const s=o.parentElement.closest("[x-data]"),a=s.querySelector('[x-ref="panel"]');n(s,o,a)}),t.magic("float",o=>(s={},a={})=>{const u={...e,...a},c=Object.keys(s).length>0?TG(s):{middleware:[xp()]},h=o,p=o.parentElement.closest("[x-data]"),d=p.querySelector('[x-ref="panel"]');function g(){return d.style.display=="block"}function y(){d.style.display="",h.setAttribute("aria-expanded",!1),u.trap&&d.setAttribute("x-trap",!1),k_(o,d,E)}function m(){d.style.display="block",h.setAttribute("aria-expanded",!0),u.trap&&d.setAttribute("x-trap",!0),E()}function _(){g()?y():m()}async function E(){return await P_(o,d,c).then(({middlewareData:w,placement:v,x:b,y:T})=>{var I,S;if(w.arrow){const C=(I=w.arrow)==null?void 0:I.x,D=(S=w.arrow)==null?void 0:S.y,N=c.middleware.filter(L=>L.name=="arrow")[0].options.element,P={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]];Object.assign(N.style,{left:C!=null?`${C}px`:"",top:D!=null?`${D}px`:"",right:"",bottom:"",[P]:"-4px"})}if(w.hide){const{referenceHidden:C}=w.hide;Object.assign(d.style,{visibility:C?"hidden":"visible"})}Object.assign(d.style,{left:`${b}px`,top:`${T}px`})})}u.dismissable&&(window.addEventListener("click",w=>{!p.contains(w.target)&&g()&&_()}),window.addEventListener("keydown",w=>{w.key==="Escape"&&g()&&_()},!0)),_()}),t.directive("float",(o,{modifiers:s,expression:a},{evaluate:u})=>{const c=a?u(a):{},h=s.length>0?SG(s,c):{};let p=null;h.float.strategy=="fixed"&&(o.style.position="fixed");const d=w=>o.parentElement&&!o.parentElement.closest("[x-data]").contains(w.target)?o.close():null,g=w=>w.key==="Escape"?o.close():null,y=o.getAttribute("x-ref"),m=o.parentElement.closest("[x-data]"),_=m.querySelectorAll(`[\\@click^="$refs.${y}"]`),E=m.querySelectorAll(`[x-on\\:click^="$refs.${y}"]`);n(m,[..._,...E][0],o),o.isOpen=!1,o.trigger=null,o.open=async function(w){o.trigger=w.currentTarget?w.currentTarget:w,o.isOpen=!0,o.style.display="block",o.trigger.setAttribute("aria-expanded",!0),h.component.trap&&o.setAttribute("x-trap",!0),p=k_(o.trigger,o,()=>{P_(o.trigger,o,h.float).then(({middlewareData:v,placement:b,x:T,y:I})=>{var S,C;if(v.arrow){const D=(S=v.arrow)==null?void 0:S.x,N=(C=v.arrow)==null?void 0:C.y,P=h.float.middleware.filter(x=>x.name=="arrow")[0].options.element,L={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];Object.assign(P.style,{left:D!=null?`${D}px`:"",top:N!=null?`${N}px`:"",right:"",bottom:"",[L]:"-4px"})}if(v.hide){const{referenceHidden:D}=v.hide;Object.assign(o.style,{visibility:D?"hidden":"visible"})}Object.assign(o.style,{left:`${T}px`,top:`${I}px`})})}),window.addEventListener("click",d),window.addEventListener("keydown",g,!0)},o.close=function(){o.isOpen=!1,o.style.display="",o.trigger.setAttribute("aria-expanded",!1),h.component.trap&&o.setAttribute("x-trap",!1),p(),window.removeEventListener("click",d),window.removeEventListener("keydown",g,!1)},o.toggle=function(w){o.isOpen?o.close():o.open(w)}})}var xG=CG;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){RG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function du(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(e){return typeof e}:du=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function RG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gi(){return gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gi.apply(this,arguments)}function OG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DG(t,e){if(t==null)return{};var n=OG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var LG="1.15.0";function ui(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var yi=ui(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ja=ui(/Edge/i),F_=ui(/firefox/i),Ca=ui(/safari/i)&&!ui(/chrome/i)&&!ui(/android/i),Aw=ui(/iP(ad|od|hone)/i),Tw=ui(/chrome/i)&&ui(/android/i),Sw={capture:!1,passive:!1};function ie(t,e,n){t.addEventListener(e,n,!yi&&Sw)}function ne(t,e,n){t.removeEventListener(e,n,!yi&&Sw)}function $u(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function MG(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ur(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&$u(t,e):$u(t,e))||r&&t===n)return t;if(t===n)break}while(t=MG(t))}return null}var B_=/\s+/g;function jn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(B_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(B_," ")}}function Pt(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function bs(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Pt(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Iw(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Hr(){var t=document.scrollingElement;return t||document.documentElement}function ze(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,s,a,u,c,h,p;if(t!==window&&t.parentNode&&t!==Hr()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,u=o.bottom,c=o.right,h=o.height,p=o.width):(s=0,a=0,u=window.innerHeight,c=window.innerWidth,h=window.innerHeight,p=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!yi))do if(i&&i.getBoundingClientRect&&(Pt(i,"transform")!=="none"||n&&Pt(i,"position")!=="static")){var d=i.getBoundingClientRect();s-=d.top+parseInt(Pt(i,"border-top-width")),a-=d.left+parseInt(Pt(i,"border-left-width")),u=s+o.height,c=a+o.width;break}while(i=i.parentNode);if(r&&t!==window){var g=bs(i||t),y=g&&g.a,m=g&&g.d;g&&(s/=m,a/=y,p/=y,h/=m,u=s+h,c=a+p)}return{top:s,left:a,bottom:u,right:c,width:p,height:h}}}function U_(t,e,n){for(var r=Ui(t,!0),i=ze(t)[e];r;){var o=ze(r)[n],s=void 0;if(n==="top"||n==="left"?s=i>=o:s=i<=o,!s)return r;if(r===Hr())break;r=Ui(r,!1)}return!1}function Ls(t,e,n,r){for(var i=0,o=0,s=t.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==Nt.ghost&&(r||s[o]!==Nt.dragged)&&Ur(s[o],n.draggable,t,!1)){if(i===e)return s[o];i++}o++}return null}function Op(t,e){for(var n=t.lastElementChild;n&&(n===Nt.ghost||Pt(n,"display")==="none"||e&&!$u(n,e));)n=n.previousElementSibling;return n||null}function fr(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Nt.clone&&(!e||$u(t,e))&&n++;return n}function $_(t){var e=0,n=0,r=Hr();if(t)do{var i=bs(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}function kG(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ui(t,e){if(!t||!t.getBoundingClientRect)return Hr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Pt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Hr();if(r||e)return n;r=!0}}while(n=n.parentNode);return Hr()}function PG(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function bh(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var xa;function Cw(t,e){return function(){if(!xa){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),xa=setTimeout(function(){xa=void 0},e)}}}function NG(){clearTimeout(xa),xa=void 0}function xw(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Rw(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var Yn="Sortable"+new Date().getTime();function FG(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Pt(i,"display")==="none"||i===Nt.ghost)){t.push({target:i,rect:ze(i)});var o=jr({},t[t.length-1].rect);if(i.thisAnimationDuration){var s=bs(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(kG(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,s=0;t.forEach(function(a){var u=0,c=a.target,h=c.fromRect,p=ze(c),d=c.prevFromRect,g=c.prevToRect,y=a.rect,m=bs(c,!0);m&&(p.top-=m.f,p.left-=m.e),c.toRect=p,c.thisAnimationDuration&&bh(d,p)&&!bh(h,p)&&(y.top-p.top)/(y.left-p.left)===(h.top-p.top)/(h.left-p.left)&&(u=UG(y,d,g,i.options)),bh(p,h)||(c.prevFromRect=h,c.prevToRect=p,u||(u=i.options.animation),i.animate(c,y,p,u)),u&&(o=!0,s=Math.max(s,u),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},u),c.thisAnimationDuration=u)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),t=[]},animate:function(r,i,o,s){if(s){Pt(r,"transition",""),Pt(r,"transform","");var a=bs(this.el),u=a&&a.a,c=a&&a.d,h=(i.left-o.left)/(u||1),p=(i.top-o.top)/(c||1);r.animatingX=!!h,r.animatingY=!!p,Pt(r,"transform","translate3d("+h+"px,"+p+"px,0)"),this.forRepaintDummy=BG(r),Pt(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),Pt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Pt(r,"transition",""),Pt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function BG(t){return t.offsetWidth}function UG(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var is=[],wh={initializeByDefault:!0},za={mount:function(e){for(var n in wh)wh.hasOwnProperty(n)&&!(n in e)&&(e[n]=wh[n]);is.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),is.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=e+"Global";is.forEach(function(s){!n[s.pluginName]||(n[s.pluginName][o]&&n[s.pluginName][o](jr({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][e]&&n[s.pluginName][e](jr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){is.forEach(function(a){var u=a.pluginName;if(!(!e.options[u]&&!a.initializeByDefault)){var c=new a(e,n,e.options);c.sortable=e,c.options=e.options,e[u]=c,gi(r,c.defaults)}});for(var o in e.options)if(!!e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s<"u"&&(e.options[o]=s)}},getEventProperties:function(e,n){var r={};return is.forEach(function(i){typeof i.eventProperties=="function"&&gi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return is.forEach(function(o){!e[o.pluginName]||o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(e[o.pluginName],r))}),i}};function $G(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,s=t.toEl,a=t.fromEl,u=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,p=t.newDraggableIndex,d=t.originalEvent,g=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[Yn],!!e){var m,_=e.options,E="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!yi&&!ja?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=s||n,m.from=a||n,m.item=i||n,m.clone=o,m.oldIndex=u,m.newIndex=c,m.oldDraggableIndex=h,m.newDraggableIndex=p,m.originalEvent=d,m.pullMode=g?g.lastPutMode:void 0;var w=jr(jr({},y),za.getEventProperties(r,e));for(var v in w)m[v]=w[v];n&&n.dispatchEvent(m),_[E]&&_[E].call(e,m)}}var GG=["evt"],Ln=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=DG(r,GG);za.pluginEvent.bind(Nt)(e,n,jr({dragEl:dt,parentEl:Ie,ghostEl:Vt,rootEl:_e,nextEl:_o,lastDownEl:pu,cloneEl:Te,cloneHidden:Ni,dragStarted:ga,putSortable:rn,activeSortable:Nt.active,originalEvent:i,oldIndex:gs,oldDraggableIndex:Ra,newIndex:zn,newDraggableIndex:ki,hideGhostForTarget:Mw,unhideGhostForTarget:kw,cloneNowHidden:function(){Ni=!0},cloneNowShown:function(){Ni=!1},dispatchSortableEvent:function(a){yn({sortable:n,name:a,originalEvent:i})}},o))};function yn(t){$G(jr({putSortable:rn,cloneEl:Te,targetEl:dt,rootEl:_e,oldIndex:gs,oldDraggableIndex:Ra,newIndex:zn,newDraggableIndex:ki},t))}var dt,Ie,Vt,_e,_o,pu,Te,Ni,gs,zn,Ra,ki,Kl,rn,ss=!1,Gu=!1,Hu=[],mo,_r,Ah,Th,G_,H_,ga,os,Oa,Da=!1,Xl=!1,gu,hn,Sh=[],Ad=!1,Vu=[],Ac=typeof document<"u",Zl=Aw,V_=ja||yi?"cssFloat":"float",HG=Ac&&!Tw&&!Aw&&"draggable"in document.createElement("div"),Ow=function(){if(!!Ac){if(yi)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Dw=function(e,n){var r=Pt(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Ls(e,0,n),s=Ls(e,1,n),a=o&&Pt(o),u=s&&Pt(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ze(o).width,h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+ze(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var p=a.float==="left"?"left":"right";return s&&(u.clear==="both"||u.clear===p)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[V_]==="none"||s&&r[V_]==="none"&&c+h>i)?"vertical":"horizontal"},VG=function(e,n,r){var i=r?e.left:e.top,o=r?e.right:e.bottom,s=r?e.width:e.height,a=r?n.left:n.top,u=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||o===u||i+s/2===a+c/2},WG=function(e,n){var r;return Hu.some(function(i){var o=i[Yn].options.emptyInsertThreshold;if(!(!o||Op(i))){var s=ze(i),a=e>=s.left-o&&e<=s.right+o,u=n>=s.top-o&&n<=s.bottom+o;if(a&&u)return r=i}}),r},Lw=function(e){function n(o,s){return function(a,u,c,h){var p=a.options.group.name&&u.options.group.name&&a.options.group.name===u.options.group.name;if(o==null&&(s||p))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,u,c,h),s)(a,u,c,h);var d=(s?a:u).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=e.group;(!i||du(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},Mw=function(){!Ow&&Vt&&Pt(Vt,"display","none")},kw=function(){!Ow&&Vt&&Pt(Vt,"display","")};Ac&&!Tw&&document.addEventListener("click",function(t){if(Gu)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Gu=!1,!1},!0);var vo=function(e){if(dt){e=e.touches?e.touches[0]:e;var n=WG(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Yn]._onDragOver(r)}}},jG=function(e){dt&&dt.parentNode[Yn]._isOutsideThisEl(e.target)};function Nt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=gi({},e),t[Yn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Dw(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Nt.supportPointer!==!1&&"PointerEvent"in window&&!Ca,emptyInsertThreshold:5};za.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);Lw(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:HG,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ie(t,"pointerdown",this._onTapStart):(ie(t,"mousedown",this._onTapStart),ie(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ie(t,"dragover",this),ie(t,"dragenter",this)),Hu.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),gi(this,FG())}Nt.prototype={constructor:Nt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(os=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,dt):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,h=i.filter;if(QG(r),!dt&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Ca&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Ur(u,i.draggable,r,!1),!(u&&u.animated)&&pu!==u)){if(gs=fr(u),Ra=fr(u,i.draggable),typeof h=="function"){if(h.call(this,e,u,this)){yn({sortable:n,rootEl:c,name:"filter",targetEl:u,toEl:r,fromEl:r}),Ln("filter",n,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(p){if(p=Ur(c,p.trim(),r,!1),p)return yn({sortable:n,rootEl:p,name:"filter",targetEl:u,fromEl:r,toEl:r}),Ln("filter",n,{evt:e}),!0}),h)){o&&e.cancelable&&e.preventDefault();return}i.handle&&!Ur(c,i.handle,r,!1)||this._prepareDragStart(e,a,u)}}},_prepareDragStart:function(e,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,u;if(r&&!dt&&r.parentNode===o){var c=ze(r);if(_e=o,dt=r,Ie=dt.parentNode,_o=dt.nextSibling,pu=r,Kl=s.group,Nt.dragged=dt,mo={target:dt,clientX:(n||e).clientX,clientY:(n||e).clientY},G_=mo.clientX-c.left,H_=mo.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,dt.style["will-change"]="all",u=function(){if(Ln("delayEnded",i,{evt:e}),Nt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!F_&&i.nativeDraggable&&(dt.draggable=!0),i._triggerDragStart(e,n),yn({sortable:i,name:"choose",originalEvent:e}),jn(dt,s.chosenClass,!0)},s.ignore.split(",").forEach(function(h){Iw(dt,h.trim(),Ih)}),ie(a,"dragover",vo),ie(a,"mousemove",vo),ie(a,"touchmove",vo),ie(a,"mouseup",i._onDrop),ie(a,"touchend",i._onDrop),ie(a,"touchcancel",i._onDrop),F_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dt.draggable=!0),Ln("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ja||yi))){if(Nt.eventCanceled){this._onDrop();return}ie(a,"mouseup",i._disableDelayedDrag),ie(a,"touchend",i._disableDelayedDrag),ie(a,"touchcancel",i._disableDelayedDrag),ie(a,"mousemove",i._delayedDragTouchMoveHandler),ie(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&ie(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,s.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dt&&Ih(dt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ne(e,"mouseup",this._disableDelayedDrag),ne(e,"touchend",this._disableDelayedDrag),ne(e,"touchcancel",this._disableDelayedDrag),ne(e,"mousemove",this._delayedDragTouchMoveHandler),ne(e,"touchmove",this._delayedDragTouchMoveHandler),ne(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?ie(document,"pointermove",this._onTouchMove):n?ie(document,"touchmove",this._onTouchMove):ie(document,"mousemove",this._onTouchMove):(ie(dt,"dragend",this),ie(_e,"dragstart",this._onDragStart));try{document.selection?mu(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ss=!1,_e&&dt){Ln("dragStarted",this,{evt:n}),this.nativeDraggable&&ie(document,"dragover",jG);var r=this.options;!e&&jn(dt,r.dragClass,!1),jn(dt,r.ghostClass,!0),Nt.active=this,e&&this._appendGhost(),yn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(_r){this._lastX=_r.clientX,this._lastY=_r.clientY,Mw();for(var e=document.elementFromPoint(_r.clientX,_r.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(_r.clientX,_r.clientY),e!==n);)n=e;if(dt.parentNode[Yn]._isOutsideThisEl(e),n)do{if(n[Yn]){var r=void 0;if(r=n[Yn]._onDragOver({clientX:_r.clientX,clientY:_r.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);kw()}},_onTouchMove:function(e){if(mo){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,s=Vt&&bs(Vt,!0),a=Vt&&s&&s.a,u=Vt&&s&&s.d,c=Zl&&hn&&$_(hn),h=(o.clientX-mo.clientX+i.x)/(a||1)+(c?c[0]-Sh[0]:0)/(a||1),p=(o.clientY-mo.clientY+i.y)/(u||1)+(c?c[1]-Sh[1]:0)/(u||1);if(!Nt.active&&!ss){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Vt){s?(s.e+=h-(Ah||0),s.f+=p-(Th||0)):s={a:1,b:0,c:0,d:1,e:h,f:p};var d="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");Pt(Vt,"webkitTransform",d),Pt(Vt,"mozTransform",d),Pt(Vt,"msTransform",d),Pt(Vt,"transform",d),Ah=h,Th=p,_r=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Vt){var e=this.options.fallbackOnBody?document.body:_e,n=ze(dt,!0,Zl,!0,e),r=this.options;if(Zl){for(hn=e;Pt(hn,"position")==="static"&&Pt(hn,"transform")==="none"&&hn!==document;)hn=hn.parentNode;hn!==document.body&&hn!==document.documentElement?(hn===document&&(hn=Hr()),n.top+=hn.scrollTop,n.left+=hn.scrollLeft):hn=Hr(),Sh=$_(hn)}Vt=dt.cloneNode(!0),jn(Vt,r.ghostClass,!1),jn(Vt,r.fallbackClass,!0),jn(Vt,r.dragClass,!0),Pt(Vt,"transition",""),Pt(Vt,"transform",""),Pt(Vt,"box-sizing","border-box"),Pt(Vt,"margin",0),Pt(Vt,"top",n.top),Pt(Vt,"left",n.left),Pt(Vt,"width",n.width),Pt(Vt,"height",n.height),Pt(Vt,"opacity","0.8"),Pt(Vt,"position",Zl?"absolute":"fixed"),Pt(Vt,"zIndex","100000"),Pt(Vt,"pointerEvents","none"),Nt.ghost=Vt,e.appendChild(Vt),Pt(Vt,"transform-origin",G_/parseInt(Vt.style.width)*100+"% "+H_/parseInt(Vt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,o=r.options;if(Ln("dragStart",this,{evt:e}),Nt.eventCanceled){this._onDrop();return}Ln("setupClone",this),Nt.eventCanceled||(Te=Rw(dt),Te.removeAttribute("id"),Te.draggable=!1,Te.style["will-change"]="",this._hideClone(),jn(Te,this.options.chosenClass,!1),Nt.clone=Te),r.cloneId=mu(function(){Ln("clone",r),!Nt.eventCanceled&&(r.options.removeCloneOnHide||_e.insertBefore(Te,dt),r._hideClone(),yn({sortable:r,name:"clone"}))}),!n&&jn(dt,o.dragClass,!0),n?(Gu=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ne(document,"mouseup",r._onDrop),ne(document,"touchend",r._onDrop),ne(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,dt)),ie(document,"drop",r),Pt(dt,"transform","translateZ(0)")),ss=!0,r._dragStartId=mu(r._dragStarted.bind(r,n,e)),ie(document,"selectstart",r),ga=!0,Ca&&Pt(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,o,s,a=this.options,u=a.group,c=Nt.active,h=Kl===u,p=a.sort,d=rn||c,g,y=this,m=!1;if(Ad)return;function _($,H){Ln($,y,jr({evt:e,isOwner:h,axis:g?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:p,fromSortable:d,target:r,completed:w,onMove:function(X,ft){return Jl(_e,n,dt,i,X,ze(X),e,ft)},changed:v},H))}function E(){_("dragOverAnimationCapture"),y.captureAnimationState(),y!==d&&d.captureAnimationState()}function w($){return _("dragOverCompleted",{insertion:$}),$&&(h?c._hideClone():c._showClone(y),y!==d&&(jn(dt,rn?rn.options.ghostClass:c.options.ghostClass,!1),jn(dt,a.ghostClass,!0)),rn!==y&&y!==Nt.active?rn=y:y===Nt.active&&rn&&(rn=null),d===y&&(y._ignoreWhileAnimating=r),y.animateAll(function(){_("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===dt&&!dt.animated||r===n&&!r.animated)&&(os=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(dt.parentNode[Yn]._isOutsideThisEl(e.target),!$&&vo(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function v(){zn=fr(dt),ki=fr(dt,a.draggable),yn({sortable:y,name:"change",toEl:n,newIndex:zn,newDraggableIndex:ki,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Ur(r,a.draggable,n,!0),_("dragOver"),Nt.eventCanceled)return m;if(dt.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||y._ignoreWhileAnimating===r)return w(!1);if(Gu=!1,c&&!a.disabled&&(h?p||(s=Ie!==_e):rn===this||(this.lastPutMode=Kl.checkPull(this,c,dt,e))&&u.checkPut(this,c,dt,e))){if(g=this._getDirection(e,r)==="vertical",i=ze(dt),_("dragOverValid"),Nt.eventCanceled)return m;if(s)return Ie=_e,E(),this._hideClone(),_("revert"),Nt.eventCanceled||(_o?_e.insertBefore(dt,_o):_e.appendChild(dt)),w(!0);var b=Op(n,a.draggable);if(!b||KG(e,g,this)&&!b.animated){if(b===dt)return w(!1);if(b&&n===e.target&&(r=b),r&&(o=ze(r)),Jl(_e,n,dt,i,r,o,e,!!r)!==!1)return E(),b&&b.nextSibling?n.insertBefore(dt,b.nextSibling):n.appendChild(dt),Ie=n,v(),w(!0)}else if(b&&YG(e,g,this)){var T=Ls(n,0,a,!0);if(T===dt)return w(!1);if(r=T,o=ze(r),Jl(_e,n,dt,i,r,o,e,!1)!==!1)return E(),n.insertBefore(dt,T),Ie=n,v(),w(!0)}else if(r.parentNode===n){o=ze(r);var I=0,S,C=dt.parentNode!==n,D=!VG(dt.animated&&dt.toRect||i,r.animated&&r.toRect||o,g),N=g?"top":"left",P=U_(r,"top","top")||U_(dt,"top","top"),L=P?P.scrollTop:void 0;os!==r&&(S=o[N],Da=!1,Xl=!D&&a.invertSwap||C),I=XG(e,r,o,g,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Xl,os===r);var x;if(I!==0){var M=fr(dt);do M-=I,x=Ie.children[M];while(x&&(Pt(x,"display")==="none"||x===Vt))}if(I===0||x===r)return w(!1);os=r,Oa=I;var k=r.nextElementSibling,R=!1;R=I===1;var B=Jl(_e,n,dt,i,r,o,e,R);if(B!==!1)return(B===1||B===-1)&&(R=B===1),Ad=!0,setTimeout(qG,30),E(),R&&!k?n.appendChild(dt):r.parentNode.insertBefore(dt,R?k:r),P&&xw(P,0,L-P.scrollTop),Ie=dt.parentNode,S!==void 0&&!Xl&&(gu=Math.abs(S-ze(r)[N])),v(),w(!0)}if(n.contains(dt))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ne(document,"mousemove",this._onTouchMove),ne(document,"touchmove",this._onTouchMove),ne(document,"pointermove",this._onTouchMove),ne(document,"dragover",vo),ne(document,"mousemove",vo),ne(document,"touchmove",vo)},_offUpEvents:function(){var e=this.el.ownerDocument;ne(e,"mouseup",this._onDrop),ne(e,"touchend",this._onDrop),ne(e,"pointerup",this._onDrop),ne(e,"touchcancel",this._onDrop),ne(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(zn=fr(dt),ki=fr(dt,r.draggable),Ln("drop",this,{evt:e}),Ie=dt&&dt.parentNode,zn=fr(dt),ki=fr(dt,r.draggable),Nt.eventCanceled){this._nulling();return}ss=!1,Xl=!1,Da=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Td(this.cloneId),Td(this._dragStartId),this.nativeDraggable&&(ne(document,"drop",this),ne(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ca&&Pt(document.body,"user-select",""),Pt(dt,"transform",""),e&&(ga&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Vt&&Vt.parentNode&&Vt.parentNode.removeChild(Vt),(_e===Ie||rn&&rn.lastPutMode!=="clone")&&Te&&Te.parentNode&&Te.parentNode.removeChild(Te),dt&&(this.nativeDraggable&&ne(dt,"dragend",this),Ih(dt),dt.style["will-change"]="",ga&&!ss&&jn(dt,rn?rn.options.ghostClass:this.options.ghostClass,!1),jn(dt,this.options.chosenClass,!1),yn({sortable:this,name:"unchoose",toEl:Ie,newIndex:null,newDraggableIndex:null,originalEvent:e}),_e!==Ie?(zn>=0&&(yn({rootEl:Ie,name:"add",toEl:Ie,fromEl:_e,originalEvent:e}),yn({sortable:this,name:"remove",toEl:Ie,originalEvent:e}),yn({rootEl:Ie,name:"sort",toEl:Ie,fromEl:_e,originalEvent:e}),yn({sortable:this,name:"sort",toEl:Ie,originalEvent:e})),rn&&rn.save()):zn!==gs&&zn>=0&&(yn({sortable:this,name:"update",toEl:Ie,originalEvent:e}),yn({sortable:this,name:"sort",toEl:Ie,originalEvent:e})),Nt.active&&((zn==null||zn===-1)&&(zn=gs,ki=Ra),yn({sortable:this,name:"end",toEl:Ie,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ln("nulling",this),_e=dt=Ie=Vt=_o=Te=pu=Ni=mo=_r=ga=zn=ki=gs=Ra=os=Oa=rn=Kl=Nt.dragged=Nt.ghost=Nt.clone=Nt.active=null,Vu.forEach(function(e){e.checked=!0}),Vu.length=Ah=Th=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":dt&&(this._onDragOver(e),zG(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],Ur(n,s.draggable,this.el,!1)&&e.push(n.getAttribute(s.dataIdAttr)||JG(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];Ur(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ur(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=za.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&Lw(r)},destroy:function(){Ln("destroy",this);var e=this.el;e[Yn]=null,ne(e,"mousedown",this._onTapStart),ne(e,"touchstart",this._onTapStart),ne(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ne(e,"dragover",this),ne(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Hu.splice(Hu.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ni){if(Ln("hideClone",this),Nt.eventCanceled)return;Pt(Te,"display","none"),this.options.removeCloneOnHide&&Te.parentNode&&Te.parentNode.removeChild(Te),Ni=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ni){if(Ln("showClone",this),Nt.eventCanceled)return;dt.parentNode==_e&&!this.options.group.revertClone?_e.insertBefore(Te,dt):_o?_e.insertBefore(Te,_o):_e.appendChild(Te),this.options.group.revertClone&&this.animate(dt,Te),Pt(Te,"display",""),Ni=!1}}};function zG(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Jl(t,e,n,r,i,o,s,a){var u,c=t[Yn],h=c.options.onMove,p;return window.CustomEvent&&!yi&&!ja?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=n,u.draggedRect=r,u.related=i||e,u.relatedRect=o||ze(e),u.willInsertAfter=a,u.originalEvent=s,t.dispatchEvent(u),h&&(p=h.call(c,u,s)),p}function Ih(t){t.draggable=!1}function qG(){Ad=!1}function YG(t,e,n){var r=ze(Ls(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function KG(t,e,n){var r=ze(Op(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function XG(t,e,n,r,i,o,s,a){var u=r?t.clientY:t.clientX,c=r?n.height:n.width,h=r?n.top:n.left,p=r?n.bottom:n.right,d=!1;if(!s){if(a&&gu<c*i){if(!Da&&(Oa===1?u>h+c*o/2:u<p-c*o/2)&&(Da=!0),Da)d=!0;else if(Oa===1?u<h+gu:u>p-gu)return-Oa}else if(u>h+c*(1-i)/2&&u<p-c*(1-i)/2)return ZG(e)}return d=d||s,d&&(u<h+c*o/2||u>p-c*o/2)?u>h+c/2?1:-1:0}function ZG(t){return fr(dt)<fr(t)?1:-1}function JG(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function QG(t){Vu.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Vu.push(r)}}function mu(t){return setTimeout(t,0)}function Td(t){return clearTimeout(t)}Ac&&ie(document,"touchmove",function(t){(Nt.active||ss)&&t.cancelable&&t.preventDefault()});Nt.utils={on:ie,off:ne,css:Pt,find:Iw,is:function(e,n){return!!Ur(e,n,e,!1)},extend:PG,throttle:Cw,closest:Ur,toggleClass:jn,clone:Rw,index:fr,nextTick:mu,cancelNextTick:Td,detectDirection:Dw,getChild:Ls};Nt.get=function(t){return t[Yn]};Nt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Nt.utils=jr(jr({},Nt.utils),r.utils)),za.mount(r)})};Nt.create=function(t,e){return new Nt(t,e)};Nt.version=LG;var Ne=[],ma,Sd,Id=!1,Ch,xh,Wu,va;function tH(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?ie(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ie(document,"pointermove",this._handleFallbackAutoScroll):r.touches?ie(document,"touchmove",this._handleFallbackAutoScroll):ie(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ne(document,"dragover",this._handleAutoScroll):(ne(document,"pointermove",this._handleFallbackAutoScroll),ne(document,"touchmove",this._handleFallbackAutoScroll),ne(document,"mousemove",this._handleFallbackAutoScroll)),W_(),vu(),NG()},nulling:function(){Wu=Sd=ma=Id=va=Ch=xh=null,Ne.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Wu=n,r||this.options.forceAutoScrollFallback||ja||yi||Ca){Rh(n,this.options,a,r);var u=Ui(a,!0);Id&&(!va||o!==Ch||s!==xh)&&(va&&W_(),va=setInterval(function(){var c=Ui(document.elementFromPoint(o,s),!0);c!==u&&(u=c,vu()),Rh(n,i.options,c,r)},10),Ch=o,xh=s)}else{if(!this.options.bubbleScroll||Ui(a,!0)===Hr()){vu();return}Rh(n,this.options,Ui(a,!1),!1)}}},gi(t,{pluginName:"scroll",initializeByDefault:!0})}function vu(){Ne.forEach(function(t){clearInterval(t.pid)}),Ne=[]}function W_(){clearInterval(va)}var Rh=Cw(function(t,e,n,r){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,a=e.scrollSpeed,u=Hr(),c=!1,h;Sd!==n&&(Sd=n,vu(),ma=e.scroll,h=e.scrollFn,ma===!0&&(ma=Ui(n,!0)));var p=0,d=ma;do{var g=d,y=ze(g),m=y.top,_=y.bottom,E=y.left,w=y.right,v=y.width,b=y.height,T=void 0,I=void 0,S=g.scrollWidth,C=g.scrollHeight,D=Pt(g),N=g.scrollLeft,P=g.scrollTop;g===u?(T=v<S&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),I=b<C&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(T=v<S&&(D.overflowX==="auto"||D.overflowX==="scroll"),I=b<C&&(D.overflowY==="auto"||D.overflowY==="scroll"));var L=T&&(Math.abs(w-i)<=s&&N+v<S)-(Math.abs(E-i)<=s&&!!N),x=I&&(Math.abs(_-o)<=s&&P+b<C)-(Math.abs(m-o)<=s&&!!P);if(!Ne[p])for(var M=0;M<=p;M++)Ne[M]||(Ne[M]={});(Ne[p].vx!=L||Ne[p].vy!=x||Ne[p].el!==g)&&(Ne[p].el=g,Ne[p].vx=L,Ne[p].vy=x,clearInterval(Ne[p].pid),(L!=0||x!=0)&&(c=!0,Ne[p].pid=setInterval(function(){r&&this.layer===0&&Nt.active._onTouchMove(Wu);var k=Ne[this.layer].vy?Ne[this.layer].vy*a:0,R=Ne[this.layer].vx?Ne[this.layer].vx*a:0;typeof h=="function"&&h.call(Nt.dragged.parentNode[Yn],R,k,t,Wu,Ne[this.layer].el)!=="continue"||xw(Ne[this.layer].el,R,k)}.bind({layer:p}),24))),p++}while(e.bubbleScroll&&d!==u&&(d=Ui(d,!1)));Id=c}},30),Pw=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(!!n){var c=r||o;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,p=document.elementFromPoint(h.clientX,h.clientY);u(),c&&!c.el.contains(p)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Dp(){}Dp.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Ls(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Pw};gi(Dp,{pluginName:"revertOnSpill"});function Lp(){}Lp.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Pw};gi(Lp,{pluginName:"removeOnSpill"});Nt.mount(new tH);Nt.mount(Lp,Dp);var Nw=Nt;window.Sortable=Nw;window.Livewire.directive("sortable",t=>{t.sortable=Nw.create(t,{draggable:"[wire\\:sortable\\.item]",handle:"[wire\\:sortable\\.handle]",dataIdAttr:"wire:sortable.item"})});var eH=t=>{t.plugin(IM),t.plugin(DM),t.plugin(aU),t.plugin(lU),t.plugin(I$),t.plugin(C$),t.plugin(R$),t.plugin(O$),t.plugin(tG),t.plugin(eG),t.plugin(xG)};uc.plugin(mL);uc.plugin(eH);window.Alpine=uc;uc.start();
